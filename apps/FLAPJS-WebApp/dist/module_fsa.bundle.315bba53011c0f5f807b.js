(window.webpackJsonp=window.webpackJsonp||[]).push([[2],Array(169).concat([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,u(e).call(this,t))).x=r,n.y=o,n._label="",n}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(r=[{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return t.x=this.x,t.y=this.y,t}},{key:"setNodeLabel",value:function(t){return this._label=t,this}},{key:"getNodeLabel",value:function(){return this._label}},{key:"getNodeSize",value:function(){return 16}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?a(u(e.prototype),"getHashString",this).call(this,t)+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:a(u(e.prototype),"getHashString",this).call(this,t)+":"+this._label}}])&&o(n.prototype,r),s&&o(n,s),e}(n(173).a);e.a=s},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=i(this,u(e).call(this,t)))._from=n,r._to=o,r._label="",r}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(r=[{key:"setEdgeFrom",value:function(t){if(!t)throw new Error("Source of edge cannot be null");return this._from=t,this}},{key:"setEdgeTo",value:function(t){return this._to=t,this}},{key:"setEdgeLabel",value:function(t){return this._label=t,this}},{key:"getEdgeDirection",value:function(){var t=this._from,e=this._to,n=Math.PI/2,r=0;if(this.isPlaceholder())r=Math.PI/4;else{var o=e.y-t.y,i=e.x-t.x;r=Math.atan2(o,i)}return(r>n||r<-n)&&(r+=Math.PI),r}},{key:"getStartPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from;return t.x=e.x,t.y=e.y,t}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(this.isPlaceholder()){var r=this.getPlaceholderLength()/2;t.x=e.x+r,t.y=e.y+r}else t.x=e.x+(n.x-e.x)/2,t.y=e.y+(n.y-e.y)/2;return t}},{key:"getEndPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var e=this._from,n=this.getPlaceholderLength();t.x=e.x+n,t.y=e.y+n}else{var r=this._to;t.x=r.x,t.y=r.y}return t}},{key:"getPlaceholderLength",value:function(){return this._from.getNodeSize()}},{key:"isPlaceholder",value:function(){return null===this._to}},{key:"isSelfLoop",value:function(){return this._from===this._to}},{key:"getEdgeLabel",value:function(){return this._label}},{key:"getEdgeFrom",value:function(){return this._from}},{key:"getEdgeTo",value:function(){return this._to}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._from?this._from.getHashString(t):"",r=this._to?this._to.getHashString?this._to.getHashString(t):"0":"";return a(u(e.prototype),"getHashString",this).call(this,t)+":"+n+","+r+"."+this._label}}])&&o(n.prototype,r),s&&o(n,s),e}(n(173).a);e.a=s},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"onPreInputEvent",value:function(t){return!1}},{key:"onInputEvent",value:function(t){return!1}},{key:"onAltInputEvent",value:function(t){return!1}},{key:"onDblInputEvent",value:function(t){return!1}},{key:"onMoveInputEvent",value:function(t){return!1}},{key:"onDragStart",value:function(t){return!1}},{key:"onDragMove",value:function(t){}},{key:"onDragStop",value:function(t){}},{key:"onPostInputEvent",value:function(t){}},{key:"onZoomChange",value:function(t,e,n){return!1}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c="node",f=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:t.position.x,cy:t.position.y,r:t.radius,fill:t.color,stroke:t.outline}),(t.onMouseOver||t.onMouseOut)&&o.a.createElement("circle",{cx:t.position.x,cy:t.position.y,r:t.radius+4,fill:"transparent",cursor:"pointer",onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,pointerEvents:t.pointerEvents}))},p=function(t){return o.a.createElement("text",{x:t.position.x,y:t.position.y+4,pointerEvents:"none",style:{userSelect:"none",fontSize:"".concat(1-Math.min(Math.max(t.label.length-2,0)/6,.5),"em")},textAnchor:"middle",fill:t.color},t.label)},h=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.position,e=this.props.radius||16,n=this.props.label||"",r=this.props.color||"#FFFFFF",i=this.props.outline||"#000000",a=this.props.onMouseOver,u=this.props.onMouseOut,l=this.props.pointerEvents||"visiblePainted",s=f,h=p;return o.a.createElement("g",null,s&&o.a.createElement(s,{position:t,radius:e,color:r,outline:i,onMouseOver:a?function(t){(t.target.value||(t.target.value={})).type=c,a(t)}:null,onMouseOut:u?function(t){(t.target.value||(t.target.value={})).type=c,u(t)}:null,pointerEvents:l}),h&&o.a.createElement(h,{position:t,label:n,color:i}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.Component);e.b=h},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=e}var e,n,o;return e=t,(n=[{key:"setGraphElementID",value:function(t){return this._id=t,this}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return t.x=t.y=0,t}},{key:"getGraphElementID",value:function(){return this._id}},{key:"getHashString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0],this._id}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return f}));var r=n(173),o=n(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}var c="&empty",f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u(this,t),this._label=e,this._src=n,this._id=n instanceof r.a?n.getGraphElementID():Object(o.c)()}return s(t,[{key:"copy",value:function(){var e=new t;return e._label=this._label,e._src=this._src,e._id=this._id,e}},{key:"getStateLabel",value:function(){return this._label}},{key:"getStateID",value:function(){return this._id}},{key:"getSource",value:function(){return this._src}},{key:"getHashString",value:function(){return this._id}}]),t}(),p=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];u(this,t),this._from=e,this._to=n,this._symbols=r}return s(t,[{key:"copy",value:function(){var e=new t;return e._from=this._from,e._to=this._to,e._symbols=this._symbols.slice(),e}},{key:"getSourceState",value:function(){return this._from}},{key:"getDestinationState",value:function(){return this._to}},{key:"addSymbol",value:function(t){this._symbols.push(t)}},{key:"hasSymbol",value:function(t){return this._symbols.includes(t)}},{key:"getSymbols",value:function(){return this._symbols}},{key:"getHashString",value:function(){return this._from.getHashString()+":"+this._symbols.join(",")+":"+this._to.getHashString()}}]),t}(),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u(this,t),this._states=new Map,this._alphabet=new Map,this._transitions=new Map,this._finalStates=new Set,this._customSymbols=new Set,this._startState=null,this._deterministic=e,this._errors=[]}return s(t,[{key:"copy",value:function(t){if(t!==this){this.clear();var e=!0,n=!1,r=void 0;try{for(var o,i=t._states.entries()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var u=a(o.value,2),l=u[0],s=u[1],c=s.copy();this._states.set(l,c),t.isStartState(s)&&(this._startState=c),t.isFinalState(s)&&this._finalStates.add(c)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}var f=!0,p=!1,h=void 0;try{for(var y,v=t._alphabet.entries()[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var b=a(y.value,2),d=b[0],g=b[1];this._alphabet.set(d,g)}}catch(t){p=!0,h=t}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}var m=!0,_=!1,w=void 0;try{for(var S,E=t._transitions.entries()[Symbol.iterator]();!(m=(S=E.next()).done);m=!0){var O=a(S.value,2),k=O[0],C=O[1],j=C.copy();j._from=this._states.get(C.getSourceState().getStateID()),j._to=this._states.get(C.getDestinationState().getStateID()),this._transitions.set(k,j)}}catch(t){_=!0,w=t}finally{try{m||null==E.return||E.return()}finally{if(_)throw w}}var x=!0,P=!1,T=void 0;try{for(var M,N=t._customSymbols[Symbol.iterator]();!(x=(M=N.next()).done);x=!0){var L=M.value;this._customSymbols.add(L)}}catch(t){P=!0,T=t}finally{try{x||null==N.return||N.return()}finally{if(P)throw T}}this._deterministic=t._deterministic;var I=!0,A=!1,D=void 0;try{for(var F,B=t._errors[Symbol.iterator]();!(I=(F=B.next()).done);I=!0){var R=F.value;this._errors.push(R)}}catch(t){A=!0,D=t}finally{try{I||null==B.return||B.return()}finally{if(A)throw D}}}}},{key:"clear",value:function(){this._states.clear(),this._alphabet.clear(),this._transitions.clear(),this._finalStates.clear(),this._customSymbols.clear(),this._startState=null,this._errors.length=0}},{key:"setDeterministic",value:function(t){this._deterministic=t}},{key:"isDeterministic",value:function(){return this._deterministic}},{key:"validate",value:function(){if(this._errors.length=0,this._deterministic){var t=new Map,e=!0,n=!1,r=void 0;try{for(var o,i=this._alphabet.keys()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;t.set(a,!1)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}var u=!0,l=!1,s=void 0;try{for(var c,f=this._states.values()[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value,h=this.getOutgoingTransitions(p),y=!0,v=!1,b=void 0;try{for(var d,g=h[Symbol.iterator]();!(y=(d=g.next()).done);y=!0){var m=d.value[1];if(t.get(m))return this._errors.push("duplicate symbol: "+m),!1;t.set(m,!0)}}catch(t){v=!0,b=t}finally{try{y||null==g.return||g.return()}finally{if(v)throw b}}var _=!0,w=!1,S=void 0;try{for(var E,O=t.keys()[Symbol.iterator]();!(_=(E=O.next()).done);_=!0){var k=E.value;if(!t.get(k))return this._errors.push("missing symbol: "+k),!1;t.set(k,!1)}}catch(t){w=!0,S=t}finally{try{_||null==O.return||O.return()}finally{if(w)throw S}}}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}return this._errors.length=0,!0}return this._errors.length=0,!0}},{key:"isValid",value:function(){return 0==this._errors.length}},{key:"getErrors",value:function(){return this._errors}},{key:"createState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.addState(new f(t))}},{key:"addState",value:function(t){var e=t.getStateID();if(this._states.has(e))throw new Error("Already added state with id '"+e+"'");return this._states.size<=0&&(this._startState=t),this._states.set(e,t),t}},{key:"removeState",value:function(t){var e=t.getStateID();return!!this._states.has(e)&&(this._states.delete(e),this._startState===t&&(this._states.size<=0?this._startState=null:this._startState=this._states.values().next().value),!0)}},{key:"hasStateWithLabel",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._states.values()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){if(o.value.getStateLabel()==t)return!0}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return!1}},{key:"getStatesByLabel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this._states.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getStateLabel()==t&&e.push(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"getStateByID",value:function(t){return this._states.get(t)}},{key:"hasState",value:function(t){return this._states.has(t.getStateID())}},{key:"getStates",value:function(){return this._states.values()}},{key:"getStateCount",value:function(){return this._states.size}},{key:"addTransition",value:function(t,e,n){if(!this.hasState(t))throw new Error("Trying to add a transition to unknown state with label '"+t.getStateLabel()+"'");if(!this.hasState(e))throw new Error("Trying to add a transition to unknown state with label '"+e.getStateLabel()+"'");if(!n)throw new Error("Cannot add transition for null symbol - use the empty symbol instead");var r=t.getStateID()+"->"+e.getStateID();if(this._transitions.has(r)){var o=this._transitions.get(r);if(o.hasSymbol(n))return!1;o.addSymbol(n)}else this._transitions.set(r,new p(t,e,[n]));return this._incrSymbolCount(n),!0}},{key:"removeTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.getStateID()+"->"+e.getStateID();if(!this._transitions.has(r))return!1;var o=this._transitions.get(r),i=o.getSymbols();if(n){var a=i.indexOf(n);return a>=0&&(this._decrSymbolCount(n),i.splice(a,1),i.length<=0&&this._transitions.delete(r),!0)}var u=!0,l=!1,s=void 0;try{for(var c,f=i[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;this._decrSymbolCount(p)}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}return this._transitions.delete(r),!0}},{key:"hasTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.getStateID()+"->"+e.getStateID();return!!this._transitions.has(r)&&(!n||this._transitions.get(r).hasSymbol(n))}},{key:"getTransitionSymbols",value:function(t,e){var n=t.getStateID()+"->"+e.getStateID();return this._transitions.has(n)?this._transitions.get(n).getSymbols():null}},{key:"getTransitions",value:function(){return this._transitions.values()}},{key:"_incrSymbolCount",value:function(t){if(t!==c){var e=this._alphabet.get(t)||0;this._alphabet.set(t,e+1)}}},{key:"_decrSymbolCount",value:function(t){if(!this._alphabet.has(t))throw new Error("Unable to find valid transition symbol in alphabet");if(t!==c){var e=this._alphabet.get(t);e<=1?this.isCustomSymbol(t)?this._alphabet.set(t,0):this._alphabet.delete(t):this._alphabet.set(t,e-1)}}},{key:"changeSymbol",value:function(t,e){if(t===c)throw new Error("Cannot change the empty symbol");if(e===c)throw new Error("Cannot change to the empty symbol");if(this._alphabet.has(e))throw new Error("Cannot change symbol to another existing symbol");var n=!0,r=!1,o=void 0;try{for(var i,a=this._transitions.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.getSymbols(),l=u.indexOf(t);l>=0&&(u[l]=e)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var s=this._alphabet.get(t);this._alphabet.set(e,s),this._alphabet.delete(t),this._customSymbols.has(t)&&(this._customSymbols.delete(t),this._customSymbols.add(e))}},{key:"removeSymbol",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,u=this._transitions.entries()[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=a(i.value,2),s=l[0],f=l[1].getSymbols(),p=f.indexOf(t);p>=0&&(f.splice(p,1),f.length<=0&&e.push(s))}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}for(var h=0,y=e;h<y.length;h++){var v=y[h];this._transitions.delete(v)}t!==c&&(this._customSymbols.has(t)?this._alphabet.set(t,0):this._alphabet.delete(t))}},{key:"setCustomSymbol",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t===c)throw new Error("Cannot change the empty symbol as a custom symbol");e?this._customSymbols.has(t)||(this._customSymbols.add(t),this._alphabet.has(t)||this._alphabet.set(t,0)):this._customSymbols.has(t)&&(this._customSymbols.delete(t),this._alphabet.has(t)&&this._alphabet.get(t)<=0&&this._alphabet.delete(t))}},{key:"isCustomSymbol",value:function(t){return this._customSymbols.has(t)}},{key:"getCustomSymbols",value:function(){return this._customSymbols}},{key:"clearCustomSymbols",value:function(){this._customSymbols.clear()}},{key:"isUsedSymbol",value:function(t){return this._alphabet.has(t)&&this._alphabet.get(t)>0}},{key:"isSymbol",value:function(t){return this._alphabet.has(t)}},{key:"getAlphabet",value:function(){return this._alphabet.keys()}},{key:"setStartState",value:function(t){var e=t.getStateID();this._states.has(e)||this._states.set(e,t),this._startState=t}},{key:"isStartState",value:function(t){return this._startState===t}},{key:"getStartState",value:function(){return this._startState}},{key:"setFinalState",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e)this._states.has(t.getStateID())||this.addState(t),this._finalStates.add(t);else{if(!this._states.has(t.getStateID()))throw new Error("Trying to change final for missing state '"+t.getStateLabel()+"'");this._finalStates.delete(t)}}},{key:"isFinalState",value:function(t){return this._finalStates.has(t)}},{key:"getFinalStates",value:function(){return this._finalStates}},{key:"doTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!t)return r;if(!(t instanceof f))throw new Error("Invalid state instance type '"+i(t)+"'");if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e=c);var o=t.getStateID()+"->",a=!0,u=!1,l=void 0;try{for(var s,p=this._transitions.keys()[Symbol.iterator]();!(a=(s=p.next()).done);a=!0){var h=s.value;if(h.startsWith(o)){var y=this._transitions.get(h);if(y.hasSymbol(e)&&(r.push(y.getDestinationState()),!n&&this._deterministic))return r}}}catch(t){u=!0,l=t}finally{try{a||null==p.return||p.return()}finally{if(u)throw l}}return r}},{key:"doTerminalTransition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t)return n;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");e||(e=c);var r=t.getStateID()+"->",o=!0,i=!1,a=void 0;try{for(var u,l=this._transitions.keys()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;if(s.startsWith(r)){var f=this._transitions.get(s);if(f.hasSymbol(e)){var p=f.getDestinationState(),h=this.doClosureTransition(p),y=!0,v=!1,b=void 0;try{for(var d,g=h[Symbol.iterator]();!(y=(d=g.next()).done);y=!0){var m=d.value;n.includes(m)||n.push(m)}}catch(t){v=!0,b=t}finally{try{y||null==g.return||g.return()}finally{if(v)throw b}}}}}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"doClosureTransition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return e;e.push(t);for(var n=0;n<e.length;++n){var r=this.getOutgoingTransitions(e[n]),o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;if(s[1]===c){var f=s[2];e.includes(f)||e.push(f)}}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}return e}},{key:"getOutgoingTransitions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return e;if(!this._states.has(t.getStateID()))throw new Error("Unable to find source state with id '"+t.getStateID()+"'");var n=t.getStateID()+"->",r=!0,o=!1,i=void 0;try{for(var a,u=this._transitions.keys()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(l.startsWith(n)){var s=this._transitions.get(l),c=s.getSymbols(),f=!0,p=!1,h=void 0;try{for(var y,v=c[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var b=y.value;e.push([t,b,s.getDestinationState()])}}catch(t){p=!0,h=t}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}}}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}},{key:"getHashCode",value:function(){var t="",e=!0,n=!1,r=void 0;try{for(var i,a=this._states.values()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){t+=i.value.getHashString()+","}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}t+="|";var u=!0,l=!1,s=void 0;try{for(var c,f=this._transitions.values()[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){t+=c.value.getHashString()+","}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}t+="|";var p=!0,h=!1,y=void 0;try{for(var v,b=this._finalStates[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){t+=v.value.getHashString()}}catch(t){h=!0,y=t}finally{try{p||null==b.return||b.return()}finally{if(h)throw y}}return t+="|",t+=this._startState?this._startState.getHashString():"",t+="|",t+=this._deterministic?"d":"n",Object(o.e)(t)}}]),t}();e.c=h},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return f}));var r=n(181);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=" ",f="ε",p=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,l(e).call(this,t,n,r))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"setEdgeLabel",value:function(t){"string"==typeof t?u(l(e.prototype),"setEdgeLabel",this).call(this,t):u(l(e.prototype),"setEdgeLabel",this).call(this,f)}}])&&i(n.prototype,r),o&&i(n,o),e}(r.a);e.c=p},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(178),o=n(179),i=n(189);function a(t,e){return u(t.isDeterministic()?t:Object(r.a)(t),e.isDeterministic()?e:Object(r.a)(e))}function u(t,e){var n=l(t,e);if(!n)return{value:!1,witnessString:null};var r=s(n);if(r)return{value:!1,witnessString:r};var o=l(e,t);if(!o)return{value:!1,witnessString:null};var i=s(o);return i?{value:!1,witnessString:i}:{value:!0,witnessString:null}}function l(t,e){if(!function(t,e){var n=new Set,r=new Set,o=!0,i=!1,a=void 0;try{for(var u,l=t.getAlphabet()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;t.isUsedSymbol(s)&&n.add(s)}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var c=!0,f=!1,p=void 0;try{for(var h,y=e.getAlphabet()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;e.isUsedSymbol(v)&&r.add(v)}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}if(n.size!=r.size)return!1;var b=!0,d=!1,g=void 0;try{for(var m,_=n[Symbol.iterator]();!(b=(m=_.next()).done);b=!0){var w=m.value;if(!r.has(w))return!1}}catch(t){d=!0,g=t}finally{try{b||null==_.return||_.return()}finally{if(d)throw g}}return n}(t,e))return null;var n=Object(i.a)(e);return Object(o.a)(t,n)}function s(t){var e=[],n=[t.getStartState()],r=new Map;for(r.set(t.getStartState(),"");n.length;){var o=n.shift();e.push(o);var i=r.get(o);if(t.isFinalState(o))return i;var a=!0,u=!1,l=void 0;try{for(var s,c=t.getOutgoingTransitions(o)[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value,p=f[2];if(!e.includes(p)&&!n.includes(p)){n.push(p);var h=f[1];r.set(p,i+h)}}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}}return!1}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return y})),n.d(e,"d",(function(){return v}));var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Math.PI/6,f=Math.PI/4,p="forward",h="forward-endpoint",y="edge",v="label",b=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M "+(t.position.x-t.length*Math.sin(t.angle-c))+" "+(t.position.y-t.length*Math.cos(t.angle-c))+" L "+t.position.x+" "+t.position.y+" L "+(t.position.x-t.length*Math.sin(t.angle+c))+" "+(t.position.y-t.length*Math.cos(t.angle+c)),stroke:t.color,fill:"none"}),o.a.createElement("circle",{cx:t.position.x-t.length*Math.cos(-t.angle+f),cy:t.position.y-t.length*Math.sin(-t.angle+f),r:t.length,fill:"transparent",cursor:"pointer",onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,pointerEvents:t.pointerEvents}))},d=function(t){return o.a.createElement("g",{transform:"translate("+t.position.x+","+t.position.y+") rotate("+180*t.direction/Math.PI+")"},t.labels&&t.labels.length>0&&t.labels.map((function(e,n){var r=t.onMouseOver,i=t.onMouseOut;return o.a.createElement("text",{key:e+"."+n,transform:"translate(0,"+-15*(n+1)+")"+(t.reverse?" scale(-1,-1)":""),alignmentBaseline:"central",style:{userSelect:"none"},textAnchor:"middle",fill:t.color,cursor:"pointer",onMouseOver:r?function(t){(t.target.value||(t.target.value={})).index=n,r(t)}:null,onMouseOut:i?function(t){(t.target.value||(t.target.value={})).index=n,i(t)}:null,pointerEvents:t.pointerEvents},e)})))},g=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t,e,n=this.props.directed||"undirected",r=n===p||"both"===n?this.props.forwardEndpointRenderer||this.props.endpointRenderer||b:null,i="backward"===n||"both"===n?this.props.backwardEndpointRenderer||this.props.endpointRenderer||b:null,a=this.props.labelRenderer||d,u=this.props.from,l=this.props.to,s=this.props.center,c=this.props.label||"",f=this.props.direction||0,g=this.props.color||"#000000",m=this.props.onMouseOver,_=this.props.onMouseOut,w=this.props.pointerEvents||"visiblePainted",S=!1,E=null,O=u.x-l.x,k=u.y-l.y,C=u.x-s.x,j=u.y-s.y,x=Math.atan2(k,O),P=Math.atan2(j,C);if(Math.abs(x-P)<=.01)e=Math.atan2(s.x-l.x,s.y-l.y)+Math.PI,t=Math.atan2(s.x-u.x,s.y-u.y)+Math.PI,E="L "+l.x+" "+l.y,S=!1;else{var T=(4*s.x-u.x-l.x)/2,M=(4*s.y-u.y-l.y)/2;e=Math.atan2(T-l.x,M-l.y)+Math.PI,t=Math.atan2(T-u.x,M-u.y)+Math.PI,E="Q "+T+" "+M+" "+l.x+" "+l.y,S=M>s.y+4}var N="M ".concat(u.x," ").concat(u.y," ").concat(E);return o.a.createElement("g",null,o.a.createElement("path",{d:N,stroke:g,fill:"none"}),o.a.createElement("path",{d:N,stroke:"transparent",strokeWidth:"".concat(8,"px"),fill:"none",cursor:"pointer",onMouseOver:m?function(t){(t.target.value||(t.target.value={})).type=y,m(t)}:null,onMouseOut:_?function(t){(t.target.value||(t.target.value={})).type=y,_(t)}:null,pointerEvents:w}),r&&o.a.createElement(r,{position:l,angle:e,length:10,color:g,onMouseOver:m?function(t){(t.target.value||(t.target.value={})).type=h,m(t)}:null,onMouseOut:_?function(t){(t.target.value||(t.target.value={})).type=h,_(t)}:null,pointerEvents:w}),i&&o.a.createElement(i,{position:u,angle:t,length:10,color:g,onMouseOver:m?function(t){(t.target.value||(t.target.value={})).type="backward-endpoint",m(t)}:null,onMouseOut:_?function(t){(t.target.value||(t.target.value={})).type="backward-endpoint",_(t)}:null,pointerEvents:w}),a&&o.a.createElement(a,{position:s,labels:c.split("\n"),direction:f,reverse:S,color:g,onMouseOver:m?function(t){(t.target.value||(t.target.value={})).type=v,m(t)}:null,onMouseOut:_?function(t){(t.target.value||(t.target.value={})).type=v,_(t)}:null,pointerEvents:w}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.Component);e.e=g},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(174);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.c(!0);if(t.isDeterministic())return e.copy(t),e;e.setDeterministic(!0);var n=t.getStartState(),o={nfaSource:t,dfaStateMap:new Map,dfaFinalStates:[],dfaTransitionMap:new Map,dfaStartState:null,dfaTrapState:null},l=t.doClosureTransition(n);o.dfaStartState=u(l,o),o.dfaTrapState=u([],o);var s=function(t){var e=[[]],n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)for(var u=i.value,l=0,s=e.length;l<s;++l)e.push(e[l].concat(u))}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}(t.getStates()),c=!0,f=!1,p=void 0;try{for(var h,y=s[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;v.length>0&&i(v,o)}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}var b=!0,d=!1,g=void 0;try{for(var m,_=o.dfaStateMap.values()[Symbol.iterator]();!(b=(m=_.next()).done);b=!0){var w=m.value,S=!0,E=!1,O=void 0;try{for(var k,C=t.getAlphabet()[Symbol.iterator]();!(S=(k=C.next()).done);S=!0){var j=k.value,x=a(w,j,o);o.dfaTransitionMap.has(x)||o.dfaTransitionMap.set(x,[w,j,o.dfaTrapState])}}catch(t){E=!0,O=t}finally{try{S||null==C.return||C.return()}finally{if(E)throw O}}}}catch(t){d=!0,g=t}finally{try{b||null==_.return||_.return()}finally{if(d)throw g}}e.clear();var P=!0,T=!1,M=void 0;try{for(var N,L=o.dfaStateMap.values()[Symbol.iterator]();!(P=(N=L.next()).done);P=!0){var I=N.value;e.addState(I)}}catch(t){T=!0,M=t}finally{try{P||null==L.return||L.return()}finally{if(T)throw M}}e.setStartState(o.dfaStartState);var A=!0,D=!1,F=void 0;try{for(var B,R=o.dfaFinalStates[Symbol.iterator]();!(A=(B=R.next()).done);A=!0){var G=B.value;e.setFinalState(G)}}catch(t){D=!0,F=t}finally{try{A||null==R.return||R.return()}finally{if(D)throw F}}var H=!0,V=!1,z=void 0;try{for(var U,X=o.dfaTransitionMap.values()[Symbol.iterator]();!(H=(U=X.next()).done);H=!0){var Y=U.value;e.addTransition(Y[0],Y[2],Y[1])}}catch(t){V=!0,z=t}finally{try{H||null==X.return||X.return()}finally{if(V)throw z}}return e}function i(t,e){var n=u(t,e),r=null,o=[],i=!0,l=!1,s=void 0;try{for(var c,f=e.nfaSource.getAlphabet()[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var p=c.value,h=!0,y=!1,v=void 0;try{for(var b,d=t[Symbol.iterator]();!(h=(b=d.next()).done);h=!0){var g=b.value;e.nfaSource.doTerminalTransition(g,p,o)}}catch(t){y=!0,v=t}finally{try{h||null==d.return||d.return()}finally{if(y)throw v}}if(o.length>0){r=u(o,e);var m=a(n,p,e);e.dfaTransitionMap.set(m,[n,p,r])}o.length=0}}catch(t){l=!0,s=t}finally{try{i||null==f.return||f.return()}finally{if(l)throw s}}}function a(t,e,n){return t.getStateID()+";"+e}function u(t,e){var n=function(t,e){var n="",r=!0,o=!1,i=void 0;try{for(var a,u=e.nfaSource.getStates()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;t.includes(l)?n+="x":n+="-"}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e),o=e.dfaStateMap.get(n);if(!o){var i=!1,a="{",u=!0,l=!1,s=void 0;try{for(var c,f=t[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;a.length>1&&(a+=","),a+=p.getStateLabel(),i||(i=e.nfaSource.isFinalState(p))}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}a+="}",o=new r.b(a),e.dfaStateMap.set(n,o),i&&e.dfaFinalStates.push(o)}return o}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(174);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new r.c(!0);if(!function(t,e){var n=new Set,r=!0,o=!1,i=void 0;try{for(var a,u=t.getAlphabet()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;n.add(l)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var s=!0,c=!1,f=void 0;try{for(var p,h=e.getAlphabet()[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value;if(!n.has(y))return!1;n.delete(y)}}catch(t){c=!0,f=t}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}return n.size<=0}(t,e))throw new Error("Mismatched machine alphabet");var i=t.getAlphabet(),a=t.getStartState(),u=e.getStartState();if(!a&&!u)return n.clear(),n;if(!a)return n.copy(e);if(!u)return n.copy(t);var l=new Map,s=new Set,c=[],f=[a,u],p=a.getStateID()+":"+u.getStateID();t.isFinalState(a)&&e.isFinalState(u)&&s.add(p),l.set(p,f);var h=[];for(h.push(p);h.length>0;){var y=h.pop(),v=l.get(y),b=v[0],d=v[1],g=[],m=!0,_=!1,w=void 0;try{for(var S,E=i[Symbol.iterator]();!(m=(S=E.next()).done);m=!0){var O=S.value,k=void 0,C=void 0;if(t.doTransition(b,O,!1,g),1!==g.length)throw new Error("Found non-deterministic transition from '"+b.getStateLabel()+"' for '"+O+"' - transitions to '"+g.join(",")+"'");if(k=g[0],g.length=0,e.doTransition(d,O,!1,g),1!==g.length)throw new Error("Found non-deterministic transition from '"+d.getStateLabel()+"' for '"+O+"' - transitions to '"+g.join(",")+"'");C=g[0],g.length=0;var j=k.getStateID()+":"+C.getStateID();l.has(j)||(l.set(j,[k,C]),h.push(j),t.isFinalState(k)&&e.isFinalState(C)&&s.add(j)),c.push([y,O,j])}}catch(t){_=!0,w=t}finally{try{m||null==E.return||E.return()}finally{if(_)throw w}}}n.clear();var x=new Map,P=!0,T=!1,M=void 0;try{for(var N,L=l.entries()[Symbol.iterator]();!(P=(N=L.next()).done);P=!0){var I=o(N.value,2),A=I[0],D=I[1],F=n.createState("("+D[0].getStateLabel()+","+D[1].getStateLabel()+")");s.has(A)&&n.setFinalState(F,!0),x.set(A,F)}}catch(t){T=!0,M=t}finally{try{P||null==L.return||L.return()}finally{if(T)throw M}}var B=x.get(p);if(!B)throw new Error("Unable to find start state for pair");n.setStartState(B);for(var R=0,G=c;R<G.length;R++){var H=G[R],V=H[0],z=H[1],U=H[2],X=x.get(V),Y=x.get(U);if(!X||!Y)throw new Error("Cannot find state for pair");n.addTransition(X,Y,z)}return n}},function(t,e,n){"use strict";var r=n(169),o=n(170),i=n(10);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodeClass=e,this._edgeClass=n,this._nodeMapping=new Map,this._edgeMapping=new Map}var e,n,u;return e=t,(n=[{key:"clear",value:function(){this.clearEdges(),this.clearNodes()}},{key:"isEmpty",value:function(){return this._nodeMapping.size<=0&&this._edgeMapping.size<=0}},{key:"getBoundingRect",value:function(){if(this._nodeMapping.size<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var t=Number.MAX_VALUE,e=Number.MAX_VALUE,n=Number.MIN_VALUE,r=Number.MIN_VALUE,o=0,i=!0,a=!1,u=void 0;try{for(var l,s=this._nodeMapping.values()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,f=c.x,p=c.y,h=c.getNodeSize();h>o&&(o=h),t=Math.min(t,f),n=Math.max(n,f),e=Math.min(e,p),r=Math.max(r,p)}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}t-=o,e-=o,n+=o,r+=o;var y=Number.MAX_VALUE,v=Number.MAX_VALUE,b=Number.MIN_VALUE,d=Number.MIN_VALUE,g={x:0,y:0},m={x:0,y:0},_={x:0,y:0},w=!0,S=!1,E=void 0;try{for(var O,k=this._edgeMapping.values()[Symbol.iterator]();!(w=(O=k.next()).done);w=!0){var C=O.value;C.getStartPoint(g),C.getEndPoint(m),C.getCenterPoint(_);var j=g.x,x=g.y,P=m.x,T=m.y,M=_.x,N=_.y;y=Math.min(y,j,P,M),b=Math.max(b,j,P,M),v=Math.min(v,x,T,N),d=Math.max(d,x,T,N)}}catch(t){S=!0,E=t}finally{try{w||null==k.return||k.return()}finally{if(S)throw E}}var L={minX:Math.min(t,y),minY:Math.min(e,v),maxX:Math.max(n,b),maxY:Math.max(r,d),width:0,height:0};return L.width=L.maxX-L.minX,L.height=L.maxY-L.minY,L}},{key:"getHashCode",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="",n=!0,r=!1,o=void 0;try{for(var a,u=this._nodeMapping.values()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;e+=l.getHashString(t)+","}}catch(t){r=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}e+="|";var s=!0,c=!1,f=void 0;try{for(var p,h=this._edgeMapping.values()[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value;e+=y.getHashString(t)+","}}catch(t){c=!0,f=t}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}return Object(i.e)(e)}},{key:"createNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addNode(new this._nodeClass(n||Object(i.c)(),t,e))}},{key:"addNode",value:function(t){return t.getGraphElementID()||t.setGraphElementID(Object(i.c)()),this._nodeMapping.set(t.getGraphElementID(),t),t}},{key:"deleteNode",value:function(t){var e=t.getGraphElementID();if(this._nodeMapping.has(e)){this._nodeMapping.delete(e);var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=this.getEdges()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;l.getEdgeFrom()===t?n.push(l):l.getEdgeTo()===t&&l.setEdgeTo(null)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}for(var s=0,c=n;s<c.length;s++){var f=c[s];this.deleteEdge(f)}}}},{key:"clearNodes",value:function(){this._nodeMapping.clear()}},{key:"getNodeByElementID",value:function(t){return this._nodeMapping.has(t)?this._nodeMapping.get(t):null}},{key:"getNodesByLabel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getNodeLabel()===t&&e.push(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"getNodes",value:function(){return Array.from(this._nodeMapping.values())}},{key:"getNodeCount",value:function(){return this._nodeMapping.size}},{key:"getNodeClass",value:function(){return this._nodeClass}},{key:"formatEdge",value:function(t){return t}},{key:"createEdge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addEdge(new this._edgeClass(n||Object(i.c)(),t,e))}},{key:"addEdge",value:function(t){return t.getGraphElementID()||t.setGraphElementID(Object(i.c)()),this._edgeMapping.set(t.getGraphElementID(),t),t}},{key:"deleteEdge",value:function(t){var e=t.getGraphElementID();this._edgeMapping.has(e)&&this._edgeMapping.delete(e)}},{key:"clearEdges",value:function(){this._edgeMapping.clear()}},{key:"getEdgeByElementID",value:function(t){return this._edgeMapping.has(t)?this._edgeMapping.get(t):null}},{key:"getEdgesByLabel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,o=void 0;try{for(var i,a=this.getEdges()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getEdgeLabel()===t&&e.push(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}},{key:"getEdges",value:function(){return Array.from(this._edgeMapping.values())}},{key:"getEdgeCount",value:function(){return this._edgeMapping.size}},{key:"getEdgeClass",value:function(){return this._edgeClass}}])&&a(e.prototype,n),u&&a(e,u),t}();e.a=u},function(t,e,n){"use strict";var r=n(170),o=n(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,s(e).call(this,t,n,o)))._quad={radians:0,length:o?0:r.getPlaceholderLength(),coords:{x:0,y:0}},r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(r=[{key:"setEdgeTo",value:function(t){var n=this._to;if(t!==n){var r=l(s(e.prototype),"setEdgeTo",this).call(this,t);return t?t===this._from&&(this._quad.length=this._from.getNodeSize()+this.getPlaceholderLength()):this.setQuadraticByCoords(n.x,n.y),r}return l(s(e.prototype),"setEdgeTo",this).call(this,t)}},{key:"setQuadraticRadians",value:function(t){return this._quad.radians=t,this}},{key:"setQuadraticLength",value:function(t){return this._quad.length=t,this}},{key:"setQuadraticByCoords",value:function(t,e){var n=this._from,r=this._to;if(!r){var o=this._from.x-t,i=this._from.y-e,a=-Math.atan2(o,i)-Math.PI/2;return this._quad.radians=a,this}var u=n.x,l=n.y,s=r.x-u,c=r.y-l,f=u+s/2,p=l+c/2,h=Math.atan2(-c,s);s=t-f,c=e-p;var y=Math.PI,v=y/2,b=Math.atan2(c,s)+h,d=Math.sqrt(s*s+c*c);d<0&&(d=0);var g=b- -v,m=b-v,_=y/20;return Math.abs(d)<8?(b=0,d=0):g<_&&g>-_?b=-v:-m<_&&-m>-_&&(b=v),this._quad.radians=b,this._quad.length=d,this}},{key:"getQuadraticLength",value:function(){return this._quad.length}},{key:"getQuadraticRadians",value:function(){return this._quad.radians}},{key:"getQuadratic",value:function(){return this._quad}},{key:"isQuadratic",value:function(){return!this.isPlaceholder()&&0!==this._quad.length}},{key:"getQuadraticAsCoords",value:function(){var t=this._from,e=this._to,n=this._quad.coords;return null==t||null==e?(n.x=0,n.y=0):Object(o.a)(t.x,t.y,e.x,e.y,this._quad.length,this._quad.radians,n),n}},{key:"getEdgeDirection",value:function(){var t=0;if(this.isQuadratic()){var n=this.getQuadraticAsCoords();t=Math.atan2(n.y,n.x)+Math.PI/2}else t=l(s(e.prototype),"getEdgeDirection",this).call(this);return t}},{key:"getStartPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=this._quad.radians,i=Math.cos(r),a=Math.sin(r),u=e.getNodeSize();return t.x=e.x+i*u,t.y=e.y+a*u,t}if("function"==typeof n.getNodeSize&&this.isQuadratic()){Object(o.b)(e.x,e.y,n.x,n.y,t);var l=this.getQuadraticAsCoords(),s=t.x+l.x,c=t.y+l.y;return Object(o.a)(e.x,e.y,s,c,e.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,t),t.x+=e.x,t.y+=e.y,t}return Object(o.a)(e.x,e.y,n.x,n.y,e.getNodeSize(),0,t),t.x+=e.x,t.y+=e.y,t}},{key:"getCenterPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),i=Math.sin(this._quad.radians),a=e.getNodeSize()+this.getPlaceholderLength()/2;return t.x=e.x+r*a,t.y=e.y+i*a,t}if(Object(o.b)(e.x,e.y,n.x,n.y,t),this.isQuadratic()){var u=this.getQuadraticAsCoords();t.x+=u.x,t.y+=u.y}return t}},{key:"getEndPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=this._from,n=this._to;if(!e)throw new Error("Source of edge cannot be null.");if(!n){var r=this._quad.radians,i=Math.cos(r),a=Math.sin(r),u=e.getNodeSize()+this.getPlaceholderLength();return t.x=e.x+i*u,t.y=e.y+a*u,t}if("function"!=typeof n.getNodeSize)return n;if(this.isQuadratic()){Object(o.b)(e.x,e.y,n.x,n.y,t);var l=this.getQuadraticAsCoords(),s=t.x+l.x,c=t.y+l.y;return Object(o.a)(n.x,n.y,s,c,n.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,t),t.x+=n.x,t.y+=n.y,t}return Object(o.a)(n.x,n.y,e.x,e.y,n.getNodeSize(),0,t),t.x+=n.x,t.y+=n.y,t}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?l(s(e.prototype),"getHashString",this).call(this,t)+":"+this._quad.radians+","+this._quad.length:l(s(e.prototype),"getHashString",this).call(this,t)}}])&&a(n.prototype,r),i&&a(n,i),e}(r.a);e.a=f},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return h}));var r=n(171),o=n(10),i=n(172);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f="node-delete",p="node-delete-all",h="error-node-edit-while-delete",y=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=l(this,s(e).call(this)))._inputController=t,r._graphController=n,r._cachedPosition={x:0,y:0},r}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(r=[{key:"onInputEvent",value:function(t){var e=this._inputController,n=e.getCurrentTargetType();if(e.isTrashMode()&&n===i.a){var r=e.getCurrentTargetSource(),o=this._graphController;return o.getGraph().deleteNode(r),o.emitGraphEvent(f,{target:r}),!0}if(!e.isMoveMode(t.getInputAdapter())&&n===i.a){var a=e.getCurrentTargetSource(),u=this._graphController;return u.openLabelEditor(a,a.getNodeLabel(),(function(t,e,n){n&&u.emitGraphEvent("edge-label-change",{target:a})})),!0}return!1}},{key:"onAltInputEvent",value:function(t){return this.onInputEvent(t)}},{key:"onDblInputEvent",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isTrashMode())return!1;if(!e.getCurrentTargetType()){var n=this._graphController,r=n.getLabelFormatter(),o=n.getGraph().createNode(t.x,t.y);r&&o.setNodeLabel(r.getDefaultNodeLabel()),n.emitGraphEvent("node-create",{target:o})}}},{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isTrashMode())return this._graphController.emitGraphEvent(h),!1;var n=e.getCurrentTargetType();if(e.isMoveMode(t.getInputAdapter())&&n===i.a){var r=e.getSelectionBox(),o=e.getCurrentTargetSource();return r&&r.hasSelection()&&(r.isTargetInSelection(o)?(this._cachedPosition.x=t.x,this._cachedPosition.y=t.y):r.clearSelection()),e.bindActiveTarget(o,n,!1),!0}return!1}},{key:"onDragMove",value:function(t){var e=this._inputController,n=e.getSelectionBox(),r=e.getActiveTargetSource();if(n&&n.hasSelection()){var o=t.x-this._cachedPosition.x,i=t.y-this._cachedPosition.y,a=!0,u=!1,l=void 0;try{for(var s,c=n.getSelection()[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;f.x+=o,f.y+=i}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}this._cachedPosition.x=t.x,this._cachedPosition.y=t.y}else this.moveNodeTo(this._graphController.getGraph(),r,t.x,t.y)}},{key:"onDragStop",value:function(t){var e=this._inputController,n=this._graphController,r=e.getSelectionBox(),o=e.getActiveTargetSource();if(e.unbindActiveTarget(),e.isTrashMode())if(r.hasSelection()){var i=n.getGraph(),a=[],u=!0,l=!1,s=void 0;try{for(var c,h=r.getSelection()[Symbol.iterator]();!(u=(c=h.next()).done);u=!0){var y=c.value;i.deleteNode(y),a.push(y)}}catch(t){l=!0,s=t}finally{try{u||null==h.return||h.return()}finally{if(l)throw s}}r.clearSelection(),n.emitGraphEvent(p,{target:a})}else n.getGraph().deleteNode(o),n.emitGraphEvent(f,{target:o});else r.hasSelection()?n.emitGraphEvent("node-move-all",{target:r.getSelection()}):n.emitGraphEvent("node-move",{target:o})}},{key:"moveNodeTo",value:function(t,e,n,r){n=Object(o.d)(e.x,n,.6),r=Object(o.d)(e.y,r,.6);var i=e.getNodeSize(),a=!0,u=!1,l=void 0;try{for(var s,c=t.getNodes()[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(e!==f){var p=n-f.x,h=r-f.y,y=Math.atan2(h,p),v=2*i,b=f.x+Math.cos(y)*v-n,d=f.y+Math.sin(y)*v-r;p*p+h*h<i*i*4&&(n+=b,r+=d)}}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}e.x=n,e.y=r}}])&&u(n.prototype,r),a&&u(n,a),e}(r.a);e.d=y},function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return y}));var r=n(171),o=n(10),i=n(177),a=n(172);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p="edge-create",h="edge-delete",y="error-edge-edit-while-delete",v=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=s(this,c(e).call(this)))._inputController=t,r._graphController=n,r._cachedEdgeQuads={radians:0,length:0},r._cachedEdgeTo=null,r._cachedPointer={x:0,y:0},r._newEdge=!1,r._shouldDeleteEdgePlaceholder=!1,r._shouldDeleteEdgeWithEmptyLabel=!1,r}var n,r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(r=[{key:"setShouldDeleteEdgePlaceholder",value:function(t){return this._shouldDeleteEdgePlaceholder=t,this}},{key:"setShouldDeleteEdgeWithEmptyLabel",value:function(t){return this._shouldDeleteEdgeWithEmptyLabel=t,this}},{key:"onInputEvent",value:function(t){var e=this,n=this._inputController,r=n.getCurrentTargetType();if(n.isTrashMode()&&(r===i.b||r===i.c||r===i.d)){var o=n.getCurrentTargetSource(),a=this._graphController;return a.getGraph().deleteEdge(o),a.emitGraphEvent(h,{target:o}),!0}if(r===i.d||r===i.b){var u=n.getCurrentTargetSource(),l=this._graphController;return l.openLabelEditor(u,u.getEdgeLabel(),(function(t,n,r){e._shouldDeleteEdgeWithEmptyLabel&&!n?(l.getGraph().deleteEdge(u),l.emitGraphEvent(h,{target:u})):r&&l.emitGraphEvent("edge-label-change",{target:u})})),!0}return!1}},{key:"onAltInputEvent",value:function(t){return this.onInputEvent(t)}},{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isTrashMode())return this._graphController.emitGraphEvent(y),!1;var n=e.getCurrentTargetType();if(!e.isMoveMode(t.getInputAdapter())&&n===a.a){var r=this._graphController.getGraph(),o=e.getCurrentTargetSource();this._cachedEdgeQuads.radians=0,this._cachedEdgeQuads.length=0,this._cachedEdgeTo=null,this._newEdge=!0,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y;var u=r.createEdge(o,this._cachedPointer);return e.bindActiveTarget(u,i.c,!1),e.setNodeEventsOnly(!0),!0}if(n===i.c){var l=e.getCurrentTargetSource();return this._cachedEdgeQuads.radians=l.getQuadraticRadians(),this._cachedEdgeQuads.length=l.getQuadraticLength(),this._cachedEdgeTo=l.getEdgeTo(),this._newEdge=!1,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y,l.setQuadraticRadians(0),l.setQuadraticLength(0),l.setEdgeTo(this._cachedPointer),e.bindActiveTarget(l,n,!1),e.setNodeEventsOnly(!0),!0}if(n===i.b){var s=e.getCurrentTargetSource();return this._cachedEdgeQuads.radians=s.getQuadraticRadians(),this._cachedEdgeQuads.length=s.getQuadraticLength(),this._cachedEdgeTo=s.getEdgeTo(),this._newEdge=!1,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y,e.bindActiveTarget(s,n,!1),!0}return!1}},{key:"onDragMove",value:function(t){var e=this._inputController,n=e.getActiveTargetSource(),r=e.getActiveTargetType();r===i.b?n.setQuadraticByCoords(t.x,t.y):r===i.c&&this.handleDragMoveForEndpoint(n,r,t,e)}},{key:"handleDragMoveForEndpoint",value:function(t,e,n,r){if(r.getImmediateTargetType()===a.a){var i=r.getImmediateTargetSource();if(t.getEdgeTo()===this._cachedEdgeTo)t.setQuadraticRadians(this._cachedEdgeQuads.radians),t.setQuadraticLength(this._cachedEdgeQuads.length);else if(t.getEdgeFrom()===i){var u=t.getEdgeFrom(),l=u.x-n.x,s=u.y-n.y,c=Math.PI+Math.atan2(s,l);t.setQuadraticRadians(c),t.setEdgeTo(i)}else t.setQuadraticRadians(0),t.setQuadraticLength(0),t.setEdgeTo(i)}else this._cachedPointer.x=Object(o.d)(this._cachedPointer.x,n.x,.6),this._cachedPointer.y=Object(o.d)(this._cachedPointer.y,n.y,.6),t.getEdgeTo()!==this._cachedPointer&&(t.setQuadraticRadians(0),t.setQuadraticLength(0),t.setEdgeTo(this._cachedPointer))}},{key:"onDragStop",value:function(t){var e=this,n=this._inputController,r=n.getActiveTargetSource(),o=n.getActiveTargetType(),a=this._newEdge;n.unbindActiveTarget(),o===i.c&&n.setNodeEventsOnly(!1);var u=this._graphController;if(n.isTrashMode())return u.getGraph().deleteEdge(r),void u.emitGraphEvent(h,{target:r});if(o===i.b)u.emitGraphEvent("edge-quad-change",{target:r});else{var l=r.getEdgeTo();if(l&&l!==this._cachedPointer){if(l!==this._cachedEdgeTo){var s=u.getLabelFormatter();a&&s&&r.setEdgeLabel(s.getDefaultEdgeLabel()),u.openLabelEditor(r,a?null:r.getEdgeLabel(),(function(t,n,o){e._shouldDeleteEdgeWithEmptyLabel&&!n?(u.getGraph().deleteEdge(r),u.emitGraphEvent(h,{target:r})):a?u.emitGraphEvent(p,{target:r}):o&&u.emitGraphEvent("edge-to-change",{target:r})}))}}else{if(this._shouldDeleteEdgePlaceholder)return u.getGraph().deleteEdge(r),void u.emitGraphEvent(h,{target:r});if(r.setEdgeTo(null),a){var c=u.getLabelFormatter();c&&r.setEdgeLabel(c.getDefaultEdgeLabel()),u.emitGraphEvent(p,{target:r})}else u.emitGraphEvent("edge-to-change",{target:r})}}}}])&&l(n.prototype,r),u&&l(n,u),e}(r.a);e.d=v},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c="start-marker",f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.position,e=this.props.radians||Math.PI,n=this.props.offset||0,r=this.props.size||24,i=this.props.color||"#000000",a=Math.cos(e),u=Math.sin(e),l=t.x+a*n,s=t.y+u*n,f=a*r*2,p=this.props.onMouseOver,h=this.props.onMouseOut,y=this.props.pointerEvents;return o.a.createElement("g",null,o.a.createElement("path",{d:"M"+l+" "+s+" L"+(l+f)+" "+(s+Math.sin(e+Math.PI/2)*r*2)+" L"+(l+f)+" "+(s-Math.sin(e+Math.PI/2)*r*2)+" Z",fill:"transparent",stroke:i,cursor:"pointer",onMouseOver:p?function(t){(t.target.value||(t.target.value={})).type=c,p(t)}:null,onMouseOut:h?function(t){(t.target.value||(t.target.value={})).type=c,h(t)}:null,pointerEvents:y}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.Component);e.b=f},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";var r=n(197),o=n(216),i=n(175);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,o.a,i.c))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),e}(r.a);e.a=c},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(171),o=n(10),i=n(184),a=n(172);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p="start-marker-change",h=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=s(this,c(e).call(this)))._inputController=t,r._graphController=n,r._ghostMarker=null,r._cachedMarkerTarget=null,r._cachedPointer={x:0,y:0},r}var n,r,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(r=[{key:"onDragStart",value:function(t){var e=this._inputController;if(e.getCurrentTargetType()===i.a){var n=e.getCurrentTargetSource();return this._cachedMarkerTarget=n,this._cachedPointer.x=t.x,this._cachedPointer.y=t.y,this._ghostMarker=this._cachedPointer,e.bindActiveTarget(n,i.a,!0),e.setNodeEventsOnly(!0),!0}return!1}},{key:"onDragMove",value:function(t){var e=this._inputController;if(e.getActiveTargetType()===i.a)if(e.getImmediateTargetType()===a.a){var n=e.getImmediateTargetSource();this._ghostMarker=n}else this._cachedPointer.x=Object(o.d)(this._cachedPointer.x,t.x,.6),this._cachedPointer.y=Object(o.d)(this._cachedPointer.y,t.y,.6),this._ghostMarker!==this._cachedPointer&&(this._ghostMarker=this._cachedPointer)}},{key:"onDragStop",value:function(t){var e=this._inputController,n=e.getActiveTargetType();e.unbindActiveTarget(),n===i.a&&(this._ghostMarker&&this._ghostMarker!==this._cachedPointer&&(this._graphController.getGraph().setStartNode(this._ghostMarker),this._graphController.emitGraphEvent(p,{target:this._ghostMarker})),this._ghostMarker=null)}},{key:"getGhostMarker",value:function(){return this._ghostMarker}}])&&l(n.prototype,r),u&&l(n,u),e}(r.a);e.b=h},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){var e=[],n=t.getStartNode();e.push(n);for(var r=0;r<e.length;r++){var o=!0,i=!1,a=void 0;try{for(var u,l=t.getEdges()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;s._from==e[r]&&(e.includes(s._to)||e.push(s._to))}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}return e}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"applyLayout",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"circle";if("circle"!=e)throw new Error("Invalid layout type");var n=o(t);function r(t){return!n.includes(t)}var i=t.getNodes().filter(r),a=n.length,u=i.length,l=t.getNodes().length,s=Math.max(a,u);if(0!=l){var c;c=a<10&&u<10?s/4*50+30:s/5*40+30;var f=0;if(1==a){var p=2*Math.PI/l,h=!0,y=!1,v=void 0;try{for(var b,d=t.getNodes()[Symbol.iterator]();!(h=(b=d.next()).done);h=!0){var g=b.value;g.y=Math.sin(p*f+Math.PI)*c,g.x=Math.cos(p*f+Math.PI)*c,f+=1}}catch(t){y=!0,v=t}finally{try{h||null==d.return||d.return()}finally{if(y)throw v}}}else{var m=2*Math.PI/a,_=2*Math.PI/u;f=0;var w=!0,S=!1,E=void 0;try{for(var O,k=n[Symbol.iterator]();!(w=(O=k.next()).done);w=!0){var C=O.value;C.y=Math.sin(m*f+Math.PI)*c,C.x=Math.cos(m*f+Math.PI)*c,f+=1}}catch(t){S=!0,E=t}finally{try{w||null==k.return||k.return()}finally{if(S)throw E}}f=0;var j=!0,x=!1,P=void 0;try{for(var T,M=i[Symbol.iterator]();!(j=(T=M.next()).done);j=!0){var N=T.value;N.y=Math.sin(_*f+Math.PI)*(c+100),N.x=Math.cos(_*f+Math.PI)*(c+100),f+=1}}catch(t){x=!0,P=t}finally{try{j||null==M.return||M.return()}finally{if(x)throw P}}}}}}],(n=null)&&r(e.prototype,n),i&&r(e,i),t}();e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(174);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.c(!0);e.copy(t);var n=new Set(e.getFinalStates()),o=!0,i=!1,a=void 0;try{for(var u,l=e.getStates()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;n.has(s)?e.setFinalState(s,!1):e.setFinalState(s,!0)}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return e}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"applyUndo",value:function(t){throw new Error("Undo operation for handler not supported")}},{key:"applyRedo",value:function(t){throw new Error("Redo operation for handler not supported")}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(125),a=n.n(i),u=n(126),l=n.n(u),s=n(3);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,h(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.a.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))}}])&&f(n.prototype,r),i&&f(n,i),e}(o.a.PureComponent);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,m(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))}}])&&d(n.prototype,r),i&&d(n,i),e}(o.a.PureComponent);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=O(e).call(this,t))||"object"!==S(o)&&"function"!=typeof o?k(r):o).onZoomIn=n.onZoomIn.bind(k(n)),n.onZoomOut=n.onZoomOut.bind(k(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,t),n=e,(r=[{key:"onZoomIn",value:function(t){var e=this.props.viewportAdapter,n=.4*-e.getScale();e.addScale(n)}},{key:"onZoomOut",value:function(t){var e=this.props.viewportAdapter,n=.75*e.getScale();e.addScale(n)}},{key:"render",value:function(){var t="x"+(1/(this.props.viewportAdapter.getScale()||1)).toFixed(2);return o.a.createElement("div",{id:this.props.id,className:l.a.zoom_container+" "+this.props.className,style:this.props.style},o.a.createElement(s.a,{className:l.a.zoom_button,title:"Zoom In",onClick:this.onZoomIn},o.a.createElement(v,null)),o.a.createElement(s.a,{className:l.a.zoom_button,title:"Zoom Out",onClick:this.onZoomOut},o.a.createElement(w,null)),o.a.createElement("label",{className:l.a.zoom_label},t))}}])&&E(n.prototype,r),i&&E(n,i),e}(o.a.Component),x=n(127),P=n.n(x);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,L(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}))}}])&&M(n.prototype,r),i&&M(n,i),e}(o.a.PureComponent);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var H=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=B(e).call(this,t))||"object"!==D(o)&&"function"!=typeof o?R(r):o).onClick=n.onClick.bind(R(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(t){this.props.viewportAdapter.setOffset(0,0)}},{key:"render",value:function(){var t=this.props.viewportAdapter;return o.a.createElement(s.a,{id:this.props.id,className:P.a.center_focus_button+" "+this.props.className,style:this.props.style,title:"Center Workspace",disabled:Math.abs(t.getOffsetX())<.1&&Math.abs(t.getOffsetY())<.1,onClick:this.onClick},o.a.createElement(A,null))}}])&&F(n.prototype,r),i&&F(n,i),e}(o.a.Component);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),U(this,X(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.viewportAdapter;return o.a.createElement("div",{id:this.props.id,className:a.a.navbar_container+" "+this.props.className,style:this.props.style},o.a.createElement(j,{className:a.a.navbar_widget_container,viewportAdapter:t}),o.a.createElement(H,{className:a.a.navbar_widget,viewportAdapter:t}),this.props.children)}}])&&z(n.prototype,r),i&&z(n,i),e}(o.a.Component);e.a=Q},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#9777A8",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M17.021,42.719v7.848c0,0.474-0.087,0.873-0.26,1.196s-0.405,0.583-0.697,0.779 s-0.627,0.333-1.005,0.41c-0.378,0.077-0.768,0.116-1.169,0.116c-0.2,0-0.436-0.021-0.704-0.062s-0.547-0.104-0.834-0.191 s-0.563-0.185-0.827-0.294s-0.487-0.232-0.67-0.369l0.697-1.107c0.091,0.063,0.221,0.13,0.39,0.198s0.354,0.132,0.554,0.191 s0.41,0.111,0.629,0.157s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95v-7.711H17.021z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M25.184,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116c-0.237-0.055-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39s0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S25.184,49.7,25.184,50.238z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M35.082,47.914c0,0.848-0.107,1.595-0.321,2.242s-0.511,1.185-0.889,1.613s-0.82,0.752-1.326,0.971 s-1.06,0.328-1.661,0.328s-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242 s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.82-0.754,1.326-0.978s1.06-0.335,1.661-0.335s1.155,0.111,1.661,0.335 s0.948,0.549,1.326,0.978s0.675,0.964,0.889,1.606S35.082,47.066,35.082,47.914z M30.844,51.729c0.337,0,0.658-0.066,0.964-0.198 s0.579-0.349,0.82-0.649s0.431-0.695,0.567-1.183s0.21-1.082,0.219-1.784c-0.009-0.684-0.08-1.265-0.212-1.743 s-0.314-0.873-0.547-1.183s-0.497-0.533-0.793-0.67s-0.608-0.205-0.937-0.205c-0.337,0-0.658,0.063-0.964,0.191 s-0.579,0.344-0.82,0.649s-0.431,0.699-0.567,1.183c-0.137,0.483-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.267,0.212,1.75 s0.314,0.877,0.547,1.183s0.497,0.528,0.793,0.67S30.516,51.729,30.844,51.729z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M44.68,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H44.68z"}),o.a.createElement("path",{fill:"#9777A8",d:"M19.5,19v-4c0-0.551,0.448-1,1-1c0.553,0,1-0.448,1-1s-0.447-1-1-1c-1.654,0-3,1.346-3,3v4 c0,1.103-0.897,2-2,2c-0.553,0-1,0.448-1,1s0.447,1,1,1c1.103,0,2,0.897,2,2v4c0,1.654,1.346,3,3,3c0.553,0,1-0.448,1-1 s-0.447-1-1-1c-0.552,0-1-0.449-1-1v-4c0-1.2-0.542-2.266-1.382-3C18.958,21.266,19.5,20.2,19.5,19z"}),o.a.createElement("circle",{fill:"#9777A8",cx:"27.5",cy:"18.5",r:"1.5"}),o.a.createElement("path",{fill:"#9777A8",d:"M39.5,21c-1.103,0-2-0.897-2-2v-4c0-1.654-1.346-3-3-3c-0.553,0-1,0.448-1,1s0.447,1,1,1 c0.552,0,1,0.449,1,1v4c0,1.2,0.542,2.266,1.382,3c-0.84,0.734-1.382,1.8-1.382,3v4c0,0.551-0.448,1-1,1c-0.553,0-1,0.448-1,1 s0.447,1,1,1c1.654,0,3-1.346,3-3v-4c0-1.103,0.897-2,2-2c0.553,0,1-0.448,1-1S40.053,21,39.5,21z"}),o.a.createElement("path",{fill:"#9777A8",d:"M27.5,24c-0.553,0-1,0.448-1,1v3c0,0.552,0.447,1,1,1s1-0.448,1-1v-3 C28.5,24.448,28.053,24,27.5,24z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=a(this,u(e).call(this)))._app=t,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(r=[{key:"onParseSession",value:function(t,e){return e}},{key:"onPreImportSession",value:function(t){t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){}},{key:"onPostImportSession",value:function(t){t.getApp().getUndoManager().captureEvent()}},{key:"importFileData",value:function(t,e,n){var r,o=this._app,i=o.getSession(),a=i.getCurrentModule(),u=this.onParseSession(i,n);return this.onPreImportSession(i),this.onImportSession(i,u),r=t?t.substring(0,t.length-e.length):u._metadata.name,o.getSession().setProjectName(r),this.onPostImportSession(i),a}}])&&i(n.prototype,r),o&&i(n,o),e}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"importFileData",value:function(t,e,n){return Promise.resolve(n)}},{key:"getDataType",value:function(){return"text"}}])&&r(e.prototype,n),o&&r(e,o),t}());e.a=s},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=[8,6],f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.center,e=this.props.color||"#CCCCCC",n=this.props.radius||24;return o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{className:"graph-ui",cx:t.x,cy:t.y,r:n,stroke:e,strokeDashoffset:0,strokeDasharray:c,strokeWidth:3,fill:"none",pointerEvents:"none"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.Component);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,v(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=[],e=this.props.nodes;if(e){var n=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;t.push(o.a.createElement(f,{key:l.getGraphElementID(),center:l,radius:l.getNodeSize()+4}))}}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}}var s=this.props.edges;if(s){var c=!0,p=!1,h=void 0;try{for(var y,v=s[Symbol.iterator]();!(c=(y=v.next()).done);c=!0){var b=y.value;t.push(o.a.createElement(f,{key:b.getGraphElementID(),center:b.getCenterPoint()}))}}catch(t){p=!0,h=t}finally{try{c||null==v.return||v.return()}finally{if(p)throw h}}}return o.a.createElement("g",null,t)}}])&&h(n.prototype,r),i&&h(n,i),e}(o.a.Component);e.a=d},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.confirm(I18N.toString("alert.graph.clear"))&&(t.getCurrentModule().getGraphController().getGraph().clear(),e?t.getUndoManager().captureEvent():(t.getUndoManager().clear(),t.getSession().setProjectName(null)),n&&n())}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=i(this,u(e).call(this,t,n)))._nodes=[],r}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(r=[{key:"setStartNode",value:function(t){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var e=this._nodes.indexOf(t);if(e>0){var n=this._nodes[0];this._nodes[0]=t,this._nodes[e]=n}else if(e<0)throw new Error("Cannot set start node for unknown node")}}},{key:"getStartNode",value:function(){return this._nodes.length>0?this._nodes[0]:null}},{key:"getNodeByIndex",value:function(t){return this._nodes[t]}},{key:"addNode",value:function(t){return this._nodes.push(t),a(u(e.prototype),"addNode",this).call(this,t)}},{key:"deleteNode",value:function(t){a(u(e.prototype),"deleteNode",this).call(this,t);var n=this._nodes.indexOf(t);n>=0&&this._nodes.splice(n,1)}},{key:"clearNodes",value:function(){a(u(e.prototype),"clearNodes",this).call(this),this._nodes.length=0}},{key:"getNodes",value:function(){return this._nodes}}])&&o(n.prototype,r),s&&o(n,s),e}(n(180).a);e.a=s},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));function r(t,e){o(t,"data:text/plain; charset=utf-8,"+encodeURIComponent(e))}function o(t,e){var n=document.createElement("a"),r=e.indexOf(";");e=e.substring(0,r+1)+"headers=Content-Disposition%3A%20attachment%3B%20filename="+t+";"+e.substring(r+1),n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(129),a=n.n(i);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._element=null,this._offsetX=0,this._offsetY=0,this._nextOffsetX=0,this._nextOffsetY=0,this._offsetDamping=.1,this._scaleFactor=1,this._minScale=1,this._maxScale=1}var e,n,r;return e=t,(n=[{key:"setElement",value:function(t){return this._element=t,this}},{key:"setMinScale",value:function(t){return this._minScale=t,this._scaleFactor<this._minScale&&(this._scaleFactor=this._minScale),this}},{key:"setMaxScale",value:function(t){return this._maxScale=t,this._scaleFactor>this._maxScale&&(this._scaleFactor=this._maxScale),this}},{key:"setOffsetDamping",value:function(t){return this._offsetDamping=t,this}},{key:"update",value:function(){var t=this._nextOffsetX-this._offsetX;this._offsetX+=t*this._offsetDamping;var e=this._nextOffsetY-this._offsetY;this._offsetY+=e*this._offsetDamping}},{key:"transformScreenToView",value:function(t,e){if(!this._element)return{x:t-this._offsetX,y:e-this._offsetY};var n=this._element.getScreenCTM();return{x:(t-n.e)/n.a-this._offsetX,y:(e-n.f)/n.d-this._offsetY}}},{key:"setOffset",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n?(this._nextOffsetX=this._offsetX=t,this._nextOffsetY=this._offsetY=e):(this._nextOffsetX=t,this._nextOffsetY=e)}},{key:"addOffset",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n?(this._offsetX+=t,this._offsetY+=e,this._nextOffsetX=this._offsetX,this._nextOffsetY=this._offsetY):(this._nextOffsetX+=t,this._nextOffsetY+=e)}},{key:"setScale",value:function(t){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,t))}},{key:"addScale",value:function(t){this._scaleFactor=Math.min(this._maxScale,Math.max(this._minScale,this._scaleFactor+t))}},{key:"getOffsetX",value:function(){return this._offsetX}},{key:"getOffsetY",value:function(){return this._offsetY}},{key:"getOffsetDamping",value:function(){return this._offsetDamping}},{key:"getScale",value:function(){return this._scaleFactor}},{key:"getMinScale",value:function(){return this._minScale}},{key:"getMaxScale",value:function(){return this._maxScale}},{key:"getElement",value:function(){return this._element}}])&&u(e.prototype,n),r&&u(e,r),t}();function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputHandlers=[]}var e,n,r;return e=t,(n=[{key:"addInputHandler",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e<0?this._inputHandlers.push(t):(this._inputHandlers.length<=e&&(this._inputHandlers.length=e+1),this._inputHandlers[e]?this._inputHandlers.splice(1,0,t):this._inputHandlers[e]=t),this}},{key:"removeInputHandler",value:function(t){var e=this._inputHandlers.indexOf(t);return e>=0&&(this._inputHandlers[e]=null),this}},{key:"clearInputHandlers",value:function(){this._inputHandlers.length=0}},{key:"handleEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=!0,i=!1,a=void 0;try{for(var u,l=this._inputHandlers[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;if(s){var c=s[t];if("function"==typeof c&&c.apply(s,n))return s}}}catch(t){i=!0,a=t}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return null}},{key:"getInputHandlers",value:function(){return this._inputHandlers}}])&&s(e.prototype,n),r&&s(e,r),t}();function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputAdapter=e,this._viewportAdapter=n,this._element=r,this._active=!1,this._x=0,this._y=0,this._inputpos={x:0,y:0}}var e,n,r;return e=t,(n=[{key:"setPosition",value:function(t,e){return this._x=t,this._y=e,this}},{key:"beginInput",value:function(){this._active=!0,this._inputpos.x=this._x,this._inputpos.y=this._y}},{key:"getInputEventPosition",value:function(){return this._inputpos}},{key:"changeInputEventPosition",value:function(t,e){this._inputpos.x=t,this._inputpos.y=e}},{key:"endInput",value:function(){this._active=!1}},{key:"isActive",value:function(){return this._active}},{key:"getDistanceSquToInitial",value:function(){var t=this._inputpos,e=t.x-this._x,n=t.y-this._y;return e*e+n*n}},{key:"getElement",value:function(){return this._element}},{key:"getViewportAdapter",value:function(){return this._viewportAdapter}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}])&&f(e.prototype,n),r&&f(e,r),t}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=600,_=600,w=1/300,S=16,E=324,O=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=d(e).call(this))||"object"!==h(o)&&"function"!=typeof o?v(r):o)._viewportAdapter=t,n._contexts=[],n._activeDragHandler=null,n._element=null,n._cursor={_mousemove:null,_mouseup:null,_touchmove:null,_touchend:null,_timer:null},n._pointer=null,n._dragging=!1,n._altinput=!1,n._holdInputDelay=m,n._dblInputDelay=_,n._scrollSensitivity=w,n._minTapRadius=16*S,n._draggingRadiusSqu=S+E,n._prevEmptyInput=!1,n._prevEmptyTime=0,n._prevEmptyX=0,n._prevEmptyY=0,n.onContextMenu=n.onContextMenu.bind(v(n)),n.onMouseDown=n.onMouseDown.bind(v(n)),n.onMouseMove=n.onMouseMove.bind(v(n)),n.onTouchStart=n.onTouchStart.bind(v(n)),n.onWheel=n.onWheel.bind(v(n)),n.onMouseDownThenMove=n.onMouseDownThenMove.bind(v(n)),n.onMouseDownThenUp=n.onMouseDownThenUp.bind(v(n)),n.onTouchStartThenMove=n.onTouchStartThenMove.bind(v(n)),n.onTouchStartThenEnd=n.onTouchStartThenEnd.bind(v(n)),n.onDelayedInputDown=n.onDelayedInputDown.bind(v(n)),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,t),n=e,(r=[{key:"bindContext",value:function(t){if(!(t instanceof c))throw new Error("Cannot bind invalid context - must be an instance of InputContext");return this._contexts.unshift(t),this}},{key:"bindContextAsLast",value:function(t){if(!(t instanceof c))throw new Error("Cannot bind invalid context - must be an instance of InputContext");return this._contexts.push(t),this}},{key:"unbindContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var e=this._contexts.indexOf(t);return e>=0?(this._contexts.splice(e,1),t):null}return this._contexts.shift()}},{key:"clearContexts",value:function(){this._contexts.length=0}},{key:"hasContexts",value:function(){return this._contexts.length>0}},{key:"getCurrentContext",value:function(){return this._contexts.length>0?this._contexts[this._contexts.length-1]:this}},{key:"initialize",value:function(t){if(!(t instanceof SVGElement))throw new Error("Missing SVG element for input adapter's viewport");if(this._element)throw new Error("Trying to initialize an InputAdapter already initialized");this._viewportAdapter.setElement(this._element=t),this._pointer=new p(this,this._viewportAdapter,this._element),this._element.addEventListener("mousedown",this.onMouseDown),this._element.addEventListener("mousemove",this.onMouseMove),this._element.addEventListener("touchstart",this.onTouchStart),this._element.addEventListener("touchmove",this.onTouchMove),this._element.addEventListener("contextmenu",this.onContextMenu),this._element.addEventListener("wheel",this.onWheel)}},{key:"destroy",value:function(){if(!this._element)throw new Error("Trying to destroy an InputAdapter that is not yet initialized");this._element.removeEventListener("mousedown",this.onMouseDown),this._element.removeEventListener("mousemove",this.onMouseMove),this._element.removeEventListener("touchstart",this.onTouchStart),this._element.removeEventListener("contextmenu",this.onContextMenu),this._element.removeEventListener("wheel",this.onWheel),this._element=null}},{key:"update",value:function(){this._element&&this._viewportAdapter.update()}},{key:"handleEvent",value:function(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=!0,u=!1,l=void 0;try{for(var s,c=this._contexts[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value,p=f.handleEvent.apply(f,[t].concat(o));if(p)return p}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return(n=b(d(e.prototype),"handleEvent",this)).call.apply(n,[this,t].concat(o))}},{key:"onMouseDown",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;document.activeElement.blur(),this._element.focus(),e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null);var n=t.ctrlKey?2:t.button;return this.onInputDown(t.clientX,t.clientY,n)&&(e._mousemove=this.onMouseDownThenMove,e._mouseup=this.onMouseDownThenUp,document.addEventListener("mousemove",e._mousemove),document.addEventListener("mouseup",e._mouseup)),!1}},{key:"onMouseMove",value:function(t){var e=this._viewportAdapter.transformScreenToView(t.clientX,t.clientY),n=this._pointer;n.setPosition(e.x,e.y),this.handleEvent("onMoveInputEvent",n)&&(t.stopPropagation(),t.preventDefault(),this.cancelInputEvent())}},{key:"onMouseDownThenMove",value:function(t){return t.stopPropagation(),t.preventDefault(),this.onInputMove(t.clientX,t.clientY),!1}},{key:"onMouseDownThenUp",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;return e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null),this.onInputUp(t.clientX,t.clientY),!1}},{key:"onTouchStart",value:function(t){if(1==t.changedTouches.length){t.stopPropagation(),t.preventDefault();var e=this._cursor;document.activeElement.blur(),this._element.focus(),e._touchmove&&(document.removeEventListener("touchmove",e._touchmove),e._touchmove=null),e._touchend&&(document.removeEventListener("touchend",e._touchend),e._touchend=null);var n=t.changedTouches[0];return this.onInputDown(n.clientX,n.clientY,0)&&(e._touchmove=this.onTouchStartThenMove,e._touchend=this.onTouchStartThenEnd,document.addEventListener("touchmove",e._touchmove),document.addEventListener("touchend",e._touchend)),!1}}},{key:"onTouchStartThenEnd",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._cursor;e._touchmove&&(document.removeEventListener("touchmove",e._touchmove),e._touchmove=null),e._touchend&&(document.removeEventListener("touchend",e._touchend),e._touchend=null);var n=t.changedTouches[0];return this.onInputUp(n.clientX,n.clientY),!1}},{key:"onTouchStartThenMove",value:function(t){t.stopPropagation(),t.preventDefault();var e=t.changedTouches[0];return this.onInputMove(e.clientX,e.clientY),!1}},{key:"onContextMenu",value:function(t){return t.stopPropagation(),t.preventDefault(),!1}},{key:"onWheel",value:function(t){t.stopPropagation(),t.preventDefault();var e=this._pointer,n=t.deltaY*this._scrollSensitivity,r=this._viewportAdapter.getScale(),o=r+n;return this.handleEvent("onZoomChange",e,o,r)||this._viewportAdapter.setScale(o),!1}},{key:"onInputDown",value:function(t,e,n){var r=this._cursor,o=this._pointer,i=this._viewportAdapter.transformScreenToView(t,e);return o.setPosition(i.x,i.y),this._dragging=!1,this._altinput=2==n,!this.handleEvent("onPreInputEvent",o)&&(o.beginInput(),r._timer=setTimeout(this.onDelayedInputDown,this._holdInputDelay),!0)}},{key:"onDelayedInputDown",value:function(){this._dragging||(this._altinput=!0)}},{key:"onInputMove",value:function(t,e){var n=this._pointer,r=this._viewportAdapter.transformScreenToView(t,e);if(n.setPosition(r.x,r.y),this._dragging)this._activeDragHandler&&this._activeDragHandler.onDragMove(n);else if(n.getDistanceSquToInitial()>this._draggingRadiusSqu){this._dragging=!0;var o=n.getInputEventPosition(),i=this.handleEvent("onDragStart",n,o.x,o.y);i?this._activeDragHandler=i:(this._dragging=!1,this.cancelInputEvent())}}},{key:"onInputUp",value:function(t,e){var n=this._cursor,r=n._timer;r&&(clearTimeout(r),n._timer=null);var o=this._pointer,i=this._viewportAdapter.transformScreenToView(t,e);if(o.setPosition(i.x,i.y),this._dragging)this._activeDragHandler&&(this._activeDragHandler.onDragStop(o),this._activeDragHandler=null);else if(this._altinput)this.handleEvent("onAltInputEvent",o);else if(!this.handleEvent("onInputEvent",o)){var a=t-this._prevEmptyX,u=e-this._prevEmptyY,l=a*a+u*u,s=Date.now()-this._prevEmptyTime;this._prevEmptyInput&&l<this._minTapRadius&&s<this._dblInputDelay?(this.handleEvent("onDblInputEvent",o),this._prevEmptyInput=!1):(this._prevEmptyInput=!0,this._prevEmptyTime=Date.now(),this._prevEmptyX=t,this._prevEmptyY=e)}o.endInput(),this.handleEvent("onPostInputEvent",o)}},{key:"cancelInputEvent",value:function(){var t=this._pointer,e=this._cursor;e._mousemove&&(document.removeEventListener("mousemove",e._mousemove),e._mousemove=null),e._mouseup&&(document.removeEventListener("mouseup",e._mouseup),e._mouseup=null);var n=e._timer;n&&(clearTimeout(n),e._timer=null),t.endInput(),this.handleEvent("onPostInputEvent",t)}},{key:"getContexts",value:function(){return this._contexts}},{key:"getActiveElement",value:function(){return this._element}},{key:"getViewportAdapter",value:function(){return this._viewportAdapter}},{key:"getPointerX",value:function(){return this._pointer?this._pointer.x:0}},{key:"getPointerY",value:function(){return this._pointer?this._pointer.y:0}},{key:"isPointerActive",value:function(){return!!this._pointer&&this._pointer.isActive()}},{key:"isUsingTouch",value:function(){return this._cursor._touchmove||this._cursor._touchend}},{key:"isAltInput",value:function(){return this._altinput}},{key:"isDragging",value:function(){return this._dragging}}])&&y(n.prototype,r),o&&y(n,o),e}(c),k=n(171);function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M=.4,N=.1,L=10,I=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=x(this,P(e).call(this,t)))._ref=o.a.createRef(),n._viewportAdapter=(new l).setMinScale(N).setMaxScale(L).setOffsetDamping(M),n._inputAdapter=new O(n._viewportAdapter),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(e,t),n=e,(r=[{key:"addInputHandler",value:function(t){if(!(t instanceof k.a))throw new Error("input handler must be an instanceof AbstractInputHandler");return this._inputAdapter.addInputHandler(t),this}},{key:"componentDidMount",value:function(){this._inputAdapter.initialize(this._ref.current)}},{key:"componentWillUnmount",value:function(){this._inputAdapter.destroy()}},{key:"componentDidUpdate",value:function(){this._inputAdapter.update()}},{key:"getSVGTransformString",value:function(){var t=this._viewportAdapter;return"translate("+t.getOffsetX()+" "+t.getOffsetY()+")"}},{key:"getSVGViewBoxString",value:function(t){var e=this._viewportAdapter,n=t*Math.max(Number.MIN_VALUE,e.getScale()),r=n/2;return-r+" "+-r+" "+n+" "+n}},{key:"getSVGElement",value:function(){return this._ref.current}},{key:"getInputAdapter",value:function(){return this._inputAdapter}},{key:"getViewportAdapter",value:function(){return this._inputAdapter.getViewportAdapter()}},{key:"render",value:function(){var t=this.getSVGViewBoxString(this.props.viewSize||300),e=this.getSVGTransformString();return o.a.createElement("svg",{ref:this._ref,id:this.props.id,className:a.a.viewport_component+" "+this.props.className,style:this.props.style,viewBox:t},o.a.createElement("g",{transform:e},this.props.children))}}])&&j(n.prototype,r),i&&j(n,i),e}(o.a.Component),A=n(169);function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var F=!0,B=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._trashMode=!1,this._nodeOnly=!1,this._moveModeFirst=F,this._handlingInput=!1,this._target={source:null,type:null},this._activeTarget={source:null,type:null,input:!0},this._immediateTarget={source:null,type:null},this._selectionBox=null,this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this)}var e,n,r;return e=t,(n=[{key:"setSelectionBox",value:function(t){return this._selectionBox=t,this}},{key:"setTrashMode",value:function(t){return this._trashMode=t,this}},{key:"setNodeEventsOnly",value:function(t){return this._nodeOnly=t,this}},{key:"setMoveModeFirst",value:function(t){return this._moveModeFirst=t,this}},{key:"onPreInputEvent",value:function(t){return this._handlingInput=!0,this.updateCurrentTarget(this._immediateTarget.source,this._immediateTarget.type),!1}},{key:"onPostInputEvent",value:function(t){this.updateCurrentTarget(null,null),this._handlingInput=!1}},{key:"onMouseOver",value:function(t){var e=t.target.value;this._immediateTarget.source=e.source,this._immediateTarget.type=e.type,this._immediateTarget.data=e}},{key:"onMouseOut",value:function(t){this._immediateTarget.source=null,this._immediateTarget.type=null,this._immediateTarget.data=null}},{key:"bindActiveTarget",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._activeTarget.source=t,this._activeTarget.type=e,this._activeTarget.input=n}},{key:"unbindActiveTarget",value:function(){this._activeTarget.source=null,this._activeTarget.type=null,this._activeTarget.input=!1}},{key:"updateCurrentTarget",value:function(t,e){this._target.source=t,this._target.type=e}},{key:"getActiveTargetSource",value:function(){return this._activeTarget.source}},{key:"getActiveTargetType",value:function(){return this._activeTarget.type}},{key:"hasActiveTarget",value:function(){return null!==this._activeTarget.type}},{key:"hasPointerEvents",value:function(t){return this._activeTarget.source===t?this._activeTarget.input:!this._nodeOnly||t instanceof A.a}},{key:"getCurrentTargetSource",value:function(){return this._target.source}},{key:"getCurrentTargetType",value:function(){return this._target.type}},{key:"hasCurrentTarget",value:function(){return null!==this._target.type}},{key:"getImmediateTargetSource",value:function(){return this._immediateTarget.source}},{key:"getImmediateTargetType",value:function(){return this._immediateTarget.type}},{key:"hasImmediateTarget",value:function(){return null!==this._immediateTarget.type}},{key:"isTrashMode",value:function(){return this._trashMode}},{key:"isMoveMode",value:function(t){return!(this._moveModeFirst^!t.isAltInput())}},{key:"isNodeEventsOnly",value:function(){return this._nodeOnly}},{key:"isMoveModeFirst",value:function(){return this._moveModeFirst}},{key:"isHandlingInput",value:function(){return this._handlingInput}},{key:"getSelectionBox",value:function(){return this._selectionBox}}])&&D(e.prototype,n),r&&D(e,r),t}();function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=H(this,V(e).call(this)))._inputController=t,n._cachedPosition={x:0,y:0},n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,t),n=e,(r=[{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.hasCurrentTarget())return!1;if(!e.isMoveMode(t.getInputAdapter()))return!1;var n=t.getInputEventPosition();return this._cachedPosition.x=n.x,this._cachedPosition.y=n.y,!0}},{key:"onDragMove",value:function(t){var e=t.x-this._cachedPosition.x,n=t.y-this._cachedPosition.y;t.getViewportAdapter().addOffset(e,n,!0)}},{key:"onDragStop",value:function(t){}}])&&G(n.prototype,r),o&&G(n,o),e}(k.a);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Q(this,q(e).call(this,t)))._inputController=new B,n._inputContext=new c,n._viewportComponent=o.a.createRef(),n._viewportInputHandler=new U(n._inputController),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this._inputContext,e=this._viewportComponent.current.getInputAdapter();t.addInputHandler(this._inputController).addInputHandler(this._viewportInputHandler,10),e.bindContext(t)}},{key:"componentWillUnmount",value:function(){var t=this._inputContext,e=this._viewportComponent.current.getInputAdapter();t.clearInputHandlers(),e.unbindContext(t)}},{key:"moveViewToPosition",value:function(t,e){this.getViewportAdapter().setOffset(-t,-e)}},{key:"getInputController",value:function(){return this._inputController}},{key:"getInputContext",value:function(){return this._inputContext}},{key:"getViewportComponent",value:function(){return this._viewportComponent.current}},{key:"getInputAdapter",value:function(){return this._viewportComponent.current.getInputAdapter()}},{key:"getViewportAdapter",value:function(){return this._viewportComponent.current.getViewportAdapter()}},{key:"render",value:function(){var t=this._inputController,e=this._viewportComponent.current,n=this.props.renderGraph,r=this.props.renderOverlay;return o.a.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.style},o.a.createElement(I,{ref:this._viewportComponent},n&&e&&n(this,e,t)),r&&e&&r(this,e,t))}}])&&Y(n.prototype,r),i&&Y(n,i),e}(o.a.Component);e.a=W},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(122),a=n.n(i),u=n(123),l=n.n(u),s=n(3);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,h(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 26 26"},o.a.createElement("path",{d:"M 11.5 -0.03125 C 9.542969 -0.03125 7.96875 1.59375 7.96875 3.5625 L 7.96875 4 L 4 4 C 3.449219 4 3 4.449219 3 5 L 3 6 L 2 6 L 2 8 L 4 8 L 4 23 C 4 24.644531 5.355469 26 7 26 L 19 26 C 20.644531 26 22 24.644531 22 23 L 22 8 L 24 8 L 24 6 L 23 6 L 23 5 C 23 4.449219 22.550781 4 22 4 L 18.03125 4 L 18.03125 3.5625 C 18.03125 1.59375 16.457031 -0.03125 14.5 -0.03125 Z M 11.5 2.03125 L 14.5 2.03125 C 15.304688 2.03125 15.96875 2.6875 15.96875 3.5625 L 15.96875 4 L 10.03125 4 L 10.03125 3.5625 C 10.03125 2.6875 10.695313 2.03125 11.5 2.03125 Z M 6 8 L 11.125 8 C 11.25 8.011719 11.371094 8.03125 11.5 8.03125 L 14.5 8.03125 C 14.628906 8.03125 14.75 8.011719 14.875 8 L 20 8 L 20 23 C 20 23.5625 19.5625 24 19 24 L 7 24 C 6.4375 24 6 23.5625 6 23 Z M 8 10 L 8 22 L 10 22 L 10 10 Z M 12 10 L 12 22 L 14 22 L 14 10 Z M 16 10 L 16 22 L 18 22 L 18 10 Z "}))}}])&&f(n.prototype,r),i&&f(n,i),e}(o.a.PureComponent);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(t){var n,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(i=g(e).call(this,t))||"object"!==b(i)&&"function"!=typeof i?m(r):i)._ref=o.a.createRef(),n._buttonElement=o.a.createRef(),n.state={active:!1,forceActive:!1},n._doubleTapTimeout=null,n.onMouseEnter=n.onMouseEnter.bind(m(n)),n.onMouseLeave=n.onMouseLeave.bind(m(n)),n.onClick=n.onClick.bind(m(n)),n.onAnyMouseDownNotConsumed=n.onAnyMouseDownNotConsumed.bind(m(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,t),n=e,(r=[{key:"onMouseEnter",value:function(t){var e=this;this.state.forceActive||this.setState({active:!0},(function(){var t=e.props.onChange;t&&t(!0)}))}},{key:"onMouseLeave",value:function(t){var e=this;this.state.forceActive||this.setState({active:!1},(function(){var t=e.props.onChange;t&&t(!1)}))}},{key:"onClick",value:function(t){var e=this;t.stopPropagation(),t.preventDefault(),this._doubleTapTimeout?(clearTimeout(this._doubleTapTimeout),this._doubleTapTimeout=null,this.setState({active:!1,forceActive:!1},(function(){var t=e.props.onClear;t&&t();var n=e.props.onChange;n&&n(!1)}))):this.setState((function(t,n){var r=!t.forceActive;return e._doubleTapTimeout=setTimeout((function(){e._doubleTapTimeout=null}),250),r&&document.documentElement.addEventListener("mousedown",e.onAnyMouseDownNotConsumed),{active:r,forceActive:r}}),(function(){var t=e.props.onChange;t&&t(e.state.active)}))}},{key:"onAnyMouseDownNotConsumed",value:function(t){var e=this;this.state.forceActive&&this._buttonElement.current!==t.target&&(t.stopPropagation(),t.preventDefault(),document.documentElement.removeEventListener("mousedown",this.onAnyMouseDownNotConsumed),this.setState({active:!1,forceActive:!1},(function(){var t=e.props.onChange;t&&t(!1)})))}},{key:"render",value:function(){var t=this.props.visible,e=this.state.active,n=!e&&!t;return o.a.createElement(s.a,{ref:this._ref,refButton:this._buttonElement,id:this.props.id,className:l.a.trash_container+(e?" active ":"")+(n?" hide ":"")+" "+this.props.className,style:this.props.style,title:"Delete",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},o.a.createElement(v,null))}}])&&d(n.prototype,r),i&&d(n,i),e}(o.a.Component),S=n(124),E=n.n(S),O=n(36);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,x(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"}))}}])&&C(n.prototype,r),i&&C(n,i),e}(o.a.PureComponent);function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,I(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.visible,e=this.props.mode,n=this.props.onChange,r=!t;return o.a.createElement("div",{id:this.props.id,className:E.a.tray_container+(r?" hide ":"")+" "+this.props.className,style:this.props.style},o.a.createElement(s.a,{className:E.a.tray_button+(0===e?" active ":""),onClick:function(){n&&n(0)},title:I18N.toString("cursor.actionmode")},o.a.createElement(O.a,null)),o.a.createElement(s.a,{className:E.a.tray_button+(1===e?" active ":""),onClick:function(){n&&n(1)},title:I18N.toString("cursor.movemode")},o.a.createElement(T,null)))}}])&&N(n.prototype,r),i&&N(n,i),e}(o.a.Component);function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var V=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=R(e).call(this,t))||"object"!==F(o)&&"function"!=typeof o?G(r):o).onTrashChange=n.onTrashChange.bind(G(n)),n.onTrashClear=n.onTrashClear.bind(G(n)),n.onModeChange=n.onModeChange.bind(G(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(e,t),n=e,(r=[{key:"onTrashChange",value:function(t){this.props.inputController.setTrashMode(t),t?this.props.session.getApp().getDrawerComponent().setViewportColor("var(--color-viewport-error)"):this.props.session.getApp().getDrawerComponent().setViewportColor(null)}},{key:"onTrashClear",value:function(){this.props.graphController.clearGraph()}},{key:"onModeChange",value:function(t){this.props.inputController.setMoveModeFirst(1===t)}},{key:"render",value:function(){var t=this.props.inputController,e=this.props.graphController,n=this.props.viewport,r=e.getGraph(),i=null;return t&&(i=t.isHandlingInput()?t.isMoveMode(n.getInputAdapter())?1:0:t.isMoveModeFirst()?1:0),o.a.createElement("div",{id:this.props.id,className:a.a.view_container+" "+this.props.className,style:this.props.style},o.a.createElement(w,{className:a.a.view_widget,style:{bottom:0,right:0},visible:!r.isEmpty()&&n&&(!n.getInputAdapter().isUsingTouch()||!n.getInputAdapter().isDragging()),onChange:this.onTrashChange,onClear:this.onTrashClear}),o.a.createElement(D,{className:a.a.view_widget,style:{bottom:0,left:0},visible:t,mode:i,onChange:this.onModeChange}),this.props.children)}}])&&B(n.prototype,r),i&&B(n,i),e}(o.a.Component);e.a=V},function(t,e,n){"use strict";var r=n(31),o=n(6),i=n(0),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"png-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},a.a.createElement("g",null,a.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),a.a.createElement("path",{fill:"#659C35",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),a.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),a.a.createElement("g",null,a.a.createElement("path",{fill:"#FFFFFF",d:"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z"})),a.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),a.a.createElement("polygon",{fill:"#88C057",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"})))}}])&&l(n.prototype,r),o&&l(n,o),e}(a.a.Component);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,b(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"jpg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},a.a.createElement("g",null,a.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),a.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),a.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),a.a.createElement("polygon",{fill:"#26B99A",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"}),a.a.createElement("path",{fill:"#14A085",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),a.a.createElement("g",null,a.a.createElement("path",{fill:"#FFFFFF",d:"M21.426,42.65v7.848c0,0.474-0.087,0.873-0.26,1.196c-0.173,0.323-0.406,0.583-0.697,0.779 c-0.292,0.196-0.627,0.333-1.005,0.41C19.085,52.961,18.696,53,18.295,53c-0.201,0-0.436-0.021-0.704-0.062 c-0.269-0.041-0.547-0.104-0.834-0.191s-0.563-0.185-0.827-0.294c-0.265-0.109-0.488-0.232-0.67-0.369l0.697-1.107 c0.091,0.063,0.221,0.13,0.39,0.198c0.168,0.068,0.353,0.132,0.554,0.191c0.2,0.06,0.41,0.111,0.629,0.157 s0.424,0.068,0.615,0.068c0.483,0,0.868-0.094,1.155-0.28s0.439-0.504,0.458-0.95V42.65H21.426z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M25.514,52.932h-1.641V42.855h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V52.932z M25.514,44.1v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335s0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032c0-0.164-0.023-0.354-0.068-0.567 c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492C27.5,44.166,27.163,44.1,26.744,44.1H25.514z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M39.5,47.736v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 s-0.583,0.187-0.889,0.232C36.781,52.978,36.479,53,36.178,53c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H39.5z"}))))}}])&&y(n.prototype,r),o&&y(n,o),e}(a.a.Component);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,S(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return a.a.createElement("svg",{className:"svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 56 56"},a.a.createElement("g",null,a.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),a.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),a.a.createElement("path",{fill:"#E57E25",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),a.a.createElement("g",null,a.a.createElement("path",{fill:"#FFFFFF",d:"M21.459,50.238c0,0.364-0.075,0.718-0.226,1.06s-0.362,0.643-0.636,0.902s-0.61,0.467-1.012,0.622 s-0.856,0.232-1.367,0.232c-0.219,0-0.444-0.012-0.677-0.034s-0.467-0.062-0.704-0.116s-0.463-0.13-0.677-0.226 s-0.398-0.212-0.554-0.349l0.287-1.176c0.128,0.073,0.289,0.144,0.485,0.212s0.398,0.132,0.608,0.191s0.419,0.107,0.629,0.144 s0.405,0.055,0.588,0.055c0.556,0,0.982-0.13,1.278-0.39c0.296-0.26,0.444-0.645,0.444-1.155c0-0.31-0.104-0.574-0.314-0.793 s-0.472-0.417-0.786-0.595s-0.654-0.355-1.019-0.533s-0.706-0.388-1.025-0.629s-0.583-0.526-0.793-0.854s-0.314-0.738-0.314-1.23 c0-0.446,0.082-0.843,0.246-1.189s0.385-0.641,0.663-0.882s0.602-0.426,0.971-0.554s0.759-0.191,1.169-0.191 c0.419,0,0.843,0.039,1.271,0.116s0.774,0.203,1.039,0.376c-0.055,0.118-0.118,0.248-0.191,0.39s-0.142,0.273-0.205,0.396 s-0.118,0.226-0.164,0.308s-0.073,0.128-0.082,0.137c-0.055-0.027-0.116-0.063-0.185-0.109s-0.166-0.091-0.294-0.137 s-0.296-0.077-0.506-0.096s-0.479-0.014-0.807,0.014c-0.183,0.019-0.355,0.07-0.52,0.157s-0.31,0.193-0.438,0.321 s-0.228,0.271-0.301,0.431s-0.109,0.313-0.109,0.458c0,0.364,0.104,0.658,0.314,0.882s0.47,0.419,0.779,0.588 s0.647,0.333,1.012,0.492s0.704,0.354,1.019,0.581s0.576,0.513,0.786,0.854S21.459,49.7,21.459,50.238z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M25.861,53.055L22.73,42.924h1.873l2.338,8.695l2.475-8.695h1.859l-3.281,10.131H25.861z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M40.668,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S38.561,52.954,38.255,53s-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 s-0.675-0.966-0.889-1.613s-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235s0.511-1.178,0.889-1.606s0.822-0.754,1.333-0.978 s1.062-0.335,1.654-0.335c0.547,0,1.058,0.091,1.531,0.273s0.897,0.456,1.271,0.82l-1.135,1.012 c-0.219-0.265-0.47-0.456-0.752-0.574s-0.574-0.178-0.875-0.178c-0.337,0-0.658,0.063-0.964,0.191s-0.579,0.344-0.82,0.649 s-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777s0.314,0.911,0.547,1.23 s0.497,0.556,0.793,0.711s0.608,0.232,0.937,0.232c0.101,0,0.234-0.007,0.403-0.021s0.337-0.036,0.506-0.068 s0.33-0.075,0.485-0.13s0.269-0.132,0.342-0.232v-2.488h-1.709v-1.121H40.668z"})),a.a.createElement("path",{fill:"#C8BDB8",d:"M45.5,22v-6h-6v2h-6v-4h-10v4h-6v-2h-6v6h6v-2h3.548c-4.566,2.636-7.548,7.588-7.548,13 c0,0.552,0.447,1,1,1s1-0.448,1-1c0-5.246,3.229-9.999,8-11.995V24h10v-2.995c4.771,1.997,8,6.75,8,11.995c0,0.552,0.447,1,1,1 s1-0.448,1-1c0-5.412-2.982-10.364-7.548-13H39.5v2H45.5z M15.5,20h-2v-2h2V20z M31.5,22h-6v-3.754V16h6v2.246V22z M41.5,18h2v2h-2 V18z"})))}}])&&_(n.prototype,r),o&&_(n,o),e}(a.a.Component);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,x(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return a.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},a.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),a.a.createElement("path",{fill:"#659C35",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),a.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M17.385,53h-1.641V42.924h2.898c0.428,0,0.852,0.068,1.271,0.205 c0.419,0.137,0.795,0.342,1.128,0.615c0.333,0.273,0.602,0.604,0.807,0.991s0.308,0.822,0.308,1.306 c0,0.511-0.087,0.973-0.26,1.388c-0.173,0.415-0.415,0.764-0.725,1.046c-0.31,0.282-0.684,0.501-1.121,0.656 s-0.921,0.232-1.449,0.232h-1.217V53z M17.385,44.168v3.992h1.504c0.2,0,0.398-0.034,0.595-0.103 c0.196-0.068,0.376-0.18,0.54-0.335c0.164-0.155,0.296-0.371,0.396-0.649c0.1-0.278,0.15-0.622,0.15-1.032 c0-0.164-0.023-0.354-0.068-0.567c-0.046-0.214-0.139-0.419-0.28-0.615c-0.142-0.196-0.34-0.36-0.595-0.492 c-0.255-0.132-0.593-0.198-1.012-0.198H17.385z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M31.316,42.924V53h-1.668l-3.951-6.945V53h-1.668V42.924h1.668l3.951,6.945v-6.945H31.316z"}),a.a.createElement("path",{fill:"#FFFFFF",d:"M41.16,47.805v3.896c-0.21,0.265-0.444,0.48-0.704,0.649s-0.533,0.308-0.82,0.417 S39.052,52.954,38.747,53c-0.306,0.046-0.608,0.068-0.909,0.068c-0.602,0-1.155-0.109-1.661-0.328s-0.948-0.542-1.326-0.971 c-0.378-0.429-0.675-0.966-0.889-1.613c-0.214-0.647-0.321-1.395-0.321-2.242s0.107-1.593,0.321-2.235 c0.214-0.643,0.51-1.178,0.889-1.606c0.378-0.429,0.822-0.754,1.333-0.978c0.51-0.224,1.062-0.335,1.654-0.335 c0.547,0,1.057,0.091,1.531,0.273c0.474,0.183,0.897,0.456,1.271,0.82l-1.135,1.012c-0.219-0.265-0.47-0.456-0.752-0.574 c-0.283-0.118-0.574-0.178-0.875-0.178c-0.337,0-0.659,0.063-0.964,0.191c-0.306,0.128-0.579,0.344-0.82,0.649 c-0.242,0.306-0.431,0.699-0.567,1.183s-0.21,1.075-0.219,1.777c0.009,0.684,0.08,1.276,0.212,1.777 c0.132,0.501,0.314,0.911,0.547,1.23s0.497,0.556,0.793,0.711c0.296,0.155,0.608,0.232,0.937,0.232c0.1,0,0.234-0.007,0.403-0.021 c0.168-0.014,0.337-0.036,0.506-0.068c0.168-0.032,0.33-0.075,0.485-0.13c0.155-0.055,0.269-0.132,0.342-0.232v-2.488h-1.709 v-1.121H41.16z"}),a.a.createElement("circle",{fill:"#F3D55B",cx:"18.931",cy:"14.431",r:"4.569"}),a.a.createElement("polygon",{fill:"#88C057",points:"6.5,39 17.5,39 49.5,39 49.5,28 39.5,18.5 29,30 23.517,24.517 \t"}))}}])&&C(n.prototype,r),o&&C(n,o),e}(a.a.PureComponent);function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t,e,n){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=A(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return G}));var F="png",B=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=L(this,A(e).call(this)))._imageType=n,t}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,t),n=e,(r=[{key:"exportTarget",value:function(t,e){var n=e,r=n.getCurrentModule(),o=n.getProjectName(),i=n.getCurrentModule().getGraphView().getViewportComponent().getSVGElement(),a=i.viewBox.baseVal,u=a.width,l=a.height,s=this.processSVGForExport(i,u,l,r),c="bw"===this._imageType?F:this._imageType;return Promise.resolve({name:o+"."+c,type:"image",data:s,width:u,height:l,"image-type":c})}},{key:"processColorAttribute",value:function(t,e){if(!e)return e;var n=e.indexOf("var(--");if(n<0)return e;var r=e.indexOf(")",n),i=e.substring(n+4,r),a=t.getStyleByName(i),u=a?a.getValue():"#000000";if("bw"===this._imageType){var l=o.a(u);o.d(l,l),u=o.b(l)}return u}},{key:"processSVGForExport",value:function(t,e,n,r){var o=r.getGraphController(),i=r.getGraphView().getViewportAdapter(),a=i.getOffsetX(),u=i.getOffsetY(),l=o.getGraph().getBoundingRect(),s=l.minX+a-30,c=l.minY+u-0,f=l.width+60,p=l.height+0,h=t.cloneNode(!0);h.setAttribute("viewBox",s+" "+c+" "+f+" "+p),h.setAttribute("width",e),h.setAttribute("height",n),h.setAttribute("font-size","16px"),h.setAttribute("font-family","monospace"),h.setAttribute("style",".graph-ui {display: none;}");var y=r.getApp().getThemeManager(),v=!0,b=!1,d=void 0;try{for(var g,m=h.getElementsByTagName("*")[Symbol.iterator]();!(v=(g=m.next()).done);v=!0){var _=g.value,w=_.getAttribute("stroke"),S=this.processColorAttribute(y,w);w!==S&&_.setAttribute("stroke",S);var E=_.getAttribute("fill"),O=this.processColorAttribute(y,E);E!==O&&_.setAttribute("fill",O)}}catch(t){b=!0,d=t}finally{try{v||null==m.return||m.return()}finally{if(b)throw d}}for(var k=h.getElementsByClassName("graph-ui");k.length>0;)k[0].remove();return h}},{key:"getIconClass",value:function(){switch(this._imageType){case F:return p;case"jpg":return g;case"svg":return O;case"bw":return T;default:return null}}},{key:"getLabel",value:function(){switch(this._imageType){case F:return I18N.toString("file.export.png");case"jpg":return I18N.toString("file.export.jpg");case"svg":return I18N.toString("file.export.svg");case"bw":return I18N.toString("file.export.bw");default:return I(A(e.prototype),"getLabel",this).call(this)}}},{key:"getTitle",value:function(){switch(this._imageType){case F:return I18N.toString("file.export.png.hint");case"jpg":return I18N.toString("file.export.jpg.hint");case"svg":return I18N.toString("file.export.svg.hint");case"bw":return I18N.toString("file.export.bw.hint");default:return I(A(e.prototype),"getTitle",this).call(this)}}},{key:"getImageType",value:function(){return this._imageType}}])&&N(n.prototype,r),i&&N(n,i),e}(r.a),R=[new B(F),new B("jpg"),new B("svg"),new B("bw")];function G(t){var e=!0,n=!1,r=void 0;try{for(var o,i=R[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;t.registerExporter(a,"image-"+a.getImageType())}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.visible,e=this.props.fromX||0,n=this.props.fromY||0,r=this.props.toX||e+1,i=this.props.toY||n+1,a=this.props.color||"#000000",u=r-e,l=i-n;return o.a.createElement("g",null,t&&o.a.createElement("rect",{className:"graph-ui",x:Math.min(r,e),y:Math.min(i,n),width:Math.abs(u),height:Math.abs(l),stroke:a,fill:a,fillOpacity:.1}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.Component),f=n(195);function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n,r,o,i){var a=Math.min(e,r),u=Math.min(n,o),l=Math.max(e,r),s=Math.max(n,o),c=!0,f=!1,p=void 0;try{for(var h,y=t.getNodes()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;v.x>=a&&v.x<l&&v.y>=u&&v.y<s&&i.push(v)}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}return i}var y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._boundingBox={fromX:0,fromY:0,toX:0,toY:0,visible:!1},this.targets=[]}var e,n,r;return e=t,(n=[{key:"getBoundingBox",value:function(){return this._boundingBox}},{key:"getSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this._boundingBox,r=Math.max(n.toX,n.fromX),o=Math.max(n.toY,n.fromY),i=Math.min(n.toX,n.fromX),a=Math.min(n.toY,n.fromY);this.clearSelection(),h(t,i,a,r,o,this.targets)}return this.targets}},{key:"beginSelection",value:function(t,e,n){var r=this._boundingBox;r.fromX=r.toX=e,r.fromY=r.toY=n,this.clearSelection(),r.visible=!0}},{key:"updateSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0)}},{key:"endSelection",value:function(t,e,n){var r=this._boundingBox;r.toX=e,r.toY=n,this.getSelection(t,!0),r.visible=!1}},{key:"isTargetInSelection",value:function(t){return this.targets.includes(t)}},{key:"hasSelection",value:function(){return this.targets.length>0}},{key:"clearSelection",value:function(){this.targets.length=0}},{key:"isVisible",value:function(){return this._boundingBox.visible}}])&&p(e.prototype,n),r&&p(e,r),t}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=d(this,g(e).call(this)))._inputController=t,o._graphController=n,o._selectionBox=r,o}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,t),n=e,(r=[{key:"onPreInputEvent",value:function(t){var e=this._inputController,n=this._selectionBox;return n.hasSelection()&&(e.isMoveMode(t.getInputAdapter())&&n.isTargetInSelection(e.getImmediateTargetSource())||n.clearSelection()),!1}},{key:"onDragStart",value:function(t){var e=this._inputController;if(e.hasActiveTarget())return!1;if(e.isMoveMode(t.getInputAdapter()))return!1;if(e.hasCurrentTarget())return!1;var n=t.getInputEventPosition();return this._selectionBox.beginSelection(this._graphController.getGraph(),n.x,n.y),!0}},{key:"onDragMove",value:function(t){this._selectionBox.isVisible()&&this._selectionBox.updateSelection(this._graphController.getGraph(),t.x,t.y)}},{key:"onDragStop",value:function(t){this._selectionBox.isVisible()&&this._selectionBox.endSelection(this._graphController.getGraph(),t.x,t.y)}}])&&b(n.prototype,r),o&&b(n,o),e}(n(171).a);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=E(this,O(e).call(this,t));var r=t.inputController,o=t.graphController;return n._selectionBox=new y,n._selectionBoxInputHandler=new _(r,o,n._selectionBox),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this.props.inputController;t&&t.setSelectionBox(this._selectionBox);var e=this.props.inputContext;if(e){var n=this.props.inputPriority||-1;e.addInputHandler(this._selectionBoxInputHandler,n)}}},{key:"componentWillUnmount",value:function(){this._selectionBox.clearSelection();var t=this.props.inputContext;t&&t.removeInputHandler(this._selectionBoxInputHandler)}},{key:"getSelectionBox",value:function(){return this._selectionBox}},{key:"getSelectionBoxInputHandler",value:function(){return this._selectionBoxInputHandler}},{key:"render",value:function(){var t=this._selectionBox,e=t.getBoundingBox();return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{nodes:t.getSelection()}),o.a.createElement(c,{visible:t.isVisible(),fromX:e.fromX,fromY:e.fromY,toX:e.toX,toY:e.toY}))}}])&&S(n.prototype,r),i&&S(n,i),e}(o.a.Component);e.a=C},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"formatLabel",value:function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],e}},{key:"getDefaultLabel",value:function(t){return""}},{key:"formatNodeLabel",value:function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],t}},{key:"formatEdgeLabel",value:function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],t}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}}])&&r(e.prototype,n),o&&r(e,o),t}(),i=new o;function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=10,l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cachedGraphHash=0,this._refreshTicks=e,this._elapsedTicks=1/0,this._listeners=[]}var e,n,r;return e=t,(n=[{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Cannot add uncallable listener");this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);return e>=0&&(this._listeners.splice(e,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"reset",value:function(){this._elapsedTicks=0,this._cachedGraphHash=0}},{key:"update",value:function(t){if(++this._elapsedTicks>=this._refreshTicks){this._elapsedTicks=0;var e=t.getHashCode(!1);if(e!==this._cachedGraphHash){this._cachedGraphHash=e;var n=!0,r=!1,o=void 0;try{for(var i,a=this._listeners[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)(0,i.value)(t)}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}}}])&&a(e.prototype,n),r&&a(e,r),t}(),s=n(169),c=n(170);function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._graph=e,this._graphChangeHandler=new l,this._labelEditor=null,this._labelFormatter=null,this._listeners=[]}var e,n,r;return e=t,(n=[{key:"setLabelEditor",value:function(t){return this._labelEditor=t,this}},{key:"setLabelFormatter",value:function(t){return this._labelFormatter=t,this}},{key:"addListener",value:function(t){return this._listeners.push(t),this}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);e>=0&&this._listeners.splice(e,1)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"initialize",value:function(){}},{key:"update",value:function(){this._graphChangeHandler&&this._graphChangeHandler.update(this._graph)}},{key:"destroy",value:function(){}},{key:"clearGraph",value:function(){window.confirm(I18N.toString("alert.graph.clear"))&&(this._graph.clear(),this.emitGraphEvent("graph-clear"))}},{key:"onGraphEvent",value:function(t,e){}},{key:"emitGraphEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.onGraphEvent(t,e);var n=!0,r=!1,o=void 0;try{for(var i,a=this._listeners[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.onGraphEvent(this,t,e)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"openLabelEditor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._labelEditor){var r=this._labelEditor,o=e||"";r.openEditor(t,e,(function(t,e){var r=!o||o.length>0&&e!==o;t instanceof c.a?t.setEdgeLabel(e):t instanceof s.a&&t.setNodeLabel(e),n&&n(t,e,r)}),(function(t){n&&n(t,null,!1)}))}else n&&n(t,e,!1)}},{key:"getLabelFormatter",value:function(){return this._labelFormatter||i}},{key:"getLabelEditor",value:function(){return this._labelEditor}},{key:"getGraphChangeHandler",value:function(){return this._graphChangeHandler}},{key:"getGraph",value:function(){return this._graph}}])&&f(e.prototype,n),r&&f(e,r),t}();e.a=p},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(172);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,s(e).call(this,t))}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.node,e=this.props.fill,n=this.props.stroke,r=this.props.onMouseOver,a=this.props.onMouseOut,u=this.props.pointerEvents,l=t.getNodeLabel(),s=t.getNodeSize();return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.b,{position:t,radius:s,label:l,color:e,outline:n,onMouseOver:r?function(e){(e.target.value||(e.target.value={})).source=t,r(e)}:null,onMouseOut:a?function(e){(e.target.value||(e.target.value={})).source=t,a(e)}:null,pointerEvents:u}))}}])&&u(n.prototype,r),a&&u(n,a),e}(o.a.Component),p=n(182);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=v(this,b(e).call(this,t));var r=t.inputController,o=t.graphController;return n._graphNodeInputHandler=new p.d(r,o),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this.props.inputContext;if(t){var e=this.props.inputPriority||-1;t.addInputHandler(this._graphNodeInputHandler,e)}}},{key:"componentWillUnmount",value:function(){var t=this.props.inputContext;t&&t.removeInputHandler(this._graphNodeInputHandler)}},{key:"getGraphNodeInputHandler",value:function(){return this._graphNodeInputHandler}},{key:"render",value:function(){var t=this.props.inputController,e=this.props.nodeRenderer||f,n=this.props.editable,r=t?t.onMouseOver:null,i=t?t.onMouseOut:null,a=[],u=!0,l=!1,s=void 0;try{for(var c,p=this.props.nodes[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){var h=c.value;a.push(o.a.createElement(e,{key:h.getGraphElementID(),node:h,fill:"var(--color-graph-node)",stroke:"var(--color-graph-text)",onMouseOver:r,onMouseOut:i,pointerEvents:n&&t&&t.hasPointerEvents(h)?"all":"none"}))}}catch(t){l=!0,s=t}finally{try{u||null==p.return||p.return()}finally{if(l)throw s}}return o.a.createElement("g",null,a)}}])&&y(n.prototype,r),i&&y(n,i),e}(o.a.Component);e.a=g},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(184);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,s(e).call(this,t)))._prevSize=1,n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t,e,n=this.props.node,r=this.props.color,a=this.props.onMouseOver,u=this.props.onMouseOut,l=this.props.pointerEvents;return"getNodeSize"in n?(t=n.getNodeSize(),e=n.getNodeSize()/2,this._prevSize=e):(t=0,e=this._prevSize),o.a.createElement(o.a.Fragment,null,o.a.createElement(i.b,{position:n,offset:t,size:e,color:r,onMouseOver:a?function(t){(t.target.value||(t.target.value={})).source=n,a(t)}:null,onMouseOut:u?function(t){(t.target.value||(t.target.value={})).source=n,u(t)}:null,pointerEvents:l}))}}])&&u(n.prototype,r),a&&u(n,a),e}(o.a.Component),p=n(187);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=v(this,b(e).call(this,t));var r=t.inputController,o=t.graphController;return n._startMarkerInputHandler=new p.b(r,o),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this.props.inputContext;if(t){var e=this.props.inputPriority||-1;t.addInputHandler(this._startMarkerInputHandler,e)}}},{key:"componentWillUnmount",value:function(){var t=this.props.inputContext;t&&t.removeInputHandler(this._startMarkerInputHandler)}},{key:"render",value:function(){var t=this.props.inputController,e=this.props.startMarkerRenderer||f,n=this.props.editable,r=this.props.graphController.getGraph(),i=this._startMarkerInputHandler.getGhostMarker();"getStartNode"in r&&!i&&(i=r.getStartNode());var a=t?t.onMouseOver:null,u=t?t.onMouseOut:null;return o.a.createElement("g",null,i&&o.a.createElement(e,{node:i,color:"var(--color-graph-text)",onMouseOver:a,onMouseOut:u,pointerEvents:n&&t&&t.hasPointerEvents(i)?"all":"none"}))}}])&&y(n.prototype,r),i&&y(n,i),e}(o.a.Component);e.a=g},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(177);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,s(e).call(this,t))}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.edge,e=this.props.stroke,n=this.props.onMouseOver,r=this.props.onMouseOut,a=this.props.pointerEvents,u=t.getStartPoint(),l=t.getEndPoint(),s=t.getCenterPoint(),c=t.getEdgeLabel(),f=t.getEdgeDirection();return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.e,{directed:i.a,from:u,to:l,center:s,label:c,direction:f,color:e,onMouseOver:n?function(e){(e.target.value||(e.target.value={})).source=t,n(e)}:null,onMouseOut:r?function(e){(e.target.value||(e.target.value={})).source=t,r(e)}:null,pointerEvents:a}))}}])&&u(n.prototype,r),a&&u(n,a),e}(o.a.Component),p=n(183);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=v(this,b(e).call(this,t));var r=t.inputController,o=t.graphController;return n._graphEdgeInputHandler=new p.d(r,o),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this.props.inputContext;if(t){var e=this.props.inputPriority||-1;t.addInputHandler(this._graphEdgeInputHandler,e)}}},{key:"componentWillUnmount",value:function(){var t=this.props.inputContext;t&&t.removeInputHandler(this._graphEdgeInputHandler)}},{key:"getGraphEdgeInputHandler",value:function(){return this._graphEdgeInputHandler}},{key:"render",value:function(){var t=this.props.inputController,e=this.props.edgeRenderer||f,n=this.props.editable,r=t?t.onMouseOver:null,i=t?t.onMouseOut:null,a=[],u=!0,l=!1,s=void 0;try{for(var c,p=this.props.edges[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){var h=c.value;a.push(o.a.createElement(e,{key:h.getGraphElementID(),edge:h,stroke:"var(--color-graph-text)",onMouseOver:r,onMouseOut:i,pointerEvents:n&&t&&t.hasPointerEvents(h)?"all":"none"}))}}catch(t){l=!0,s=t}finally{try{u||null==p.return||p.return()}finally{if(l)throw s}}return o.a.createElement("g",null,a)}}])&&y(n.prototype,r),i&&y(n,i),e}(o.a.Component);e.a=g},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(128),a=n.n(i),u=n(173),l=n(169),s=n(170);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=p(e).call(this,t))||"object"!==c(o)&&"function"!=typeof o?h(r):o).inputElement=null,n.placeholder="",n.maxLength=524288,n.multiLine=!0,n.formatter=null,n._submitTimeout=null,n._submit=t.submitOnBlur,n._skipBlur=!1,n._skipSelect=!1,n.state={prevValue:"",value:""},n.onChange=n.onChange.bind(h(n)),n.onFocus=n.onFocus.bind(h(n)),n.onBlur=n.onBlur.bind(h(n)),n.onKeyDown=n.onKeyDown.bind(h(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,t),n=e,(r=[{key:"setFormatter",value:function(t){return this.formatter=t,this}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"onFocus",value:function(t){this._skipSelect&&(this.inputElement.select(),this._skipSelect=!1)}},{key:"onBlur",value:function(t){var e=this;this._submitTimeout||(this._submitTimeout=setTimeout((function(){if(e._submitTimeout=null,!e._skipBlur){var n=e._submit;if(e._submit=e.props.submitOnBlur,document.activeElement!==e.inputElement&&n){var r=e.state.value;e.props.onSubmit&&e.props.onSubmit(r),e.setState({prevValue:r})}else e.setState((function(t,e){return{value:t.prevValue}}));e.props.onBlur&&e.props.onBlur(t)}}),30))}},{key:"onKeyDown",value:function(t){var e=this;if("Enter"===t.key){if(t.shiftKey&&this.multiLine)return;this._submit=!0,this.inputElement.blur(),t.preventDefault(),t.stopPropagation()}else"Escape"===t.key&&(this.setState((function(t,e){return{value:t.prevValue}}),(function(){e._submit=!1,e.inputElement.blur()})),t.preventDefault(),t.stopPropagation())}},{key:"onChange",value:function(t){var e=t.target,n=e.selectionStart,r=e.value;this.formatter&&(r=this.formatter(r,this.state.value)),this.setState({value:r},(function(){e.selectionEnd=n}))}},{key:"focus",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._skipSelect=t,this.inputElement.focus()}},{key:"ignoreBlur",value:function(t){var e=this._skipBlur;return this._skipBlur=t,e!==t}},{key:"appendValue",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.state.value;o&&o.length+t.length>this.maxLength||(e=o&&o.length>0?o+n+t:t,r&&this.formatter&&(e=this.formatter(e,this.state.value)),this.setState((function(t,n){return{value:e}})))}},{key:"resetValue",value:function(t){this.setState({prevValue:t,value:t})}},{key:"setValue",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t;e&&this.formatter&&(n=this.formatter(n,this.state.value)),this.setState({value:n})}},{key:"getValue",value:function(){return this.state.value}},{key:"render",value:function(){var t=this,e=this.placeholder,n=this.maxLength,r=this.multiLine,i=this.props.disabled,a=this.state.value;return o.a.createElement("div",{id:this.props.id,className:this.props.className,style:this.props.style},r?o.a.createElement("textarea",{ref:function(e){return t.inputElement=e},type:"text",rows:"1",spellCheck:"false",disabled:i,placeholder:e,maxLength:n,value:a||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}):o.a.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",spellCheck:"false",disabled:i,placeholder:e,maxLength:n,value:a||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown}))}}])&&f(n.prototype,r),i&&f(n,i),e}(o.a.Component);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(t){var n,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(i=g(e).call(this,t))||"object"!==b(i)&&"function"!=typeof i?m(r):i)._ref=o.a.createRef(),n.inputComponent=null,n.state={open:!1},n._target=null,n._targetCallback=null,n.onInputSubmit=n.onInputSubmit.bind(m(n)),n.onInputBlur=n.onInputBlur.bind(m(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,t),n=e,(r=[{key:"openEditor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!(t instanceof u.a))throw new Error("Can only open editor for GraphElements");if(this._target=t,this._targetOnSubmit=r,this._targetOnCancel=o,t instanceof l.a){var i=this.props.labelFormatter.getNodeLabelFormatter();this.inputComponent.setFormatter(i)}else if(t instanceof s.a){var a=this.props.labelFormatter.getEdgeLabelFormatter();this.inputComponent.setFormatter(a)}this.setState({open:!0},(function(){e.inputComponent.resetValue(n||""),e.inputComponent.focus()}))}},{key:"closeEditor",value:function(){this._target=null,this._targetOnSubmit=null,this._targetOnCancel=null,this.inputComponent.setFormatter(null),this.setState({open:!1})}},{key:"isEditorOpen",value:function(){return this.state.open}},{key:"getTarget",value:function(){return this._target}},{key:"onInputSubmit",value:function(t){this._targetOnSubmit&&(this._targetOnSubmit(this._target,t),this._targetOnCancel=null)}},{key:"onInputBlur",value:function(t){this._targetOnCancel&&(this._targetOnCancel(this._target),this._targetOnSubmit=null),this.closeEditor()}},{key:"render",value:function(){var t=this,e=this.state.open,n=this._target,r=this.props.style||{};if(this.props.viewport){var i=this.props.viewport.getViewportAdapter();if(n){var u=n.getCenterPoint(),l=i.getElement(),s=l.getBoundingClientRect(),c=function(t,e,n){var r=t.getScreenCTM();return{x:e*r.a+r.e,y:n*r.d+r.f}}(l,u.x+i.getOffsetX(),u.y+i.getOffsetY()),f=c.x,p=c.y,h=-this._ref.current.offsetWidth/2-s.left,y=-this._ref.current.offsetHeight/2-s.top;r.top=p+y+"px",r.left=f+h+"px"}}return o.a.createElement("div",{ref:this._ref,id:this.props.id,className:a.a.editor_container+(e?" open ":"")+" "+this.props.className,style:r},o.a.createElement(v,{ref:function(e){return t.inputComponent=e},submitOnBlur:this.props.saveOnExit,onSubmit:this.onInputSubmit,onBlur:this.onInputBlur}),o.a.createElement("div",{className:a.a.tray_container},this.props.children))}}])&&d(n.prototype,r),i&&d(n,i),e}(o.a.Component);e.a=w},function(t,e,n){"use strict";function r(t){if(t.getNodeCount()<=1)return[];var e=t.getEdges(),n=t.getNodes().slice(),r=n.shift(),o=[];for(o.push(r);o.length>0;){var i=o.pop(),a=!0,u=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;if(f.getEdgeFrom()===i){var p=n.indexOf(f.getEdgeTo());if(p>=0){var h=n.splice(p,1)[0];o.push(h)}}}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}}return n}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(178),o=1e3;function i(t,e){if("string"==typeof e&&(e=e[Symbol.iterator]()),t.isDeterministic()){for(var n=t.getStartState(),r=null;r=e.next().value;){var i=t.doTransition(n,r);if(i.length<1)return!1;n=i[0]}return t.isFinalState(n)}var u=[],l=[],s=t.getStartState();u.push({state:s,index:0});var c=!0,f=!1,p=void 0;try{for(var h,y=t.doClosureTransition(s)[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;u.push({state:v,index:0})}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}for(var b=0;u.length>0;){if(a(t,e.next().value,u,l))return!0;if(++b>o)return!1}return!1}function a(t,e,n,r){var o=null,i=[],a=0;e&&r.push(e);var u=!0,l=!1,s=void 0;try{for(var c,f=n[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;if(o=p.state,e=p.index<r.length?r[p.index]:null){a=p.index+1;var h=!0,y=!1,v=void 0;try{for(var b,d=t.doTerminalTransition(o,e)[Symbol.iterator]();!(h=(b=d.next()).done);h=!0){var g=b.value;i.push({state:g,index:a})}}catch(t){y=!0,v=t}finally{try{h||null==d.return||d.return()}finally{if(y)throw v}}}else if(t.isFinalState(o))return!0;a=p.index}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}return n.length=0,n.push.apply(n,i),!1}n(176);var u=n(189);n(179);n.d(e,"a",(function(){return r.a})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return u.a}))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=i(this,u(e).call(this,t,n,r)))._accept=!1,o._custom=!1,o}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,(r=[{key:"setNodeAccept",value:function(t){this._accept=t}},{key:"getNodeAccept",value:function(){return this._accept}},{key:"setNodeCustom",value:function(t){this._custom=t}},{key:"getNodeCustom",value:function(){return this._custom}},{key:"getHashString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return a(u(e.prototype),"getHashString",this).call(this,t)+":"+(this._accept?"1":"0")}}])&&o(n.prototype,r),s&&o(n,s),e}(n(169).a);e.a=s},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n(186),o=n(175),i={parse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?e.clear():e=new r.a;for(var n=t.nodes||[],o=Math.min(n.length||0,t.nodeCount||0),i=t.edges||[],a=Math.min(i.length||0,t.edgeCount||0),u=t.initial||0,l=new Map,s=0;s<o;++s){var c=n[s];if(c){var f=e.createNode(c.x||0,c.y||0,c.id);f.setNodeLabel(c.label||""),f.setNodeAccept(c.accept||!1),f.setNodeCustom(c.custom||!1),l.set(s,f)}}var p=l.get(u);p&&e.setStartNode(p);for(var h=0;h<a;++h){var y=i[h];if(y){var v=l.get(y.from)||null;if(v){var b=l.get(y.to)||null,d=e.createEdge(v,b,y.id),g=y.quad||{};d.setEdgeLabel(y.label||""),d.setQuadraticRadians(g.radians||0),d.setQuadraticLength(g.length||0)}}}return e},objectify:function(t){for(var e=t.getNodes()||[],n=e.length||0,r=t.getEdges()||[],o=r.length||0,i=t.getStartNode(),a=new Array(n),u=new Map,l=0;l<n;++l){var s=e[l];if(s){var c=s.getGraphElementID();u.set(s,l),a[l]={id:c,x:s.x||0,y:s.y||0,label:s.getNodeLabel()||"",accept:s.getNodeAccept()||!1,custom:s.getNodeCustom()||!1}}}for(var f=new Array(o),p=0;p<o;++p){var h=r[p];if(h){var y=h.getGraphElementID(),v=h.getQuadratic()||{},b=h.getEdgeFrom(),d=h.getEdgeTo(),g=u.has(b)?u.get(b):-1,m=u.has(d)?u.get(d):-1;f[p]={id:y,from:g,to:m,quad:{radians:v.radians||0,length:v.length||0},label:h.getEdgeLabel()||""}}}return{nodeCount:n,nodes:a,edgeCount:o,edges:f,initial:u.get(i)||0,_version:"1.0.0"}}},a={parse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e?e.clear():e=new r.a;for(var n=t.getElementsByTagName("state")||[],i=n.length,a=t.getElementsByTagName("transition")||[],u=a.length,l="0",s=new Map,c=0;c<i;++c){var f=n[c];if(f){var p=f.getAttribute("id");if(p){var h=0,y=f.getElementsByTagName("x");if(y.length>0){var v=y[0];if(v.hasChildNodes()){var b=v.childNodes[0];if(b)try{h=parseFloat(b.nodeValue)||0}catch(t){h=0}}}var d=0,g=f.getElementsByTagName("y");if(g.length>0){var m=g[0];if(m.hasChildNodes()){var _=m.childNodes[0];if(_)try{d=parseFloat(_.nodeValue)||0}catch(t){d=0}}}var w=f.getElementsByTagName("initial"),S=w.length>0,E=f.getElementsByTagName("final"),O=E.length>0,k=e.createNode(h,d);k.setNodeLabel(f.getAttribute("name")||""),k.setNodeAccept(O),S&&(l=p),s.set(p,k)}}}var C=s.get(l);C&&e.setStartNode(C);for(var j=e.getBoundingRect(),x=j.minX,P=j.minY,T=j.width,M=j.height,N=e.getNodes(),L=0,I=N.length;L<I;++L)N[L].x-=x+T/2,N[L].y-=P+M/2;for(var A=new Map,D=0;D<u;++D){var F=a[D];if(F){var B=null,R=F.getElementsByTagName("from");if(R.length>0){var G=R[0];if(G.hasChildNodes()){var H=G.childNodes[0];H&&(B=H.nodeValue)}}if(s.has(B)){var V="",z=F.getElementsByTagName("to");if(z.length>0){var U=z[0];if(U.hasChildNodes()){var X=U.childNodes[0];X&&(V=X.nodeValue||"")}}var Y="",Q=F.getElementsByTagName("read");if(Q.length>0){var q=Q[0];if(q.hasChildNodes()){var K=q.childNodes[0];K&&(Y=K.nodeValue||"")}}var W=B+"\n"+V,Z=void 0;A.has(W)?Z=A.get(W):(Z=[],A.set(W,Z)),Z.push(Y)}}}var J=!0,$=!1,tt=void 0;try{for(var et,nt=A.keys()[Symbol.iterator]();!(J=(et=nt.next()).done);J=!0){var rt=et.value,ot=rt.split("\n");if(2===ot.length){var it=A.get(rt),at=it.join(o.b),ut=s.get(ot[0]),lt=s.get(ot[1]),st=e.createEdge(ut,lt);st.setEdgeLabel(at)}}}catch(t){$=!0,tt=t}finally{try{J||null==nt.return||nt.return()}finally{if($)throw tt}}return e},objectify:function(t){var e=t.getNodes()||[],n=e.length||0,r=t.getEdges()||[],i=t.getStartNode(),a=(new DOMParser).parseFromString('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\x3c!--Created with flap.js 1.0.0--\x3e<structure></structure>',"application/xml"),u=a.getElementsByTagName("structure")[0],l=a.createElement("type");l.innerHTML="fa",u.appendChild(l);var s=a.createElement("automaton");u.appendChild(s);for(var c=new Map,f=0;f<n;++f){var p=e[f];c.set(p,f);var h=a.createElement("state");h.id=""+f,h.setAttribute("name",p.getNodeLabel()),s.appendChild(h);var y=a.createElement("x");y.innerHTML=""+(p.x||0),h.appendChild(y);var v=a.createElement("y");v.innerHTML=""+(p.y||0),h.appendChild(v),i===p&&h.appendChild(a.createElement("initial")),p.getNodeAccept()&&h.appendChild(a.createElement("final"))}var b=!0,d=!1,g=void 0;try{for(var m,_=r[Symbol.iterator]();!(b=(m=_.next()).done);b=!0){var w=m.value,S=w.getEdgeLabel().split(o.b),E=!0,O=!1,k=void 0;try{for(var C,j=S[Symbol.iterator]();!(E=(C=j.next()).done);E=!0){var x=C.value,P=a.createElement("transition");s.appendChild(P);var T=a.createElement("from");T.innerHTML=""+(c.get(w.getEdgeFrom())||0),P.appendChild(T);var M=a.createElement("to");M.innerHTML=""+(c.get(w.getEdgeTo())||0),P.appendChild(M);var N=a.createElement("read");N.innerHTML=""+(x||""),P.appendChild(N)}}catch(t){O=!0,k=t}finally{try{E||null==j.return||j.return()}finally{if(O)throw k}}}}catch(t){d=!0,g=t}finally{try{b||null==_.return||_.return()}finally{if(d)throw g}}return a}}},function(t,e,n){"use strict";var r=n(170);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"getDefaultLabel",value:function(t){return t instanceof r.a?this.getDefaultEdgeLabel():this.getDefaultNodeLabel()}},{key:"getLabelFormatter",value:function(t){return t instanceof r.a?this.getEdgeLabelFormatter():this.getNodeLabelFormatter()}},{key:"getDefaultNodeLabel",value:function(){return""}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){throw new Error("Node label formatting is not supported")}},{key:"getEdgeLabelFormatter",value:function(){throw new Error("Edge label formatting is not supported")}}])&&o(e.prototype,n),i&&o(e,i),t}();e.a=i},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Missing module for machine controller");if(!n)throw new Error("Missing machine builder for machine controller");this._module=e,this._machineBuilder=n}var e,n,o;return e=t,(n=[{key:"initialize",value:function(t){this._machineBuilder.initialize(t)}},{key:"destroy",value:function(t){this._machineBuilder.destroy(t)}},{key:"update",value:function(t){}},{key:"getMachineBuilder",value:function(){return this._machineBuilder}},{key:"getModule",value:function(){return this._module}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";var r={__eventListeners:null,mixin:function(t){var e=t.prototype;Object.assign(e,r),delete e.mixin},registerEvent:function(t){if(this.__eventListeners||(this.__eventListeners=new Map),this.__eventListeners.has(t))throw new Error("Already registered event '"+t+"'");this.__eventListeners.set(t,[])},unregisterEvent:function(t){if(this.__eventListeners){if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.delete(t)}},addEventListener:function(t,e){if(this.__eventListeners||(this.__eventListeners=new Map),!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.get(t).push(e)},removeEventListener:function(t,e){if(this.__eventListeners){if(!this.__eventListeners.has(t))throw new Error("Unknown event '"+t+"'");for(var n=this.__eventListeners.get(t),r=!1,o=n.length;o--;)n[o]===e&&(n.splice(o,1),r=!0);if(!r)throw new Error("Unable to find listener for event '"+t+"'")}},clearEventListeners:function(t){if(this.__eventListeners)if(t){if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");this.__eventListeners.get(t).length=0}else this.__eventListeners.clear()},countEventListeners:function(t){return this.__eventListeners&&this.__eventListeners.has(t)?this.__eventListeners.get(t).length:0},getEventListeners:function(t){return this.__eventListeners?this.__eventListeners.get(t):null},on:function(t,e){this.addEventListener(t,e)},once:function(t,e){var n=this;this.addEventListener(t,(function r(){try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];e.apply(null,i)}finally{n.removeEventListener(t,r)}}))},emit:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];try{if(!this.__eventListeners)return;var o;if(!this.__eventListeners.has(t))throw new Error("Unable to find event '"+t+"'");o=this.__eventListeners.get(t);for(var i=null,a=o.length;a--;){try{i=o[a].apply(null,n)}catch(t){continue}if(!0===i)break}}finally{this.onEventProcessed.apply(this,[t].concat(n))}},onEventProcessed:function(t){}};e.a=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=i(this,a(e).call(this)))._graphController=t,r._graphParser=n,r._graphData=n.objectify(t.getGraph()),r}var n,r,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),n=e,(r=[{key:"applyUndo",value:function(t){var n=t.getPreviousEvent();n instanceof e?n.applyRedo(t):this._graphController.getGraph().clear()}},{key:"applyRedo",value:function(t){this._graphParser.parse(this._graphData,this._graphController.getGraph())}}])&&o(n.prototype,r),l&&o(n,l),e}(n(190).a);e.a=l},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(130),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,className:a.a.panel_divider+" "+this.props.className,style:this.props.style})}}])&&l(n.prototype,r),i&&l(n,i),e}(o.a.Component);e.a=p},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r),i=n(131),a=n.n(i);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=s(e).call(this,t))||"object"!==u(o)&&"function"!=typeof o?c(r):o).state={checked:t.initial||!1},n.onChange=n.onChange.bind(c(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(r=[{key:"setChecked",value:function(t){this.setState({checked:t})}},{key:"isChecked",value:function(){return this.state.checked}},{key:"onChange",value:function(t){var e=t.target.checked;this.state.checked!==e&&this.setState({checked:e})}},{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id,className:a.a.checkbox_container+" "+this.props.className,style:this.props.style},o.a.createElement("input",{type:"checkbox",id:this.props.id+"-checkbox",name:this.props.id+"-checkbox",value:this.props.value,checked:this.state.checked,disabled:this.props.disabled,onChange:this.onChange}),o.a.createElement("label",{htmlFor:this.props.id+"-checkbox"},this.props.title))}}])&&l(n.prototype,r),i&&l(n,i),e}(o.a.Component);e.a=p},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e}},{key:"compose",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=u(e).call(this,t))||"object"!==i(o)&&"function"!=typeof o?l(r):o).ref=null,n._timeout=null,n.onMouseDown=n.onMouseDown.bind(l(n)),n.onAnyMouseUp=n.onAnyMouseUp.bind(l(n)),n}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"onMouseDown",value:function(t){this.props.parent.ignoreBlur(!0)&&document.addEventListener("mouseup",this.onAnyMouseUp),this.props.onClick&&this.props.onClick(t,this)}},{key:"onAnyMouseUp",value:function(){var t=this;document.removeEventListener("mouseup",this.onAnyMouseUp),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout((function(){t._timeout=null;var e=t.props.parent;e.ignoreBlur(!1),document.activeElement===t.ref?e.focus(!1):document.activeElement!==t.props.parent.inputElement&&e.onBlur()}),50)}},{key:"render",value:function(){var t=this;return o.a.createElement("button",{ref:function(e){return t.ref=e},id:this.props.id,className:this.props.className,style:this.props.style,title:this.props.title,onMouseDown:this.onMouseDown},this.props.title)}}])&&a(n.prototype,r),c&&a(n,c),e}(o.a.Component);e.a=c},function(t,e,n){"use strict";var r=n(0),o=n.n(r);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}))}}])&&a(n.prototype,r),i&&a(n,i),e}(o.a.PureComponent);e.a=c},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=[]}var e,n,o;return e=t,(n=[{key:"addListener",value:function(t){if("function"!=typeof t)throw new Error("Cannot add uncallable listener");this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=this._listeners.indexOf(t);return e>=0&&(this._listeners.splice(e,1),!0)}},{key:"clearListeners",value:function(){this._listeners.length=0}},{key:"getListeners",value:function(){return this._listeners}},{key:"update",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._listeners[Symbol.iterator]();!(e=(o=i.next()).done);e=!0)(0,o.value)(t)}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._machineChangeHandler=new o,this._errors=[],this._warnings=[],this.onGraphChange=this.onGraphChange.bind(this)}var e,n,r;return e=t,(n=[{key:"initialize",value:function(t){t.getGraphController().getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"destroy",value:function(t){t.getGraphController().getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"onGraphChange",value:function(t){this.attemptBuildMachine(t,this.getMachine(),this._errors,this._warnings),this._machineChangeHandler.update(this)}},{key:"attemptBuildGraph",value:function(t,e){throw new Error("Missing graph build operation")}},{key:"attemptBuildMachine",value:function(t,e,n,r){throw new Error("Missing machine build operation")}},{key:"getMachineErrors",value:function(){return this._errors}},{key:"getMachineWarnings",value:function(){return this._warnings}},{key:"getMachineChangeHandler",value:function(){return this._machineChangeHandler}},{key:"isMachineValid",value:function(){return this._errors.length<=0}},{key:"getMachine",value:function(){throw new Error("Missing machine for builder")}}])&&i(e.prototype,n),r&&i(e,r),t}();e.a=a},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(196),a=n(12),u=n(14),l=n(186),s=n(209),c=n(182),f=n(183),p=n(187),h=n(24),y=n(218),v=n(175);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w="q";function S(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.split(v.b),r=new Set,o="",i=0,a=n.length,u=0;u<a;++u)if(1!==(i=(o=n[u].trim()).length)){if(i>1){var l=!0,s=!1,c=void 0;try{for(var f,p=o.split("")[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;h=h.trim(),r.has(h)||r.add(h)}}catch(t){s=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}}}else r.add(o);return r.size<=0?e?null:v.a:Array.from(r).join(v.b)}var E=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=g(this,m(e).call(this)))._prefix=w,t._graphController=null,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,t),n=e,(r=[{key:"setGraphController",value:function(t){return this._graphController=t,this}},{key:"setDefaultNodeLabelPrefix",value:function(t){this._prefix=t}},{key:"getDefaultNodeLabelPrefix",value:function(){return this._prefix}},{key:"getDefaultNodeLabel",value:function(){if(this._graphController.shouldAutoRenameNodes()){var t=this._graphController.getGraph(),e=[],n=0,r=t.getStartNode();r&&r.getNodeCustom()&&(n=1);for(var o=this.getDefaultNodeLabelPrefix()+n;t.getNodesByLabel(o,e).length>0;)e.length=0,++n,o=this.getDefaultNodeLabelPrefix()+n;return o}return this.getDefaultNodeLabelPrefix()}},{key:"getDefaultEdgeLabel",value:function(){return""}},{key:"getNodeLabelFormatter",value:function(){return function(t){return t||""}}},{key:"getEdgeLabelFormatter",value:function(){return S}}])&&d(n.prototype,r),o&&d(n,o),e}(y.a),O=n(188);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M=!0;var N=function(t){function e(t,n,r){var o,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(o=!(a=P(e).call(this,n))||"object"!==k(a)&&"function"!=typeof a?j(i):a)._app=t,o.setLabelFormatter((new E).setGraphController(j(o))),o.shouldAutoLabel=M,o}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(e,t),n=e,(r=[{key:"onGraphEvent",value:function(t,n){switch(x(P(e.prototype),"onGraphEvent",this).call(this,t,n),t){case f.a:!function(t,e){var n=e.getEdgeFrom(),r=e.getEdgeTo(),o=e.getEdgeLabel().split(v.b),i=!0,a=!1,u=void 0;try{for(var l,s=t.getEdges()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;if(c!==e&&c.getEdgeFrom()===n&&c.getEdgeTo()===r){var f=c.getEdgeSymbolsFromLabel();if(o.length>0){var p=f.concat(o);c.setEdgeLabel(p.join(v.b))}return c}}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}if(!e.isSelfLoop()){var h=!1,y=Math.PI/2,b=!0,d=!1,g=void 0;try{for(var m,_=t.getEdges()[Symbol.iterator]();!(b=(m=_.next()).done);b=!0){var w=m.value;if(!(w.isQuadratic()&&Math.abs(w.getQuadratic().length)>=32)&&w.getEdgeTo()===n&&w.getEdgeFrom()===r){e.setQuadraticRadians(y).setQuadraticLength(16),w.setQuadraticRadians(y).setQuadraticLength(16),h=!0;break}}}catch(t){d=!0,g=t}finally{try{b||null==_.return||_.return()}finally{if(d)throw g}}if(!h){var S=Math.max(n.getNodeSize(),r.getNodeSize()),E=n.x,O=n.y,k=r.x,C=r.y,j=(k-E)*(k-E)+(C-O)*(C-O),x=!1,P=0,T=0;E>k?T=C-(P=(O-C)/(E-k))*k:E<k?T=O-(P=(C-O)/(k-E))*E:x=!0;var M=!0,N=!1,L=void 0;try{for(var I,A=t.getNodes()[Symbol.iterator]();!(M=(I=A.next()).done);M=!0){var D=I.value;if(D!==n&&D!==r){var F=D.x,B=D.y,R=(k-F)*(k-F)+(C-B)*(C-B);if(!((E-F)*(E-F)+(O-B)*(O-B)>j||R>j)&&(x?Math.abs(E-F):Math.abs(T+P*F-B)/Math.sqrt(1+P*P))<D.getNodeSize()){h=!0;break}}}}catch(t){N=!0,L=t}finally{try{M||null==A.return||A.return()}finally{if(N)throw L}}h&&(e.setQuadraticRadians(-Math.PI/2),e.setQuadraticLength(S+10))}}}(this.getGraph(),n.target);break;case p.a:case c.a:case c.b:this.shouldAutoLabel&&this.applyAutoRename(),this._app.getUndoManager().captureEvent();break;case c.c:case f.c:this._app.getNotificationManager().pushNotification(I18N.toString("message.warning.cannotmodify"),h.d,"tryCreateWhileTrash",null,!0);break;default:this._app.getUndoManager().captureEvent()}}},{key:"getApp",value:function(){return this._app}},{key:"deleteTargetNodes",value:function(t){if(t&&!(t.length<=0)){var e=this.getGraph(),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;e.deleteNode(u)}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.emitGraphEvent(c.b,{target:t})}}},{key:"getGraphLabeler",value:function(){return this.getLabelFormatter()}},{key:"applyAutoLayout",value:function(){O.a.applyLayout(this.getGraph()),this._app.getUndoManager().captureEvent()}},{key:"applyAutoRename",value:function(){var t=this._labelFormatter,e=this._graph;if(!e.isEmpty()){var n=!0,r=!1,o=void 0;try{for(var i,a=e.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getNodeCustom()||u.setNodeLabel("")}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var l=!0,s=!1,c=void 0;try{for(var f,p=e.getNodes()[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;h.getNodeCustom()||h.setNodeLabel(t.getDefaultNodeLabel())}}catch(t){s=!0,c=t}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}}}},{key:"setAutoRenameNodes",value:function(t){var e=this.shouldAutoLabel;this.shouldAutoLabel=t,t&&!e&&this.applyAutoRename()}},{key:"shouldAutoRenameNodes",value:function(){return this.shouldAutoLabel}},{key:"deleteSelectedNodes",value:function(t){var e=this.inputController.getSelectionBox(),n=e.getSelection(this.getGraph()).slice(),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;this._graph.deleteNode(l)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}e.clearSelection(),this.emitGraphEvent(c.b,{target:n})}},{key:"deleteTargetNode",value:function(t){this._graph.deleteNode(t),this.emitGraphEvent(c.a,{target:t})}},{key:"deleteTargetEdge",value:function(t){this._graph.deleteEdge(t),this.emitGraphEvent(f.b,{target:t})}},{key:"deleteTargetEdges",value:function(t){if(t&&!(t.length<=0)){var e=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;this.deleteTargetEdge(a)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"createNode",value:function(t,e){void 0===t&&(t=64*Math.random()*2-64),void 0===e&&(e=64*Math.random()*2-64);var n=this._graph.createNode(t,e),r=this.getGraphLabeler().getDefaultNodeLabel();return n.setNodeLabel(r),this._app.getUndoManager().captureEvent(),n}},{key:"renameNode",value:function(t,e){t.setNodeLabel(e),t.setNodeCustom(!0),this._app.getUndoManager().captureEvent()}}])&&C(n.prototype,r),o&&C(n,o),e}(s.a),L=n(219),I=n(228),A=n(174),D=n(216),F=n(214);function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t,e){return!e||"object"!==B(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=H(this,V(e).call(this)))._machine=new A.c,t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,t),n=e,(r=[{key:"attemptBuildGraph",value:function(t,e){e.clear();var n,r,o,i,a=new Map,u=!0,l=!1,s=void 0;try{for(var c,f=t.getStates()[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;(n=e.createNode(0,0)).setNodeLabel(p.getStateLabel()),t.isFinalState(p)&&n.setNodeAccept(!0),a.set(p,n)}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}var h=!0,y=!1,v=void 0;try{for(var b,d=t.getTransitions()[Symbol.iterator]();!(h=(b=d.next()).done);h=!0){var g=b.value;(r=a.get(g.getSourceState()))&&(i=g.getSymbols().join(" "),(o=a.get(g.getDestinationState()))&&e.createEdge(r,o).setEdgeLabel(i))}}catch(t){y=!0,v=t}finally{try{h||null==d.return||d.return()}finally{if(y)throw v}}var m=t.getStartState(),_=e.getNodesByLabel(m);return _&&_.length>0&&e.setStartNode(_[0]),e}},{key:"attemptBuildMachine",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];n.length=0,r.length=0;var o=e.isDeterministic();e.clear();var i=new Map,a=new Map,u=new Set,l=[],s=[],c=t.getNodes(),f=t.getEdges(),p=t.getStartNode(),h=!0,y=!1,b=void 0;try{for(var d,g=c[Symbol.iterator]();!(h=(d=g.next()).done);h=!0){var m=d.value,_=m.getNodeLabel(),w=new A.b(_,m);e.addState(w),m.getNodeAccept()&&e.setFinalState(w,!0),p===m&&e.setStartState(w),i.has(_)?i.get(_).push(w):i.set(_,[w]),a.set(w,new Map)}}catch(t){y=!0,b=t}finally{try{h||null==g.return||g.return()}finally{if(y)throw b}}var S=!0,E=!1,O=void 0;try{for(var k,C=f[Symbol.iterator]();!(S=(k=C.next()).done);S=!0){var j=k.value,x=j.getEdgeFrom(),P=j.getEdgeTo();if(!j.isPlaceholder()&&x instanceof D.a&&P instanceof D.a){var T=e.getStateByID(x.getGraphElementID()),M=e.getStateByID(P.getGraphElementID());if(!T||!M)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var N=j.getEdgeLabel().split(v.b),L=!0,I=!1,B=void 0;try{for(var G,H=N[Symbol.iterator]();!(L=(G=H.next()).done);L=!0){var V=G.value;if(V){V===v.a?s.push(j):u.add(V);var z=void 0;switch(V){case v.a:z=A.a;break;default:z=V}var U=a.get(T),X=U.get(z);X||U.set(z,X=new Array),X.push(j),e.addTransition(T,M,z)}}}catch(t){I=!0,B=t}finally{try{L||null==H.return||H.return()}finally{if(I)throw B}}}else l.push(j)}}catch(t){E=!0,O=t}finally{try{S||null==C.return||C.return()}finally{if(E)throw O}}var Y=!0,Q=!1,q=void 0;try{for(var K,W=i.entries()[Symbol.iterator]();!(Y=(K=W.next()).done);Y=!0){var Z=R(K.value,2),J=Z[0],$=Z[1];$.length>1&&n.push({name:"duplicate_state",label:J,nodes:$.map((function(t){return t.getSource()}))})}}catch(t){Q=!0,q=t}finally{try{Y||null==W.return||W.return()}finally{if(Q)throw q}}l.length>0&&n.push({name:"incomplete_transition",edges:l});var tt=Object(F.a)(t);if(tt&&tt.length>0&&r.push({name:"unreachable_state",nodes:tt}),o){s.length>0&&n.push({name:"empty_transition",edges:s});var et=[],nt=!0,rt=!1,ot=void 0;try{for(var it,at=a.entries()[Symbol.iterator]();!(nt=(it=at.next()).done);nt=!0){var ut=R(it.value,2),lt=ut[0],st=ut[1],ct=!0,ft=!1,pt=void 0;try{for(var ht,yt=u[Symbol.iterator]();!(ct=(ht=yt.next()).done);ct=!0){var vt=ht.value,bt=st.get(vt);bt?1!==bt.length&&n.push({name:"duplicate_transition",edges:bt,symbol:vt}):et.push(vt)}}catch(t){ft=!0,pt=t}finally{try{ct||null==yt.return||yt.return()}finally{if(ft)throw pt}}et.length>0&&(n.push({name:"missing_transition",node:lt.getSource(),symbols:et.slice()}),et.length=0)}}catch(t){rt=!0,ot=t}finally{try{nt||null==at.return||at.return()}finally{if(rt)throw ot}}}return n.length<=0?e:null}},{key:"getMachine",value:function(){return this._machine}}])&&G(n.prototype,r),o&&G(n,o),e}(I.a),X=n(215);function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t,e,n){return(K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var J=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=q(this,W(e).call(this,t,new U))).graphController=null,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(t){K(W(e.prototype),"initialize",this).call(this,t),this.graphController=t.getGraphController()}},{key:"destroy",value:function(t){K(W(e.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){K(W(e.prototype),"update",this).call(this,t)}},{key:"getMachineType",value:function(){return this._machineBuilder.getMachine().isDeterministic()?"DFA":"NFA"}},{key:"setMachineType",value:function(t){this._machineBuilder.getMachine().setDeterministic("DFA"===t)}},{key:"changeMachineTo",value:function(t){this.getMachineType()!=t&&this.setMachineType(t)}},{key:"getFirstGraphNodeByLabel",value:function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=t.getNodes()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;if(u.getNodeLabel()==e)return u}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}},{key:"setGraphToMachine",value:function(t,e){this._machineBuilder.attemptBuildGraph(e,t),O.a.applyLayout(t)}},{key:"convertMachineTo",value:function(t){var e=this.getMachineType();if(e!==t)if("DFA"==t&&"NFA"==e){var n=Object(X.a)(this.getMachineBuilder().getMachine());this.setGraphToMachine(this.graphController.getGraph(),n),this.setMachineType(t)}else{if("NFA"!=t||"DFA"!=e)throw new Error("Conversion scheme between '"+e+"' to '"+t+"' is not supported");this.changeMachineTo(t)}}},{key:"invertMachine",value:function(){var t=this.getMachineBuilder().getMachine(),e=Object(X.b)(t,t),n=!0,r=!1,o=void 0;try{for(var i,a=e.getStates()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;u.getSource().setNodeAccept(t.isFinalState(u))}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"getStates",value:function(){return this._machineBuilder.getMachine().getStates()}},{key:"countStates",value:function(){return this._machineBuilder.getMachine().getStateCount()}},{key:"getFinalStates",value:function(){return this._machineBuilder.getMachine().getFinalStates()}},{key:"getTransitions",value:function(){return this._machineBuilder.getMachine().getTransitions()}},{key:"getAlphabet",value:function(){var t=this._machineBuilder.getMachine();return Array.from(t.getAlphabet())}},{key:"isUsedSymbol",value:function(t){return!this.isCustomSymbol(t)}},{key:"createSymbol",value:function(t){this.addCustomSymbol(t)}},{key:"deleteSymbol",value:function(t){for(var e=null,n=null,r=null,o=[],i=this.graphController.getGraph(),a=i.getEdges().length-1;a>=0;--a)(n=(e=i.getEdges()[a]).getEdgeLabel().indexOf(t))>=0&&((r=e.getEdgeLabel().substring(0,n)+e.getEdgeLabel().substring(n+1)).length>0?e.setEdgeLabel(r):(e.setEdgeLabel(""),i.deleteEdge(e)),o.push(e));o.length<=0&&this.getMachineBuilder().removeCustomSymbol(t)}},{key:"renameSymbol",value:function(t,e){for(var n=null,r=null,o=[],i=this.graphController.getGraph(),a=i.getEdges().length,u=0;u<a;++u)(r=(n=i.getEdges()[u]).getEdgeLabel().replace(t,e))!=n.getEdgeLabel()&&o.push(n),n.setEdgeLabel(r);o.length<=0&&this.getMachineBuilder().renameCustomSymbol(t,e)}},{key:"getCustomSymbols",value:function(){return Array.from(this._machineBuilder.getMachine().getCustomSymbols())}},{key:"isCustomSymbol",value:function(t){return this._machineBuilder.isCustomSymbol(t)}},{key:"addCustomSymbol",value:function(t){this._machineBuilder.getMachine().setCustomSymbol(t)}},{key:"clearCustomSymbols",value:function(){this._machineBuilder.getMachine().clearCustomSymbols()}}])&&Q(n.prototype,r),o&&Q(n,o),e}(L.a),$=n(220);function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e,n){return e&&rt(t.prototype,e),n&&rt(t,n),t}function it(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=function(t){function e(t,n,r){var o;return nt(this,e),(o=it(this,at(e).call(this,t.getTestString(),!1,!0)))._tester=t,o._graphController=n,o._machineController=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(e,t),ot(e,[{key:"stepForward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepForward(t,e)}},{key:"stepBackward",value:function(){var t=this._graphController,e=this._machineController;this._tester.stepBackward(t,e)}},{key:"reset",value:function(){this._tester.resetPosition()}},{key:"finish",value:function(){var t=this._graphController,e=this._machineController;this._tester.runTest(t,e,!1)}},{key:"stop",value:function(){this._tester.stopTest()}},{key:"changeTapeSymbol",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Operation not yet supported")}},{key:"getTapeSourceStatesByIndex",value:function(t){return t<0||t>=this._tapeInput.length?null:this._tester.getNodesAtPosition(t)}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?[]:this._tapeInput[t]||""}},{key:"setCurrentTapeIndex",value:function(t){this._tester.changePosition(t)}},{key:"getCurrentTapeIndex",value:function(){return this._tester.getPosition()}}]),e}(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._tapeInput=e?e.split(""):[],this._left=n,this._right=r,this._index=0}var e,n,r;return e=t,(n=[{key:"stepForward",value:function(){++this._index}},{key:"stepBackward",value:function(){--this._index}},{key:"finish",value:function(){this._index=2*this._tapeInput.length}},{key:"reset",value:function(){this._index=-1}},{key:"stop",value:function(){this.finish(),this.reset()}},{key:"changeTapeSymbol",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._tapeInput[t]=e}},{key:"getTapeSourceStatesByIndex",value:function(t){return null}},{key:"getTapeSymbolByIndex",value:function(t){return t<0||t>=this._tapeInput.length?"":this._tapeInput[t]||""}},{key:"isTapeLeftInfinite",value:function(){return this._left}},{key:"isTapeRightInfinite",value:function(){return this._right}},{key:"setCurrentTapeIndex",value:function(t){this._index=t}},{key:"getCurrentTapeIndex",value:function(){return this._index}},{key:"getTapeInput",value:function(){return this._tapeInput}}])&&tt(e.prototype,n),r&&tt(e,r),t}()),st=function(){function t(){nt(this,t),this._testString=null,this._testIndex=-1,this._tapeContext=null,this._cachePath=[],this._cachedResult=null,this._resolve=null,this._reject=null,this.registerEvent("startTest"),this.registerEvent("stepTest"),this.registerEvent("stopTest")}return ot(t,[{key:"startTest",value:function(t,e,n){var r=this;if(t||(t=""),this._tapeContext)throw new Error("Unable to start an already running test");return e.getGraph().isEmpty()?Promise.reject():(this._testString=t,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=new lt(this,e,n),this.emit("startTest",this),new Promise((function(t,e){r._resolve=t,r._reject=e})))}},{key:"stopTest",value:function(){if(!this._tapeContext)throw new Error("Unable to stop null test");if(this.emit("stopTest",this),!this._resolve)throw new Error("Must call startTest() before anything else");if(!this._reject)throw new Error("Must call startTest() before anything else");var t=null;return this._cachePath.length>=this._testString.length?(t=this._cachedResult,this._resolve(t)):(t=null,this._reject()),this._testString=null,this._testIndex=-1,this._cachePath.length=0,this._cachedResult=null,this._tapeContext=null,Promise.resolve(t)}},{key:"runTest",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._tapeContext)throw new Error("Unable to run null test");return new Promise((function(o,i){var a=!1;do{a=n.stepForward(t,e,!r)}while(a);o(n._cachedResult)})).then((function(t){return r?n.stopTest():t}))}},{key:"stepForward",value:function(t,e){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n=e.getMachineBuilder().getMachine();if(this._testIndex>=this._testString.length)return!1;if(++this._testIndex,this._cachePath.length<=this._testIndex){var r,o=null,i=this._testIndex===this._testString.length;if(this._testIndex<=0){r=[],o=[];var a=n.getStartState(),u=!0,l=!1,s=void 0;try{for(var c,f=n.doClosureTransition(a)[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;r.push({state:p,index:0})}}catch(t){l=!0,s=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}}else{var h=this._cachePath[this._testIndex-1];r=h.states.slice(),o=h.symbols.slice();var y=this._testString[this._testIndex-1];Object(X.d)(n,y,r,o)}i&&(this._cachedResult=Object(X.d)(n,null,r,o));var v=new Set,b=!0,d=!1,g=void 0;try{for(var m,_=r[Symbol.iterator]();!(b=(m=_.next()).done);b=!0){var w=m.value,S=w.state.getSource();if(!S)throw new Error("Could not find node '"+w.state+"'");v.add(S)}}catch(t){d=!0,g=t}finally{try{b||null==_.return||_.return()}finally{if(d)throw g}}var E={targets:Array.from(v),states:r,symbols:o};this._cachePath.push(E)}return this.emit("stepTest"),!0}},{key:"stepBackward",value:function(t,e){return!(this._testIndex<=0)&&(--this._testIndex,this.emit("stepTest"),!0)}},{key:"isTesting",value:function(){return null!==this._testString}},{key:"changePosition",value:function(t){t>=this._cachePath.length?this._testIndex=this._cachePath.length-1:t<0?this._testIndex=0:t>=this._testString.length?this._testIndex=this._testString.length-1:this._testIndex=t}},{key:"resetPosition",value:function(){this._testIndex=-1}},{key:"getPosition",value:function(){return this._testIndex}},{key:"isComputedPosition",value:function(t){return this._cachePath.length>t}},{key:"getCurrentNodes",value:function(){return this._testIndex>=0&&this._testIndex<this._cachePath.length?this._cachePath[this._testIndex]:null}},{key:"getNodesAtPosition",value:function(t){return t>=0&&t<this._cachePath.length?this._cachePath[t].targets:null}},{key:"getTestString",value:function(){return this._testString}},{key:"getTapeContext",value:function(){return this._tapeContext}},{key:"targets",get:function(){return this._cachePath.length<=0?[]:this._cachePath[this._cachePath.length-1].targets}}]),t}();$.a.mixin(st);var ct=st,ft=n(7);function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=yt(e).call(this,t))||"object"!==pt(o)&&"function"!=typeof o?vt(r):o).onClick=n.onClick.bind(vt(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification;switch(t.target.value){case"convert":this.props.machineController.convertMachineTo("DFA"),e.close()}}},{key:"render",value:function(){var t=this.props.machineController.countStates();return o.a.createElement(ft.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ft.d,notification:this.props.notification},o.a.createElement("p",null,I18N.toString("message.warning.convertNFAToDFA")),o.a.createElement("p",null,"".concat(t," states -> ").concat(Math.pow(2,t)," states")),o.a.createElement("button",{value:"convert",onClick:this.onClick},I18N.toString("message.action.convert")))}}])&&ht(n.prototype,r),i&&ht(n,i),e}(o.a.Component);function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Et=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=_t(e).call(this,t))||"object"!==gt(o)&&"function"!=typeof o?wt(r):o)._targetIndex=0,n._targetLabel="";var i=t.message.targets,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n._targetLabel.length>0&&(n._targetLabel+=", "),n._targetLabel+=f.getNodeLabel()}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.onClick=n.onClick.bind(wt(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.app,o=this.props.graphController;switch(t.target.value){case"locate":var i=n.targets,a=i.length;if(a>0&&this._targetIndex<a){var u=i[this._targetIndex++];this._targetIndex>=a&&(this._targetIndex=0),r.getSession().getCurrentModule().getGraphView().moveViewToPosition(u.x,u.y)}break;case"deleteall":var l=n.targets;o.deleteTargetNodes(l),o.applyAutoRename(),e.close()}}},{key:"render",value:function(){var t=this.props.message;return o.a.createElement(ft.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ft.b,notification:this.props.notification},o.a.createElement("p",null,t.text+": "+this._targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),o.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&mt(n.prototype,r),i&&mt(n,i),e}(o.a.Component),Ot=n(169);function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt="→",Mt=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=jt(e).call(this,t))||"object"!==kt(o)&&"function"!=typeof o?xt(r):o).targetIndex=0,n.targetLabel="";var i=t.message.targets,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+="("+f.getEdgeFrom().getNodeLabel()+", "+f.getEdgeLabel()+") "+Tt+" "+(f.getEdgeTo()instanceof Ot.a?f.getEdgeTo().getNodeLabel():"null")}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.onClick=n.onClick.bind(xt(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.app,o=this.props.graphController;switch(t.target.value){case"locate":var i=n.targets,a=i.length;if(a>0&&this.targetIndex<a){var u=i[this.targetIndex++];this.targetIndex>=a&&(this.targetIndex=0);var l=r.getSession().getCurrentModule().getGraphView(),s=u.getCenterPoint();l.moveViewToPosition(s.x,s.y)}break;case"deleteall":var c=n.targets;o.deleteTargetEdges(c),e.close()}}},{key:"render",value:function(){return o.a.createElement(ft.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ft.b,notification:this.props.notification},o.a.createElement("p",null,this.props.message.text+": "+this.targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),o.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&Ct(n.prototype,r),i&&Ct(n,i),e}(o.a.Component);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function At(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dt(t,e){return(Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=It(e).call(this,t))||"object"!==Nt(o)&&"function"!=typeof o?At(r):o).targetIndex=0,n.targetLabel="";var i=t.message.targets,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.targetLabel+=" for "+t.message.symbol,n.onClick=n.onClick.bind(At(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.message,n=this.props.app;switch(t.target.value){case"locate":var r=e.targets,o=r.length;if(o>0&&this.targetIndex<o){var i=r[this.targetIndex++];this.targetIndex>=o&&(this.targetIndex=0),n.getSession().getCurrentModule().getGraphView().moveViewToPosition(i.x,i.y)}}}},{key:"render",value:function(){return o.a.createElement(ft.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ft.b,notification:this.props.notification},o.a.createElement("p",null,I18N.toString("message.error.missing")+": "+this.targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")))}}])&&Lt(n.prototype,r),i&&Lt(n,i),e}(o.a.Component);function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zt=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Gt(e).call(this,t))||"object"!==Bt(o)&&"function"!=typeof o?Ht(r):o).targetIndex=0,n.targetLabel="";var i=t.message,a=!0,u=!1,l=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;n.targetLabel.length>0&&(n.targetLabel+=", "),n.targetLabel+=f.getNodeLabel()}}catch(t){u=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return n.onClick=n.onClick.bind(Ht(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(e,t),n=e,(r=[{key:"onClick",value:function(t){var e=this.props.notification,n=this.props.message,r=this.props.app,o=this.props.graphController;switch(t.target.value){case"locate":var i=n[this.targetIndex++];this.targetIndex>=n.length&&(this.targetIndex=0),r.getSession().getCurrentModule().getGraphView().moveViewToPosition(i.x,i.y);break;case"deleteall":var a=n;o.deleteTargetNodes(a),o.applyAutoRename(),e.close()}}},{key:"render",value:function(){return o.a.createElement(ft.e,{id:this.props.id,className:this.props.className,style:this.props.style,styleType:ft.d,notification:this.props.notification},o.a.createElement("p",null,I18N.toString("message.warning.unreachable")+": "+this.targetLabel),o.a.createElement("button",{value:"locate",onClick:this.onClick},I18N.toString("message.action.locate")),o.a.createElement("button",{value:"deleteall",onClick:this.onClick},I18N.toString("message.action.deleteall")))}}])&&Rt(n.prototype,r),i&&Rt(n,i),e}(o.a.Component),Ut="machine-convert",Xt="machine-state",Yt="machine-transition",Qt="machine-state-missing",qt="machine-state-unreachable";function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Wt=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._graphController=n,this._machineController=r,this._showErrorOnChange=!1,this.onMachineChange=this.onMachineChange.bind(this),r.getMachineBuilder().getMachineChangeHandler().addListener(this.onMachineChange)}var e,n,r;return e=t,(n=[{key:"onMachineChange",value:function(t){this._showErrorOnChange&&this.showErrors()}},{key:"setErrorChecking",value:function(t){this._showErrorOnChange=t}},{key:"isErrorChecking",value:function(){return this._showErrorOnChange}},{key:"showErrors",value:function(){var t={graphController:this._graphController,machineController:this._machineController,app:this._app},e=this._machineController.getMachineBuilder(),n=e.getMachineErrors(),r=e.getMachineWarnings(),o=this._app.getNotificationManager();if(o.clearNotifications("machine-error"),n.length<=0&&r.length<=0)o.pushNotification(I18N.toString("message.error.none"),h.c,"machine-error",null,!1);else{var i=!0,a=!1,u=void 0;try{for(var l,s=r[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;switch(c.name){case"unreachable_state":o.pushNotification(c.nodes,qt,"machine-error",t,!1)}}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}var f=!0,p=!1,y=void 0;try{for(var v,b=n[Symbol.iterator]();!(f=(v=b.next()).done);f=!0){var d=v.value;switch(d.name){case"duplicate_state":o.pushNotification({text:"Found duplicate nodes of similar names",targets:d.nodes},Xt,"machine-error",t,!1);break;case"incomplete_transition":o.pushNotification({text:I18N.toString("message.error.incomplete"),targets:d.edges},Yt,"machine-error",t,!1);break;case"duplicate_transition":o.pushNotification({text:I18N.toString("message.error.dupe"),targets:d.edges},Yt,"machine-error",t,!1);break;case"missing_transition":o.pushNotification({targets:[d.node],symbol:d.symbols},Qt,"machine-error",t,!1);break;case"empty_transition":o.pushNotification({text:I18N.toString("message.error.empty"),targets:d.edges},Yt,"machine-error",t,!1)}}}catch(t){p=!0,y=t}finally{try{f||null==b.return||b.return()}finally{if(p)throw y}}}}}])&&Kt(e.prototype,n),r&&Kt(e,r),t}(),Zt=n(217),Jt=n(194);function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ee(t,e){return!e||"object"!==$t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oe=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ee(this,ne(e).call(this,t)))._graphParser=n,r._prevGraphHash=0,r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(e,t),n=e,(r=[{key:"onParseSession",value:function(t,e){return JSON.parse(e)}},{key:"onPreImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph();this._prevGraphHash=e.getHashCode(!0),e.isEmpty()||t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){var n=t.getCurrentModule(),r=n.getGraphController(),o=n.getMachineController(),i=r.getGraph();this._graphParser.parse(e.graphData,i),function(t,e,n){var r=n.type;r&&e.setMachineType(r);var o=n.symbols;if(o&&Array.isArray(o)){e.clearCustomSymbols();var i=!0,a=!1,u=void 0;try{for(var l,s=o[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;e.addCustomSymbol(c)}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}}if(t){var f=n.statePrefix;f&&t.getGraphLabeler().setDefaultNodeLabelPrefix(f)}}(r,o,e.machineData)}},{key:"onPostImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph().getHashCode(!0);this._prevGraphHash!==e&&t.getApp().getUndoManager().captureEvent()}}])&&te(n.prototype,r),o&&te(n,o),e}(Jt.a);function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ue(t,e){return!e||"object"!==ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ce=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ue(this,le(e).call(this)))._app=t,r._graphParser=n,r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(e,t),n=e,(r=[{key:"onParseSession",value:function(t,e){return(new DOMParser).parseFromString(e,"text/xml")}},{key:"onPreImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph();this._prevGraphHash=e.getHashCode(!0),e.isEmpty()||t.getApp().getUndoManager().captureEvent()}},{key:"onImportSession",value:function(t,e){var n=t.getCurrentModule().getGraphController().getGraph();this._graphParser.parse(e,n)}},{key:"onPostImportSession",value:function(t){var e=t.getCurrentModule().getGraphController().getGraph().getHashCode(!0);this._prevGraphHash!==e&&t.getApp().getUndoManager().captureEvent()}}])&&ae(n.prototype,r),o&&ae(n,o),e}(Jt.a),fe=n(31),pe=n(192);function he(t){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ve(t,e){return!e||"object"!==he(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function be(t){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function de(t,e){return(de=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ge=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ve(this,be(e).call(this,".fsa.json")))._graphParser=t,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&de(t,e)}(e,t),n=e,(r=[{key:"onExportSession",value:function(t,e){var n=t.getCurrentModule(),r=n.getGraphController(),o=n.getMachineController(),i=r.getGraph(),a=this._graphParser.objectify(i);e.graphData=a,e.machineData={type:o.getMachineType(),symbols:o.getCustomSymbols(),statePrefix:r.getGraphLabeler().getDefaultNodeLabelPrefix()}}},{key:"getIconClass",value:function(){return pe.a}},{key:"getLabel",value:function(){return I18N.toString("file.export.machine")}},{key:"getTitle",value:function(){return I18N.toString("file.export.machine.hint")}}])&&ye(n.prototype,r),o&&ye(n,o),e}(fe.a);function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function we(t,e){return!e||"object"!==me(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Oe=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),we(this,Se(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.a.createElement("svg",{id:this.props.id,className:this.props.className,style:this.props.style,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 56 56"},o.a.createElement("path",{fill:"#E9E9E0",d:"M36.985,0H7.963C7.155,0,6.5,0.655,6.5,1.926V55c0,0.345,0.655,1,1.463,1h40.074 c0.808,0,1.463-0.655,1.463-1V12.978c0-0.696-0.093-0.92-0.257-1.085L37.607,0.257C37.442,0.093,37.218,0,36.985,0z"}),o.a.createElement("polygon",{fill:"#D9D7CA",points:"37.5,0.151 37.5,12 49.349,12 \t"}),o.a.createElement("path",{fill:"#F29C1F",d:"M48.037,56H7.963C7.155,56,6.5,55.345,6.5,54.537V39h43v15.537C49.5,55.345,48.845,56,48.037,56z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M19.379,48.105L21.936,53h-1.9l-1.6-3.801h-0.137L16.576,53h-1.9l2.557-4.895l-2.721-5.182h1.873 l1.777,4.102h0.137l1.928-4.102H22.1L19.379,48.105z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M31.998,42.924h1.668V53h-1.668v-6.932l-2.256,5.605h-1.449l-2.27-5.605V53h-1.668V42.924h1.668 l2.994,6.891L31.998,42.924z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M37.863,42.924v8.832h4.635V53h-6.303V42.924H37.863z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M15.5,24c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C16.012,23.902,15.756,24,15.5,24z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M21.5,30c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C22.012,29.902,21.756,30,21.5,30z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M33.5,30c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l6-6 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-6,6C34.012,29.902,33.756,30,33.5,30z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M39.5,24c-0.256,0-0.512-0.098-0.707-0.293l-6-6c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0l6,6c0.391,0.391,0.391,1.023,0,1.414C40.012,23.902,39.756,24,39.5,24z"}),o.a.createElement("path",{fill:"#F29C1F",d:"M24.5,32c-0.11,0-0.223-0.019-0.333-0.058c-0.521-0.184-0.794-0.755-0.61-1.276l6-17 c0.185-0.521,0.753-0.795,1.276-0.61c0.521,0.184,0.794,0.755,0.61,1.276l-6,17C25.298,31.744,24.912,32,24.5,32z"}))}}])&&_e(n.prototype,r),i&&_e(n,i),e}(o.a.PureComponent);function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function je(t,e){return!e||"object"!==ke(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Te=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=je(this,xe(e).call(this,".jff")))._graphParser=t,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(e,t),n=e,(r=[{key:"onExportSession",value:function(t,e){var n=t.getCurrentModule().getGraphController().getGraph();e.graphData=this._graphParser.objectify(n)}},{key:"onStringifySession",value:function(t,e){return(new XMLSerializer).serializeToString(e.graphData)}},{key:"getIconClass",value:function(){return Oe}},{key:"getLabel",value:function(){return I18N.toString("file.export.jff")}},{key:"getTitle",value:function(){return I18N.toString("file.export.jff.hint")}}])&&Ce(n.prototype,r),o&&Ce(n,o),e}(fe.a),Me=n(207),Ne=n(221);function Le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ie=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._broadcastManager=null}var e,n,r;return e=t,(n=[{key:"setBroadcastManager",value:function(t){return this._broadcastManager=t,this}},{key:"onBroadcastMessage",value:function(t,e,n,r){return!1}},{key:"getBroadcastManager",value:function(){return this._broadcastManager}}])&&Le(e.prototype,n),r&&Le(e,r),t}(),Ae=n(176);function De(t){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t,e){return!e||"object"!==De(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var He=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Be(this,Re(e).call(this))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(e,t),n=e,(r=[{key:"testEquivalence",value:function(t){this._broadcastManager.sendMessageTo(t,"fsa-machine-request")}},{key:"onBroadcastMessage",value:function(t,e,n,r){if("fsa-machine-request"===t){var o=this._broadcastManager.getApp().getSession().getCurrentModule().getGraphController().getGraph(),i=Zt.a.objectify(o);return this._broadcastManager.sendMessageTo(e,"fsa-machine-response",{graphData:i}),!0}if("fsa-machine-response"===t){var a=this._broadcastManager.getApp().getSession().getCurrentModule().getMachineController(),u=r.graphData,l=Zt.a.parse(u),s=a.getMachineBuilder().attemptBuild(l,new A.c),c=a.getMachineBuilder().getMachine(),f=Object(Ae.a)(s,c);return window.alert("The machines are "+(f.value?"EQUAL":"NOT EQUAL")+"!"),!0}return!1}}])&&Fe(n.prototype,r),o&&Fe(n,o),e}(Ie),Ve=n(8);function ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ue=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"start",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!e&&Ve.a.getData("prefs-tut_fsa")||t.getNotificationManager().pushNotification("-=-= Bab's First Graph =-=-\n            We can make a graph by creating nodes and edges.\n            \n            Nodes\n            > DOUBLE CLICK on empty space.\n\n            Edges\n            > RIGHT-HOLD on a node, then DRAG out to target.\n\n            If using touchscreen, you can TAP & HOLD instead of a RIGHT-CLICK.",h.b,["tutorial"],{onClick:function(){t.getNotificationManager().pushNotification("-=-= More Bab's Graph =-=-\n                    You can do so much more.\n        \n                    Move stuff\n                    > CLICK & HOLD on target, then DRAG.\n                    \n                    Delete stuff\n                    > DRAG to Trash Can at bottom-right.\n        \n                    Edit labels, etc.\n                    > RIGHT-CLICK on target.\n                    \n                    More tools in the Drawer on the right. Check it out!",h.b,["tutorial"],{onClick:function(){Ve.a.setData("prefs-tut_fsa","true"),t.getNotificationManager().pushNotification("-=- Bab's Masterpiece -=-\n                            Action Mode Tray (Bottom Left)\n                            > This will show you whether you are currently editing or moving stuff or you can manually switch them here!\n                            \n                            Trash Can (Bottom Right)\n                            > This will turn RED if deleting stuff. You can also enter Delete Mode with a CLICK.\n                            \n                            Drawer (Right)\n                            > Open the drawer by a CLICK on the tabs. You can toggle fullscreen with the Expand Arrow at the top.\n                            \n                            Any additional questions, please use the ? button on the toolbar.\n                            Have fun!\n                            ",null,["tutorial"])}})}})}}])&&ze(e.prototype,n),r&&ze(e,r),t}(),Xe=n(11),Ye=n(132),Qe=n.n(Ye),qe=n(25),Ke=n(222),We=n(32),Ze=n(133),Je=n.n(Ze),$e=n(3),tn=n(193),en=n(223),nn=n(134),rn=n.n(nn);function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ln(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sn(t,e){return(sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=un(e).call(this,t))||"object"!==on(o)&&"function"!=typeof o?ln(r):o).state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(ln(n)),n.onFocus=n.onFocus.bind(ln(n)),n.onBlur=n.onBlur.bind(ln(n)),n.onKeyDown=n.onKeyDown.bind(ln(n)),n.onKeyUp=n.onKeyUp.bind(ln(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sn(t,e)}(e,t),n=e,(r=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.node,r=n?n.getNodeLabel():null;this.setState({value:r,error:!1},(function(){return e.select()})),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.setState({value:null,error:!1}),this.props.onBlur&&this.props.onBlur(t,this,e)}},{key:"onKeyDown",value:function(t){var e=t.key;"Enter"!==e&&"Escape"!==e||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;"Enter"===e?n.blur():"Escape"===e&&this.setState({value:null,error:!1},(function(){return n.blur()}))}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"render",value:function(){var t=this.props.node,e=this.state.value,n=t?t.getNodeLabel():"",r=!!t&&(t.getNodeCustom()||null!==e&&e!==n),i=!!t&&t.getNodeAccept(),a=null===e?n:e;return o.a.createElement("div",{id:this.props.id,className:rn.a.element_container+(r?" custom ":"")+(!t.getNodeCustom()&&a.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(i?" accept ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("input",{spellCheck:!1,style:{width:a.length+"ch"},value:a,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&an(n.prototype,r),i&&an(n,i),e}(o.a.Component);function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hn(t){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vn(t,e){return(vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=hn(e).call(this,t))||"object"!==fn(o)&&"function"!=typeof o?yn(r):o)._prevX=0,n._prevY=0,n.onElementAdd=n.onElementAdd.bind(yn(n)),n.onElementFocus=n.onElementFocus.bind(yn(n)),n.onElementBlur=n.onElementBlur.bind(yn(n)),n.onElementChange=n.onElementChange.bind(yn(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vn(t,e)}(e,t),n=e,(r=[{key:"onElementAdd",value:function(t){var e=this.props.graphController;this._prevX+=16,this._prevY+=16;var n=e.createNode(this._prevX,this._prevY);this.props.graphView.moveViewToPosition(n.x,n.y)}},{key:"onElementFocus",value:function(t,e){var n=e.props.node;this._prevX=n.x,this._prevY=n.y,this.props.graphView.moveViewToPosition(n.x,n.y)}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.node;if(r){var o=this.props.graphController;if(null!==n){var i=o.getGraph();n.length>0?i.getNodesByLabel(n).length<=0&&o.renameNode(r,n):r.getNodeCustom()?(r.setNodeCustom(!1),o.applyAutoRename()):o.deleteTargetNode(r)}}}},{key:"onElementChange",value:function(t,e,n){var r=this.props.graphController;if(n.length>0){var o=r.getGraph().getNodesByLabel(n);if(o.length>1||1===o.length&&o[0]!==e.props.node)throw new Error("Not a valid node label")}}},{key:"render",value:function(){var t=this,e=this.props.graphController.getGraph().getNodes();return o.a.createElement("div",{id:this.props.id,className:Je.a.list_container,style:this.props.style},o.a.createElement("div",{className:Je.a.element_list},o.a.createElement(en.a,{className:Je.a.first_marker}),e.map((function(e){return o.a.createElement(cn,{key:e.getGraphElementID(),node:e,onFocus:t.onElementFocus,onBlur:t.onElementBlur,onChange:t.onElementChange})}))),o.a.createElement($e.a,{className:Je.a.add_button,title:"Add State",onClick:this.onElementAdd},o.a.createElement(tn.a,null)))}}])&&pn(n.prototype,r),i&&pn(n,i),e}(o.a.Component),dn=n(135),gn=n.n(dn),mn=n(136),_n=n.n(mn);function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function En(t){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function On(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=En(e).call(this,t))||"object"!==wn(o)&&"function"!=typeof o?On(r):o)._inputElement=null,n.state={value:null,error:!1},n.onValueChange=n.onValueChange.bind(On(n)),n.onFocus=n.onFocus.bind(On(n)),n.onBlur=n.onBlur.bind(On(n)),n.onKeyDown=n.onKeyDown.bind(On(n)),n.onKeyUp=n.onKeyUp.bind(On(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(e,t),n=e,(r=[{key:"onFocus",value:function(t){var e=t.target,n=this.props.symbol;this.setState({value:n,error:!1},(function(){return e.select()})),this.props.onFocus&&this.props.onFocus(t,this)}},{key:"onBlur",value:function(t){var e=this.state.value;this.props.onBlur&&this.props.onBlur(t,this,e),this.setState({value:null,error:!1})}},{key:"onKeyDown",value:function(t){var e=t.key;"Enter"!==e&&"Escape"!==e||(t.preventDefault(),t.stopPropagation())}},{key:"onKeyUp",value:function(t){var e=t.key,n=t.target;"Enter"===e?n.blur():"Escape"===e&&this.setState({value:null,error:!1},(function(){return n.blur()}))}},{key:"onValueChange",value:function(t){var e=t.target.value.trim(),n=!1;if(this.props.onChange)try{this.props.onChange(t,this,e)}catch(t){n=!0}this.setState({value:e,error:n})}},{key:"focus",value:function(){this._inputElement.focus()}},{key:"render",value:function(){var t=this,e=this.state.value,n=null===e?this.props.symbol:e,r=this.props.used||!1;return o.a.createElement("div",{id:this.props.id,className:_n.a.element_container+(null!==n&&n.length<=0?" empty ":"")+(null!==e&&this.state.error?" error ":"")+(r?" used ":"")+" "+this.props.className,style:this.props.style},o.a.createElement("input",{ref:function(e){return t._inputElement=e},spellCheck:!1,maxLength:1,style:{width:"1ch"},value:n,onChange:this.onValueChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}}])&&Sn(n.prototype,r),i&&Sn(n,i),e}(o.a.Component);function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mn(t,e){return(Mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Pn(e).call(this,t))||"object"!==jn(o)&&"function"!=typeof o?Tn(r):o).newSymbolComponent=null,n.state={useNewSymbol:!1},n.onElementAdd=n.onElementAdd.bind(Tn(n)),n.onElementFocus=n.onElementFocus.bind(Tn(n)),n.onElementBlur=n.onElementBlur.bind(Tn(n)),n.onElementChange=n.onElementChange.bind(Tn(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mn(t,e)}(e,t),n=e,(r=[{key:"onElementAdd",value:function(t){var e=this;this.setState({useNewSymbol:!0},(function(){e.newSymbolComponent.focus()}))}},{key:"onElementFocus",value:function(t,e){}},{key:"onElementBlur",value:function(t,e,n){var r=e.props.symbol,o=this.props.machineController;if(null!==n){var i=o.getMachineBuilder().getMachine();n.length>0?i.isSymbol(n)||(r?o.renameSymbol(r,n):o.createSymbol(n)):r&&o.deleteSymbol(r)}this.state.useNewSymbol&&this.setState({useNewSymbol:!1})}},{key:"onElementChange",value:function(t,e,n){var r=this.props.machineController;if(n.length>0&&r.getMachineBuilder().getMachine().isSymbol(n)&&n!==e.props.symbol)throw new Error("Not a valid symbol")}},{key:"renderAlphabetList",value:function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value;s&&n.push(o.a.createElement(Cn,{key:s,symbol:s,used:t.isUsedSymbol(s),onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange}))}}catch(t){i=!0,a=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"render",value:function(){var t=this,e=this.props.machineController.getMachineBuilder().getMachine(),n=e.getAlphabet();return o.a.createElement("div",{id:this.props.id,className:gn.a.list_container,style:this.props.style},o.a.createElement("div",{className:gn.a.element_list},this.renderAlphabetList(e,n),o.a.createElement(Cn,{ref:function(e){return t.newSymbolComponent=e},style:{display:this.state.useNewSymbol?"block":"none"},symbol:"",onFocus:this.onElementFocus,onBlur:this.onElementBlur,onChange:this.onElementChange})),o.a.createElement($e.a,{className:gn.a.add_button,title:"Add Symbol",onClick:this.onElementAdd},o.a.createElement(tn.a,null)))}}])&&xn(n.prototype,r),i&&xn(n,i),e}(o.a.Component),Ln=n(137),In=n.n(Ln);function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fn(t,e){return!e||"object"!==An(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bn(t){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rn(t,e){return(Rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gn=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Fn(this,Bn(e).call(this,t)))._cachedMachineHash=0,n._cachedMachineComponents=[],n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rn(t,e)}(e,t),n=e,(r=[{key:"componentWillUnmount",value:function(){this._cachedMachineHash=0,this._cachedMachineComponents.length=0}},{key:"renderTransitionEntry",value:function(t,e,n){var r=t.isDeterministic(),i=t.doTransition(e,n,!0),a="",u=!1;if(i.length<=0){if(!r)return null;if(u=!0,a="-",n===A.a)return null}else if(1===i.length)u=!1,a=i[0].getStateLabel(),r||(a="{"+a+"}");else{r&&(u=!0);var l="",s=!0,c=!1,f=void 0;try{for(var p,h=i[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value;l.length>0&&(l+=","),l+=y.getStateLabel()}}catch(t){c=!0,f=t}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}a="{"+l+"}"}return n===A.a&&(n=v.a,r&&(u=!0)),o.a.createElement("tr",{key:e.getStateID()+":"+n},o.a.createElement("td",{className:In.a.chart_key+(u?" error ":"")},"("+e.getStateLabel()+","+n+")"),o.a.createElement("td",{className:In.a.chart_value+(u?" error ":"")},a))}},{key:"renderTransitionTable",value:function(t){var e=t.getHashCode();if(e===this._cachedMachineHash)return this._cachedMachineComponents;this._cachedMachineHash=e;var n=this._cachedMachineComponents=[],r=!0,o=!1,i=void 0;try{for(var a,u=t.getStates()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,s=null;(s=this.renderTransitionEntry(t,l,A.a))&&n.push(s);var c=!0,f=!1,p=void 0;try{for(var h,y=t.getAlphabet()[Symbol.iterator]();!(c=(h=y.next()).done);c=!0){var v=h.value;(s=this.renderTransitionEntry(t,l,v))&&n.push(s)}}catch(t){f=!0,p=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}},{key:"render",value:function(){var t=this.props.machineController,e=t.getMachineBuilder().getMachine(),n="DFA"===t.getMachineType();return o.a.createElement("div",{id:this.props.id,className:In.a.chart_container+" "+this.props.className,style:this.props.style},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Q×Σ"),o.a.createElement("th",null,n?o.a.createElement("span",null,"Q"):o.a.createElement("span",null,o.a.createElement("span",{style:{fontFamily:"cursive"}},"P"),o.a.createElement("span",null,"(Q)")))),this.renderTransitionTable(e))))}}])&&Dn(n.prototype,r),i&&Dn(n,i),e}(o.a.Component),Hn=n(138),Vn=n.n(Hn);function zn(t){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xn(t){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qn(t,e){return(Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qn="symbols",Kn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Xn(e).call(this,t))||"object"!==zn(o)&&"function"!=typeof o?Yn(r):o).state={rowAxis:qn},n.onRowAxisSwitch=n.onRowAxisSwitch.bind(Yn(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qn(t,e)}(e,t),n=e,(r=[{key:"onRowAxisSwitch",value:function(t){this.setState((function(t,e){return{rowAxis:t.rowAxis===qn?"states":qn}}))}},{key:"renderTableEntryForSymbolAxis",value:function(t,e,n){var r=t.isDeterministic(),i=t.doTransition(e,n),a="",u=!1;if(i.length<=0)r&&n!==A.a&&(u=!0),a="-";else if(1===i.length)r&&n===A.a&&(u=!0),a=i[0].getStateLabel();else{r&&(u=!0);var l="",s=!0,c=!1,f=void 0;try{for(var p,h=i[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value;l.length>0&&(l+=","),l+=y.getStateLabel()}}catch(t){c=!0,f=t}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}a="{"+l+"}"}var v=r&&n===A.a;return o.a.createElement("td",{key:e.getStateID()+":"+n,className:Vn.a.table_entry+(u?" error ":"")+(v?" disabled ":"")},a)}},{key:"renderTableEntries",value:function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var u,l=t.getStates()[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value,c=[];switch(e){case qn:var f=!0,p=!1,h=void 0;try{for(var y,b=t.getAlphabet()[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var d=y.value;c.push(this.renderTableEntryForSymbolAxis(t,s,d))}}catch(t){p=!0,h=t}finally{try{f||null==b.return||b.return()}finally{if(p)throw h}}c.push(this.renderTableEntryForSymbolAxis(t,s,A.a));break;case"states":var g=!0,m=!1,_=void 0;try{for(var w,S=t.getStates()[Symbol.iterator]();!(g=(w=S.next()).done);g=!0){var E=w.value,O=t.getTransitionSymbols(s,E),k="";if(O){var C=!0,j=!1,x=void 0;try{for(var P,T=O[Symbol.iterator]();!(C=(P=T.next()).done);C=!0){var M=P.value;k.length>0&&(k+="\n"),M===A.a?k+=v.a:k+=M}}catch(t){j=!0,x=t}finally{try{C||null==T.return||T.return()}finally{if(j)throw x}}}else k="-";c.push(o.a.createElement("td",{key:s.getStateID()+":"+E.getStateID()},k))}}catch(t){m=!0,_=t}finally{try{g||null==S.return||S.return()}finally{if(m)throw _}}break;default:throw new Error("Unknown row axis type '"+e+"'")}n.push(o.a.createElement("tr",{key:s.getStateID()},o.a.createElement("th",{scope:"row",className:Vn.a.table_axis_header+" row"},s.getStateLabel()),c))}}catch(t){i=!0,a=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"renderTableAxis",value:function(t,e){var n=[],r=t.isDeterministic();switch(e){case qn:var i=!0,a=!1,u=void 0;try{for(var l,s=t.getAlphabet()[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;n.push(o.a.createElement("th",{key:c,scope:"col",className:Vn.a.table_axis_header+" col"},c))}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return n.push(o.a.createElement("th",{key:A.a,scope:"col",className:Vn.a.table_axis_header+(r?" disabled ":"")+" col"},v.a)),n;case"states":var f=!0,p=!1,h=void 0;try{for(var y,b=t.getStates()[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var d=y.value;n.push(o.a.createElement("th",{key:d.getStateID(),scope:"col",className:Vn.a.table_axis_header+" col"},d.getStateLabel()))}}catch(t){p=!0,h=t}finally{try{f||null==b.return||b.return()}finally{if(p)throw h}}return n;default:throw new Error("Unknown row axis type '"+e+"'")}}},{key:"render",value:function(){var t=this.state.rowAxis,e=this.props.machineController.getMachineBuilder().getMachine();return o.a.createElement("div",{id:this.props.id,className:Vn.a.table_container+" "+this.props.className,style:this.props.style},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("button",{onClick:this.onRowAxisSwitch},t===qn?"Q/Σ":"Q/Q")),this.renderTableAxis(e,t)),this.renderTableEntries(e,t))))}}])&&Un(n.prototype,r),i&&Un(n,i),e}(o.a.Component),Wn=n(139),Zn=n.n(Wn),Jn=n(37);function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rr(t,e){return(rr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var or=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=er(e).call(this,t))||"object"!==$n(o)&&"function"!=typeof o?nr(r):o).onAutoStatePrefixSubmit=n.onAutoStatePrefixSubmit.bind(nr(n)),n.onAutoStatePrefixFormat=n.onAutoStatePrefixFormat.bind(nr(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rr(t,e)}(e,t),n=e,(r=[{key:"onAutoStatePrefixSubmit",value:function(t,e){var n=this.props.graphController,r=n.getGraphLabeler();r.getDefaultNodeLabelPrefix()!=t&&(r.setDefaultNodeLabelPrefix(t),n.applyAutoRename())}},{key:"onAutoStatePrefixFormat",value:function(t){return t&&t.length>0?t:this.props.graphController.getGraphLabeler().getDefaultNodeLabelPrefix()}},{key:"render",value:function(){var t=this.props.graphController;return o.a.createElement("div",{id:this.props.id,className:Zn.a.select_container+" "+this.props.className,style:this.props.style},o.a.createElement("label",{className:Zn.a.select_label},"State Labels"),o.a.createElement(Jn.a,{className:Zn.a.prefix_editor,defaultValue:t.getGraphLabeler().getDefaultNodeLabelPrefix(),captureOnExit:"save",formatter:this.onAutoStatePrefixFormat,onSubmit:this.onAutoStatePrefixSubmit}),o.a.createElement("select",{className:Zn.a.postfix_selector,onChange:this.onMachineTypeChange,disabled:!0},o.a.createElement("option",null,"0-9"),o.a.createElement("option",null,"a-z"),o.a.createElement("option",null,"A-Z")))}}])&&tr(n.prototype,r),i&&tr(n,i),e}(o.a.Component);function ir(t){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ur(t){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sr(t,e){return(sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=ur(e).call(this,t))||"object"!==ir(o)&&"function"!=typeof o?lr(r):o).onMachineTypeChange=n.onMachineTypeChange.bind(lr(n)),n.onAutoLayoutApply=n.onAutoLayoutApply.bind(lr(n)),n.onAutoLayoutChange=n.onAutoLayoutChange.bind(lr(n)),n.onAutoLabelChange=n.onAutoLabelChange.bind(lr(n)),n.onSnapToGridChange=n.onSnapToGridChange.bind(lr(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sr(t,e)}(e,t),n=e,(r=[{key:"onMachineTypeChange",value:function(t){var e=t.target.value,n=this.props.session.getCurrentModule().getMachineController().getMachineBuilder().getMachine();switch(e){case"DFA":n.setDeterministic(!0);break;case"NFA":n.setDeterministic(!1);break;default:throw new Error("Unknown machine type '"+e+"'")}}},{key:"onAutoLayoutApply",value:function(t){this.props.session.getCurrentModule().getGraphController().applyAutoLayout()}},{key:"onAutoLayoutChange",value:function(t){}},{key:"onAutoLabelChange",value:function(t){this.props.session.getCurrentModule().getGraphController().setAutoRenameNodes(t.target.checked)}},{key:"onSnapToGridChange",value:function(t){}},{key:"render",value:function(){var t=this.props.drawer,n=this.props.session.getCurrentModule(),r=n.getGraphController(),i=n.getMachineController(),a=n.getGraphView(),u=i.getMachineBuilder().getMachine().isDeterministic()?"DFA":"NFA",l=r.shouldAutoRenameNodes(),s=t.isDrawerFullscreen();return o.a.createElement(Xe.a,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},o.a.createElement("select",{className:Qe.a.machine_type_select,value:u,onChange:this.onMachineTypeChange},o.a.createElement("option",null,"DFA"),o.a.createElement("option",null,"NFA")),o.a.createElement(Ke.a,null),o.a.createElement(qe.a,{title:"States",initial:!0,full:s},o.a.createElement(bn,{graphController:r,graphView:a})),o.a.createElement(qe.a,{title:"Alphabet",initial:!0,full:s},o.a.createElement(Nn,{machineController:i})),o.a.createElement(Ke.a,null),o.a.createElement(qe.a,{title:"Transition Chart",full:s,disabled:r.getGraph().getEdgeCount()<=0},o.a.createElement(Gn,{machineController:i})),o.a.createElement(qe.a,{title:"Transition Table",full:s,disabled:r.getGraph().getNodeCount()<=0},o.a.createElement(Kn,{machineController:i})),o.a.createElement(Ke.a,null),o.a.createElement(or,{graphController:r}),o.a.createElement("button",{className:Qe.a.autolayout_button,onClick:this.onAutoLayoutApply,disabled:r.getGraph().isEmpty()},I18N.toString("action.overview.autolayout")),o.a.createElement(Ke.a,null),o.a.createElement(We.a,{id:"overview-auto-label",checked:l,title:"Auto rename nodes",onChange:this.onAutoLabelChange}),o.a.createElement(We.a,{id:"overview-auto-layout",checked:!1,title:"Auto layout nodes",disabled:!0,onChange:this.onAutoLayoutChange}),o.a.createElement(We.a,{id:"overview-snap-grid",checked:!1,title:"Snap-to-grid",disabled:!0,onChange:this.onSnapToGridChange}))}}])&&ar(n.prototype,r),i&&ar(n,i),e}(o.a.Component);Object.defineProperty(cr,"TITLE",{get:function(){return I18N.toString("component.overview.title")}});var fr=cr,pr=n(140),hr=n.n(pr),yr=n(141),vr=n.n(yr),br=n(10),dr=n(198),gr=n(34),mr=n(199),_r=n(21),wr=n(35),Sr=n(33),Er=n(200),Or=n(185),kr=n(142),Cr=n.n(kr),jr=n(201),xr=n(202),Pr=n(203),Tr=n(204);function Mr(t){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lr(t){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ar(t,e){return(Ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dr="default",Fr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Lr(e).call(this,t))||"object"!==Mr(o)&&"function"!=typeof o?Ir(r):o).inputElement=null,n.state={value:n.props.defaultValue||"",status:Dr},n.onChange=n.onChange.bind(Ir(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ar(t,e)}(e,t),n=e,(r=[{key:"focus",value:function(){this.inputElement&&this.inputElement.focus()}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.value!==t?this.setState({value:t},e):e&&e()}},{key:"setStatus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state.status!==t?this.setState({status:t},e):e&&e()}},{key:"resetStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.state.status!==Dr?this.setState({status:Dr},t):t&&t()}},{key:"getValue",value:function(){return this.state.value}},{key:"getStatus",value:function(){return this.state.status}},{key:"onChange",value:function(t){var e=t.target.value;this.state.value!==e&&this.setState({value:e,status:Dr})}},{key:"render",value:function(){var t=this,e=this.props.onDelete,n=this.props.onTest,r=this.props.active,i=this.props.placeholder,a=this.state.status;return o.a.createElement("div",{id:this.props.id,className:Cr.a.test_item_container+(r?" active ":"")+" "+a+" "+this.props.className,style:this.props.style},o.a.createElement($e.a,{className:Cr.a.test_button,title:"Test",disabled:!n,onClick:function(e){return n(e,t)}},"success"===a?o.a.createElement(xr.a,null):"failure"===a?o.a.createElement(Pr.a,null):"working"===a?o.a.createElement(Tr.a,null):o.a.createElement(Or.a,null)),o.a.createElement("div",{className:Cr.a.test_input},o.a.createElement("input",{ref:function(e){return t.inputElement=e},type:"text",placeholder:i,value:this.state.value,onChange:this.onChange}),o.a.createElement("label",null,this.props.subtitle)),o.a.createElement($e.a,{className:Cr.a.delete_button,title:"Delete",disabled:!e,onClick:function(n){return e(n,t)}},o.a.createElement(jr.a,null)))}}])&&Nr(n.prototype,r),i&&Nr(n,i),e}(o.a.Component);function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gr(t){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vr(t,e){return(Vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zr=[".txt"],Ur="test.txt",Xr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Gr(e).call(this,t))||"object"!==Br(o)&&"function"!=typeof o?Hr(r):o)._testList=[],n._testName=Ur,n.onTestNew=n.onTestNew.bind(Hr(n)),n.onTestUpload=n.onTestUpload.bind(Hr(n)),n.onTestDownload=n.onTestDownload.bind(Hr(n)),n.onTestClose=n.onTestClose.bind(Hr(n)),n.onTestAdd=n.onTestAdd.bind(Hr(n)),n.onTestDelete=n.onTestDelete.bind(Hr(n)),n.onTestTest=n.onTestTest.bind(Hr(n)),n.onTestRunAll=n.onTestRunAll.bind(Hr(n)),n.onGraphChange=n.onGraphChange.bind(Hr(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vr(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.props.graphController.getGraphChangeHandler().addListener(this.onGraphChange)}},{key:"componentWillUnmount",value:function(){this.props.graphController.getGraphChangeHandler().removeListener(this.onGraphChange)}},{key:"onGraphChange",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=this._testList[Symbol.iterator]();!(e=(o=i.next()).done);e=!0)o.value.ref.resetStatus()}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"onTestNew",value:function(t){this.isEmpty()||this.onTestClose(t),this.onTestAdd(t)}},{key:"onTestUpload",value:function(t){var e=this,n=new FileReader;n.onload=function(r){try{e._testName=t.name,e._testList.length=0;var o=r.target.result.split("\n"),i=!0,a=!1,u=void 0;try{for(var l,s=o[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;(c=c.trim()).length>0&&e._testList.push({id:Object(br.c)(),defaultValue:c,ref:null})}}catch(t){a=!0,u=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}e._testList.length<=0&&e.onTestAdd(null)}catch(t){n.abort()}},n.readAsText(t)}},{key:"onTestDownload",value:function(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=this._testList[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.ref;u&&e.push(u.getValue())}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}Object(dr.a)(this._testName,e.join("\n"))}},{key:"onTestClose",value:function(t){var e=this.props.tester;e.isTesting()&&e.stopTest(),this._testList.length=0}},{key:"onTestAdd",value:function(t){this._testList.push({id:Object(br.c)(),defaultValue:"",ref:null})}},{key:"onTestRunAll",value:function(t){var e=this,n=0;!function t(){var r=e._testList[n];e.onTestTest(null,r.ref,!0,(function(){++n<e._testList.length&&t()}))}()}},{key:"onTestDelete",value:function(t,e){}},{key:"onTestTest",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n||this.props.immediate,i=this.props.tester,a=e.getValue();e.setState({status:"working"});var u=this.props.graphController,l=this.props.machineController;if(i.startTest(a,u,l).then((function(t){e.setState({status:t?"success":"failure"})}),(function(t){e.setState({status:Dr})})),o){var s=i.runTest(u,l,!0);r&&s.then(r)}}},{key:"isEmpty",value:function(){return this._testList.length<=0}},{key:"render",value:function(){var t=this,e=this.props.tester,n=this.props.graphController,r=this.isEmpty(),i=e&&e.isTesting();return o.a.createElement("div",{id:this.props.id,className:vr.a.test_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:vr.a.test_control_tray},o.a.createElement($e.a,{className:vr.a.test_control_button,title:I18N.toString("action.testing.new"),onClick:this.onTestNew},o.a.createElement(mr.a,null)),o.a.createElement(gr.a,{className:vr.a.test_control_button,title:I18N.toString("action.testing.import"),accept:zr.join(","),onUpload:this.onTestUpload},o.a.createElement(_r.a,null)),o.a.createElement($e.a,{className:vr.a.test_control_button,title:I18N.toString("action.testing.save"),disabled:r,onClick:this.onTestDownload},o.a.createElement(wr.a,null)),o.a.createElement($e.a,{className:vr.a.test_control_button,title:I18N.toString("action.testing.clear"),disabled:r,onClick:this.onTestClose},o.a.createElement(Sr.a,null))),o.a.createElement("div",{className:vr.a.test_list_container+(r?" empty ":"")+(i?" disabled ":"")},o.a.createElement($e.a,{className:vr.a.test_list_add,title:"Add",onClick:this.onTestAdd},o.a.createElement(Er.a,null),o.a.createElement("span",{className:vr.a.test_list_count},r?"":""+this._testList.length)),o.a.createElement("div",{className:vr.a.test_list_scroll_container},o.a.createElement("div",{className:vr.a.test_list},this._testList.map((function(r,i){var a=r.id,u=r.defaultValue||"",l=t.onTestTest;return e&&!n.getGraph().isEmpty()||(l=null),o.a.createElement(Fr,{key:a,ref:function(t){return r.ref=t},defaultValue:u,onTest:l,onDelete:function(e,n){t._testList.splice(i,1),t.onTestDelete(e,n)}})})))),o.a.createElement($e.a,{className:vr.a.test_list_runall,title:"Run All",onClick:this.onTestRunAll},o.a.createElement(Or.a,null))))}}])&&Rr(n.prototype,r),i&&Rr(n,i),e}(o.a.Component);function Yr(t){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qr(t){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wr(t,e){return(Wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=qr(e).call(this,t))||"object"!==Yr(o)&&"function"!=typeof o?Kr(r):o).state={stepMode:!1},n.onStepTestChange=n.onStepTestChange.bind(Kr(n)),n.onAutoErrorCheckChange=n.onAutoErrorCheckChange.bind(Kr(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wr(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this.props.session,n=t.getApp(),r=t.getCurrentModule(),o=r._tester;o.on("startTest",(function(t){r._testMode=!0,n._drawer.setDrawerSoloClass(e),n._drawer.closeDrawer()})),o.on("stopTest",(function(t){r._testMode=!1,n._drawer.setDrawerSoloClass(null),n._drawer.openDrawer()}))}},{key:"onStepTestChange",value:function(t){this.setState((function(t,e){return{stepMode:!t.stepMode}}))}},{key:"onAutoErrorCheckChange",value:function(t){var e=this.props.session.getCurrentModule().getErrorChecker(),n=e.isErrorChecking();e.setErrorChecking(!n),n?this.props.session.getApp().getNotificationManager().clearNotifications("machine-error"):e.showErrors()}},{key:"render",value:function(){var t=this.props.session.getCurrentModule(),n=t.getGraphController(),r=t.getMachineController(),i=t.getStringTester(),a=t.getErrorChecker(),u=this.state.stepMode,l=a.isErrorChecking();return o.a.createElement(Xe.a,{id:this.props.id,className:hr.a.panel_container+" "+this.props.className,style:this.props.style,title:e.TITLE},o.a.createElement(Xr,{tester:i,graphController:n,machineController:r,immediate:!u}),o.a.createElement(We.a,{id:"testing-step-test",checked:u,onChange:this.onStepTestChange,title:"Step testing"}),o.a.createElement(We.a,{id:"testing-error-check",checked:l,onChange:this.onAutoErrorCheckChange,title:"Auto error checking"}))}}])&&Qr(n.prototype,r),i&&Qr(n,i),e}(o.a.Component);Object.defineProperty(Zr,"TITLE",{get:function(){return I18N.toString("component.testing.title")}});var Jr=Zr,$r=n(143),to=n.n($r),eo=n(224),no=n(39),ro=n(225);function oo(t){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function io(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ao(t,e){return!e||"object"!==oo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uo(t){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lo(t,e){return(lo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var so=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ao(this,uo(e).call(this))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lo(t,e)}(e,t),n=e,(r=[{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("object"!==oo(t))throw new Error("Unable to parse data of non-object type");e?e.clear():e=new l.a;for(var n=t.nodes||[],r=Math.min(n.length||0,t.nodeCount||0),o=t.edges||[],i=Math.min(o.length||0,t.edgeCount||0),a=t.initial||0,u=new Map,s=0;s<r;++s){var c=n[s];if(c){var f=e.createNode(c.x||0,c.y||0,c.id);f.setNodeLabel(c.label||""),f.setNodeAccept(c.accept||!1),f.setNodeCustom(c.custom||!1),u.set(s,f)}}var p=u.get(a);p&&e.setStartNode(p);for(var h=0;h<i;++h){var y=o[h];if(y){var v=u.get(y.from)||null;if(v){var b=u.get(y.to)||null,d=e.createEdge(v,b,y.id),g=y.quad||{};d.setEdgeLabel(y.label||""),d.setQuadraticRadians(g.radians||0),d.setQuadraticLength(g.length||0)}}}return e}},{key:"compose",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(t instanceof l.a))throw new Error("Unable to compose target of unknown type");e||(e={});for(var n,r=t.getNodes()||[],o=r.length||0,i=t.getEdges()||[],a=i.length||0,u=t.getStartNode(),s=new Array(o),c=new Map,f=0;f<o;++f)if(n=r[f]){var p=n.getGraphElementID();c.set(n,f),s[f]={id:p,x:n.x||0,y:n.y||0,label:n.getNodeLabel()||"",accept:n.getNodeAccept()||!1,custom:n.getNodeCustom()||!1}}for(var h,y=new Array(a),v=0;v<a;++v)if(h=i[v]){var b=h.getGraphElementID(),d=h.getQuadratic()||{},g=h.getEdgeFrom(),m=h.getEdgeTo(),_=c.has(g)?c.get(g):-1,w=c.has(m)?c.get(m):-1;y[v]={id:b,from:_,to:w,quad:{radians:d.radians||0,length:d.length||0},label:h.getEdgeLabel()||""}}var S=c.get(u)||0;return e._version="1.0.0",e.nodeCount=o,e.nodes=s,e.edgeCount=a,e.edges=y,e.initial=S,e}}])&&io(n.prototype,r),o&&io(n,o),e}(ro.a);function co(t){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function po(t){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ho(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yo(t,e){return(yo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vo=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=po(e).call(this,t))||"object"!==co(o)&&"function"!=typeof o?ho(r):o).state={isEqual:null,witnessString:""},n.optimizeUnreachOption=null,n.optimizeRedundOption=null,n.onConvertToDFA=n.onConvertToDFA.bind(ho(n)),n.onConvertToNFA=n.onConvertToNFA.bind(ho(n)),n.onInvertDFA=n.onInvertDFA.bind(ho(n)),n.onEquivalentTest=n.onEquivalentTest.bind(ho(n)),n.onOptimizeMachine=n.onOptimizeMachine.bind(ho(n)),n.onFileUpload=n.onFileUpload.bind(ho(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yo(t,e)}(e,t),n=e,(r=[{key:"onDeleteAllUnreachable",value:function(t){var e=this.props.session.getCurrentModule().getGraphController(),n=Object(F.a)(e.getGraph());e.deleteTargetNodes(n)}},{key:"onConvertToDFA",value:function(t){var e=this.props.session,n=e.getCurrentModule(),r={graphController:n.getGraphController(),machineController:n.getMachineController()};e.getApp().getNotificationManager().pushNotification(I18N.toString("message.warning.convertNFAToDFA"),Ut,"machine-convert",r,!0)}},{key:"onConvertToNFA",value:function(t){this.props.session.getCurrentModule().getMachineController().convertMachineTo("NFA")}},{key:"onInvertDFA",value:function(t){this.props.session.getCurrentModule().getMachineController().invertMachine()}},{key:"onEquivalentTest",value:function(t){var e,n=this;(e=t,new Promise((function(t,n){(new no.a).uploadFile(e).then((function(e){var n=JSON.parse(e),r=new so,o=new l.a;r.parse(n.graphData,o);var i=new U,a=new A.c;i.attemptBuildMachine(o,a),t(a||null)}))}))).then((function(t){var e=n.props.session.getCurrentModule().getMachineController().getMachineBuilder().getMachine(),r=Object(Ae.a)(t,e);r.value?n.setState({isEqual:!0,witnessString:""}):r.witnessString?n.setState({isEqual:!1,witnessString:"Witness: "+r.witnessString}):n.setState({isEqual:!1,witnessString:"Sorry, the machines have different alphabets"})})).catch((function(t){n.setState({isEqual:null,witnessString:t.message})}))}},{key:"onOptimizeMachine",value:function(t){this.optimizeUnreachOption.isChecked()&&this.onDeleteAllUnreachable(t)}},{key:"canOptimize",value:function(){return this.optimizeRedundOption&&this.optimizeRedundOption.isChecked()||this.optimizeUnreachOption&&this.optimizeUnreachOption.isChecked()}},{key:"onFileUpload",value:function(t){var e=t.target.files;e.length>0&&(this.onEquivalentTest(e[0]),t.target.value="")}},{key:"render",value:function(){var t=this,n=this.props.session.getCurrentModule().getMachineController();return o.a.createElement(Xe.a,{id:this.props.id,className:this.props.className,style:this.props.style,title:e.TITLE},o.a.createElement(qe.a,{title:"Optimizations",initial:!0},o.a.createElement(eo.a,{ref:function(e){return t.optimizeUnreachOption=e},id:"opt-unreach",title:"Unreachables",value:"unreach"}),o.a.createElement(eo.a,{ref:function(e){return t.optimizeRedundOption=e},disabled:!0,id:"opt-redund",title:"Redundant States",value:"redund"}),o.a.createElement("button",{className:to.a.analysis_button,onClick:this.onOptimizeMachine,disabled:!this.canOptimize()},"Optimize"),"DFA"==n.getMachineType()?o.a.createElement("button",{className:to.a.analysis_button,onClick:this.onConvertToNFA},I18N.toString("action.overview.convertnfa")):"NFA"==n.getMachineType()?o.a.createElement("button",{className:to.a.analysis_button,onClick:this.onConvertToDFA},I18N.toString("action.overview.convertdfa")):null),o.a.createElement(qe.a,{title:"Related Machines"},"DFA"===n.getMachineType()&&o.a.createElement("button",{className:to.a.analysis_button,onClick:this.onInvertDFA},"Flip all accept states")),o.a.createElement(qe.a,{title:"Equivalent Test"},o.a.createElement("input",{type:"file",name:"import",className:to.a.upload_input,onChange:this.onFileUpload}),o.a.createElement("div",null,o.a.createElement("label",null,null===this.state.isEqual?"-- ??? --":this.state.isEqual?"-- Equivalent --":"-- Not Equivalent --")),o.a.createElement("div",null,o.a.createElement("label",null,this.state.witnessString))))}}])&&fo(n.prototype,r),i&&fo(n,i),e}(o.a.Component);Object.defineProperty(vo,"TITLE",{get:function(){return I18N.toString("component.analysis.title")}});var bo=vo,go=n(210),mo=n(212),_o=n(208),wo=n(211),So=n(195),Eo=n(172);function Oo(t){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Co(t,e){return!e||"object"!==Oo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jo(t){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xo(t,e){return(xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Po=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Co(this,jo(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xo(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.node,e=this.props.fill,n=this.props.stroke,r=this.props.onMouseOver,i=this.props.onMouseOut,a=this.props.pointerEvents,u=t.getNodeLabel(),l=t.getNodeSize(),s=t.getNodeAccept();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Eo.b,{position:t,radius:l,label:u,color:e,outline:n,onMouseOver:r?function(e){(e.target.value||(e.target.value={})).source=t,r(e)}:null,onMouseOut:i?function(e){(e.target.value||(e.target.value={})).source=t,i(e)}:null,pointerEvents:a}),s&&o.a.createElement(Eo.b,{position:t,radius:.7*l,color:"none",outline:n}))}}])&&ko(n.prototype,r),i&&ko(n,i),e}(o.a.Component),To=n(171);function Mo(t){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function No(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lo(t,e){return!e||"object"!==Mo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Io(t){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ao(t,e){return(Ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Do=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Lo(this,Io(e).call(this)))._inputController=t,r._graphController=n,r}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ao(t,e)}(e,t),n=e,(r=[{key:"onDblInputEvent",value:function(t){var e=this._inputController,n=this._graphController;if(e.getCurrentTargetType()===Eo.a){var r=e.getCurrentTargetSource();r.setNodeAccept(!r.getNodeAccept()),n.emitGraphEvent("node-accept-change",{target:r})}}}])&&No(n.prototype,r),o&&No(n,o),e}(To.a),Fo=n(177);function Bo(t){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Go(t,e){return!e||"object"!==Bo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ho(t){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vo(t,e){return(Vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zo=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Go(this,Ho(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vo(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.edge,e=this.props.stroke,n=this.props.onMouseOver,r=this.props.onMouseOut,i=this.props.pointerEvents,a=t.getStartPoint(),u=t.getEndPoint(),l=t.getCenterPoint(),s=t.getEdgeLabel(),c=t.getEdgeDirection();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Fo.e,{directed:Fo.a,from:a,to:u,center:l,label:s.split(v.b).join("\n"),direction:c,color:e,onMouseOver:n?function(e){(e.target.value||(e.target.value={})).source=t,n(e)}:null,onMouseOut:r?function(e){(e.target.value||(e.target.value={})).source=t,r(e)}:null,pointerEvents:i}))}}])&&Ro(n.prototype,r),i&&Ro(n,i),e}(o.a.Component);function Uo(t){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yo(t,e){return!e||"object"!==Uo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qo(t){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qo(t,e){return(qo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ko=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Yo(this,Qo(e).call(this,t));var r=t.graphView,o=t.graphController,i=r.getInputController();return n._fsaNodeInputHandler=new Do(i,o),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qo(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.props.graphView.getInputContext().addInputHandler(this._fsaNodeInputHandler)}},{key:"componentWillUnmount",value:function(){this.props.graphView.getInputContext().removeInputHandler(this._fsaNodeInputHandler)}},{key:"render",value:function(){var t=this.props.graphView,e=this.props.graphController,n=this.props.editable,r=e.getGraph(),i=t.getInputController(),a=t.getInputContext(),u=this.props.session.getCurrentModule()._tester.targets;return o.a.createElement(o.a.Fragment,null,o.a.createElement(wo.a,{inputController:i,graphController:e,inputContext:a,inputPriority:-1,editable:n}),o.a.createElement(go.a,{nodes:r.getNodes(),inputController:i,graphController:e,nodeRenderer:Po,inputContext:a,inputPriority:-1,editable:n}),o.a.createElement(mo.a,{ref:function(t){t&&t.getGraphEdgeInputHandler().setShouldDeleteEdgeWithEmptyLabel(!0).setShouldDeleteEdgePlaceholder(!0)},edges:r.getEdges(),inputController:i,graphController:e,edgeRenderer:zo,inputContext:a,inputPriority:-1,editable:n}),o.a.createElement(_o.a,{inputController:i,graphController:e,inputContext:a,inputPriority:-1}),o.a.createElement(So.a,{nodes:u}))}}])&&Xo(n.prototype,r),i&&Xo(n,i),e}(o.a.Component),Wo=n(206),Zo=n(191),Jo=n(213),$o=n(144),ti=n.n($o),ei=n(170),ni=n(226);function ri(t){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ii(t,e){return!e||"object"!==ri(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ai(t){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ui(t,e){return(ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var li=["0","1"],si=[v.a],ci=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ii(this,ai(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ui(t,e)}(e,t),n=e,(r=[{key:"renderSymbol",value:function(t){var e=this.props.graphController.getLabelEditor();if(!e)return null;var n=e.inputComponent;return o.a.createElement(ni.a,{key:t,parent:n,title:t,onClick:function(e){return n.appendValue(t,v.b)}})}},{key:"render",value:function(){var t=this,e=this.props.graphController.getLabelEditor(),n=this.props.currentModule.getMachineController().getAlphabet(),r=e&&e.getTarget()instanceof ei.a,i=e&&e.getTarget()instanceof Ot.a,a=!n||n.length<=1;return o.a.createElement("div",{className:ti.a.tray_container},r&&o.a.createElement("span",null,o.a.createElement("span",{className:ti.a.tray_used},n.map((function(e){return t.renderSymbol(e)}))),o.a.createElement("span",{className:ti.a.tray_default},a&&li.map((function(e){return t.renderSymbol(e)})),si.map((function(e){return t.renderSymbol(e)})))),i&&o.a.createElement("span",null,o.a.createElement(ni.a,{parent:e.inputComponent,title:e.getTarget().getNodeCustom()?"Custom":"Auto",onClick:function(){e.getTarget().setNodeCustom(!e.getTarget().getNodeCustom())}}),o.a.createElement(ni.a,{parent:e.inputComponent,title:e.getTarget().getNodeAccept()?"Accept":"Reject",onClick:function(){e.getTarget().setNodeAccept(!e.getTarget().getNodeAccept())}})))}}])&&oi(n.prototype,r),i&&oi(n,i),e}(o.a.Component);function fi(t){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hi(t,e){return!e||"object"!==fi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yi(t){return(yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vi(t,e){return(vi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bi=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),hi(this,yi(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vi(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.session,e=t.getCurrentModule(),n=this.props.graphView,r=this.props.graphController,i=r.getLabelFormatter(),a=n.getInputController();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Wo.a,{graphController:r,inputController:a,viewport:n.getViewportComponent(),session:t}),o.a.createElement(Zo.a,{style:{right:0},viewportAdapter:n.getViewportAdapter()}),o.a.createElement(Jo.a,{ref:function(t){return r.setLabelEditor(t)},labelFormatter:i,viewport:n.getViewportComponent(),saveOnExit:!0},o.a.createElement(ci,{graphController:r,currentModule:e})))}}])&&pi(n.prototype,r),i&&pi(n,i),e}(o.a.Component),di=n(145),gi=n.n(di),mi=n(227);function _i(t){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Si(t){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ei(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oi(t,e){return(Oi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ki=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Si(e).call(this,t))||"object"!==_i(o)&&"function"!=typeof o?Ei(r):o).onTapeStepBackward=n.onTapeStepBackward.bind(Ei(n)),n.onTapeStepForward=n.onTapeStepForward.bind(Ei(n)),n.onTapeFinish=n.onTapeFinish.bind(Ei(n)),n.onTapeReset=n.onTapeReset.bind(Ei(n)),n.onTapeSkipForward=n.onTapeSkipForward.bind(Ei(n)),n.onTapeSkipBackward=n.onTapeSkipBackward.bind(Ei(n)),n.onTapeStop=n.onTapeStop.bind(Ei(n)),n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oi(t,e)}(e,t),n=e,(r=[{key:"onTapeStepBackward",value:function(t){this.props.value.stepBackward()}},{key:"onTapeStepForward",value:function(t){this.props.value.stepForward()}},{key:"onTapeSkipForward",value:function(t){}},{key:"onTapeSkipBackward",value:function(t){}},{key:"onTapeReset",value:function(t){this.props.value.reset()}},{key:"onTapeFinish",value:function(t){this.props.value.finish()}},{key:"onTapeStop",value:function(t){this.props.value.stop()}},{key:"render",value:function(){var t=this.props.value,e=t?t.getCurrentTapeIndex():-1;return t?o.a.createElement("div",{id:this.props.id,className:gi.a.tape_container+" "+this.props.className,style:this.props.style},o.a.createElement("div",{className:gi.a.tape_control_tray},o.a.createElement("button",{onClick:this.onTapeStepBackward},"BACK"),o.a.createElement("button",{onClick:this.onTapeStepForward},"STEP"),o.a.createElement("button",{onClick:this.onTapeReset},"RESET"),o.a.createElement("button",{onClick:this.onTapeFinish},"TO END")),o.a.createElement("div",{className:gi.a.tape_control_tray},o.a.createElement("button",{onClick:this.onTapeSkipForward},"SKIP TO NEXT"),o.a.createElement("button",{onClick:this.onTapeSkipBackward},"SKIP TO PREV"),o.a.createElement("button",{onClick:this.onTapeStop},"STOP")),o.a.createElement("div",{className:"tape-row"},t.isTapeLeftInfinite()&&o.a.createElement("div",{className:"tape-row-entry infinite"},o.a.createElement("span",{className:"tape-row-states"}),o.a.createElement("label",{className:"tape-row-symbol"},"...")),o.a.createElement(mi.a,{className:"tape-pointer",style:{opacity:e<0?0:1,left:e+"em"}}),t.getTapeInput().map((function(n,r){var i,a;i=e===r,a=e===r-1;var u=t.getTapeSourceStatesByIndex(r),l=null===u;return o.a.createElement("div",{key:n+":"+r,className:"tape-row-entry"+(i?" active ":"")+(a?" active-read ":"")+(l?" disabled ":""),onClick:function(e){return l?null:t.setCurrentTapeIndex(r)}},u&&o.a.createElement("span",{className:"tape-row-states"},u.map((function(t){return o.a.createElement("label",{key:t.getGraphElementID()},t.getNodeLabel())}))),o.a.createElement("label",{className:"tape-row-symbol"},n))})),t.isTapeRightInfinite()&&o.a.createElement("div",{className:"tape-row-entry infinite"},o.a.createElement("span",{className:"tape-row-states"}),o.a.createElement("label",{className:"tape-row-symbol"},"...")))):null}}])&&wi(n.prototype,r),i&&wi(n,i),e}(o.a.Component);function Ci(t){return(Ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ji(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xi(t,e){return!e||"object"!==Ci(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ti(t,e){return(Ti=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mi=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),xi(this,Pi(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ti(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props.graphView,e=this.props.tester;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Zo.a,{style:{right:0},viewportAdapter:t.getViewportAdapter()}),o.a.createElement(ki,{style:{position:"absolute",bottom:0},value:e?e.getTapeContext():null}))}}])&&ji(n.prototype,r),i&&ji(n,i),e}(o.a.Component),Ni=n(205);function Li(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ii=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._app=e,this._graph=new l.a,this._graphController=new N(e,this._graph,null),this._graphViewComponent=o.a.createRef();var r=this._graphController;e.getRenderManager().addRenderer(u.a,(function(t){return o.a.createElement(Ni.a,{ref:n._graphViewComponent,renderGraph:function(t){return o.a.createElement(Ko,{graphView:t,graphController:r,editable:!n._testMode,session:n._app.getSession()})},renderOverlay:function(t){return n._testMode?o.a.createElement(Mi,{graphView:t,tester:n._tester}):o.a.createElement(bi,{graphView:t,graphController:r,session:n._app.getSession()})}})})),this._machineController=new J(this),this._errorChecker=new Wt(e,this._graphController,this._machineController),this._tester=new ct,this._testMode=!1,this._broadcastHandler=new He,this._tutorialHandler=new Ue(e)}var e,n,r;return e=t,(n=[{key:"initialize",value:function(t){var e,n=this;(e=t.getNotificationManager()).registerNotificationLayout(Ut,dt),e.registerNotificationLayout(Qt,Ft),e.registerNotificationLayout(qt,zt),e.registerNotificationLayout(Xt,Et),e.registerNotificationLayout(Yt,Mt),t.getExportManager().registerExporter(new ge(Zt.a),"session").registerExporter(new Te(Zt.b),"jflap"),Object(Me.a)(t.getExportManager()),t.getImportManager().addImporter(new oe(t,Zt.a),".fsa.json",".json").addImporter(new ce(t,Zt.b),".jff"),t.getUndoManager().setEventHandlerFactory((function(){return new Ne.a(n._graphController,Zt.a)})),t.getDrawerManager().addPanelClass((function(e){return o.a.createElement(Xe.a,{id:e.id,className:e.className,style:e.style,title:"Finite State Automata"},o.a.createElement("p",null,"Brought to you with ❤ by the Flap.js team."),o.a.createElement("p",null,"<- Tap on a tab to begin!"),o.a.createElement("div",{style:{position:"absolute",bottom:0,right:0,marginRight:"1em"}},"Looking for Bab's Tutorial?",o.a.createElement("div",{style:{display:"flex",margin:"0.5em 0"}},o.a.createElement("button",{style:{flex:1},onClick:function(e){t.getDrawerComponent().closeDrawer(),n._tutorialHandler.start(t,!0)}},I18N.toString("message.action.next")))))})).addPanelClass(fr).addPanelClass(Jr).addPanelClass(bo),t.getHotKeyManager().registerHotKey("Export to PNG",[a.a,"KeyP"],(function(){t.getExportManager().tryExportFile("image-png",t.getSession())})).registerHotKey("Save as JSON",[a.a,"KeyS"],(function(){t.getExportManager().tryExportFile("session",t.getSession())})),t.getMenuManager().setSubtitleComponentClass((function(t){return o.a.createElement("select",{onChange:function(t){n._machineController.setMachineType(t.target.value)},value:n._machineController.getMachineType()},o.a.createElement("option",{value:"DFA"},"DFA"),o.a.createElement("option",{value:"NFA"},"NFA"))})),t.getTooltipManager().addTooltip(I18N.toString("message.workspace.empty")).addTooltip("If you need help, try the '?' at the top.").addTooltip("Or you can choose to do nothing.").addTooltip("I can't do anything about that.").addTooltip("You really should consider doing something though, for the sake of both of us.").addTooltip("Of course, it is your free will.").addTooltip("You do you.").addTooltip("Please do something.").addTooltip("I need my job.").addTooltip(I18N.toString("message.workspace.empty")),t.getBroadcastManager().addMessageHandler(this._broadcastHandler),this._machineController.initialize(this),this._graphController.initialize(),this._tutorialHandler.start(t)}},{key:"update",value:function(t){this._graphController.update(),this._machineController.update(this)}},{key:"destroy",value:function(t){this._machineController.destroy(this),this._graphController.destroy()}},{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(i.a)(t,e,(function(){return t.getToolbarComponent().closeBar()}))}},{key:"getMachineController",value:function(){return this._machineController}},{key:"getGraphController",value:function(){return this._graphController}},{key:"getGraphView",value:function(){return this._graphViewComponent.current}},{key:"getErrorChecker",value:function(){return this._errorChecker}},{key:"getStringTester",value:function(){return this._tester}},{key:"getBroadcastHandler",value:function(){return this._broadcastHandler}},{key:"getModuleVersion",value:function(){return"3.0.0"}},{key:"getModuleName",value:function(){return"fsa"}},{key:"getLocalizedModuleName",value:function(){return"Finite Automata"}},{key:"getApp",value:function(){return this._app}}])&&Li(e.prototype,n),r&&Li(e,r),t}();e.default=Ii}])]);
//# sourceMappingURL=sourcemap/module_fsa.bundle.js.map