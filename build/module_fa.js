(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{388:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(0),a=n.n(r),o=n(2),i=n.n(o),l=n(383),u=a.a.createContext(null);function s(e){var t=Object(r.useRef)(Object(l.g)());return a.a.createElement(u.Provider,{value:t.current},e.children)}s.propTypes={children:i.a.node}},389:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(390),a=n(388);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,o=[{key:"serviceVersion",get:function(){return"1.0.0"}},{key:"providers",get:function(){return[a.b]}}],(r=null)&&i(n.prototype,r),o&&i(n,o),t}(r.a)},435:function(e,t,n){e.exports={itemList:"src-modules-fa-drawer-overview-definition-__ItemList-module__itemList--3lap4",itemLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__itemLabel--3bnPP",emptyLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__emptyLabel--2J6sm",markedLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__markedLabel--2TePt"}},444:function(e,t,n){e.exports={container:"src-components-pane-__Pane-module__container--3LUuP",innerContainer:"src-components-pane-__Pane-module__innerContainer--2SrWx",dropdown:"src-components-pane-__Pane-module__dropdown--1SA9L",title:"src-components-pane-__Pane-module__title--_MqlS"}},445:function(e,t,n){e.exports={chartKey:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__chartKey--1VaGi",chartValue:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__chartValue--1yXrM",forAllOtherInputs:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__forAllOtherInputs--1L0TS"}},446:function(e,t,n){e.exports={element:"src-components-lib-__FieldSwitch-module__element--1hDLG",disabled:"src-components-lib-__FieldSwitch-module__disabled---YHiG",checked:"src-components-lib-__FieldSwitch-module__checked--O7c33",label:"src-components-lib-__FieldSwitch-module__label--4Sp7a",inplace:"src-components-lib-__FieldSwitch-module__inplace--Vej_k"}},447:function(e,t,n){e.exports={tableEntry:"src-modules-fa-drawer-overview-analysis-__TransitionTable-module__tableEntry--1vo17",tableAxisHeader:"src-modules-fa-drawer-overview-analysis-__TransitionTable-module__tableAxisHeader--tjJ0G"}},448:function(e,t,n){e.exports={container:"src-components-options-__Options-module__container--1O4mR"}},449:function(e,t,n){e.exports={element:"src-components-lib-__FieldInput-module__element--rh70p"}},450:function(e,t,n){e.exports={element:"src-components-lib-__FieldButton-module__element--3mt5M"}},451:function(e,t,n){e.exports={element:"src-components-lib-__TextArea-module__element--2gbYq"}},457:function(e,t,n){"use strict";n.r(t);var r=n(396),a=n(398),o=n(399),i=n(397),l=n(389),u=n(0),s=n.n(u),c=n(387),f=n(409),y=n(433),h=n(434),d=n(386),p=n(432),v=n(424),m=n(384);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,_(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,a=[{key:"reducer",value:function(e,t){switch(t.type){case"add":if(t.elementType===m.a){var n=g(Object(c.c)(this,e,{type:"add",elementType:m.a,opts:t.opts}),2),r=n[0],a=n[1],o=Object.keys(r[this.getElementTypeKeyForElementType(m.a)]).length;return a.label="q"+(o-1),1===o&&(a.initial=!0),[r,a]}}}},{key:"version",get:function(){return"1.0.0"}}],(r=null)&&S(n.prototype,r),a&&S(n,a),t}(v.a),k=n(12),j=n(385);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function T(){var e;return e=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,e.next=3,Object(p.a)(t);case 3:r=e.sent,a={};try{n.endsWith(".fa.json")?a=O.deserialize(JSON.parse(r),{}):n.endsWith(".fsa.json")?a=I(r):n.endsWith(".jff")?a=N(r):n.endsWith(".json")?a=P(r):window.alert("Cannot import file with extension '".concat(n,"'."))}catch(e){k.a.error("FiniteAutomataImporter","Failed to import file.",e)}return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})),(T=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,l,"next",e)}function l(e){C(o,r,a,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments)}function I(e){var t=JSON.parse(e);if("_metadata"in t)throw new Error("Missing metadata.");if("fsa"!==t._metadata.moduleID)throw new Error("Invalid module id.");throw new Error("Not yet implemented.")}function P(e){throw new Error("Not yet implemented.")}function N(e){var t,n=O.getElementTypeKeyForElementType(m.a),r=O.getElementTypeKeyForElementType(j.a),a=(x(t={},n,{}),x(t,r,{}),t),o=(new DOMParser).parseFromString(e,"text/xml"),i=o.getElementsByTagName("state")||[],l=o.getElementsByTagName("transition")||[],u=a[n],s=!0,c=!1,f=void 0;try{for(var y,h=i[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){var d=y.value;if(d.hasAttribute("id")){var p=d.getAttribute("id"),v=d.getAttribute("name"),b={x:Number.parseFloat(M(d,"x","0")),y:Number.parseFloat(M(d,"y","0")),label:v,initial:d.getElementsByTagName("initial").length>0,accept:d.getElementsByTagName("final").length>0};u[p]=b}}}catch(e){c=!0,f=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}var g=new Map,S=a[r],w=0,_=!0,E=!1,k=void 0;try{for(var C,T=l[Symbol.iterator]();!(_=(C=T.next()).done);_=!0){var I=C.value,P=M(I,"from",null),N=M(I,"to",null);if(P&&N){var A=M(I,"read",""),D=P+":"+N;if(g.has(D)){g.get(D).label+="\n"+A}else{var L={fromId:P,toId:N,label:A};S["".concat(++w)]=L,g.set(D,L)}}}}catch(e){E=!0,k=e}finally{try{_||null==T.return||T.return()}finally{if(E)throw k}}return O.deserialize(a,{},{forceIgnoreVersion:!0})}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e.getElementsByTagName(t);if(r.length>0){var a=!0,o=!1,i=void 0;try{for(var l,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var s=l.value;if(s.hasChildNodes())try{return s.childNodes[0].nodeValue}catch(e){}}}catch(e){o=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}}return n}var A=n(54),D=n(37),L=n(49);function F(e){var t=Object(u.useContext)(c.d),n=Object(d.b)(),r=Object(u.useContext)(c.a),a=Object(u.useContext)(A.b),o=Object(u.useCallback)((function(e){var n=JSON.parse(e),a=t.deserialize(n,{});r({type:"resetState",state:a})}),[r,t]);return Object(h.a)(t,(function(){return JSON.stringify(t.serialize(n,{}))})),Object(u.useEffect)((function(){k.a.debug("Toolbar","Performing autosave...");var e=t.serialize(n,{});localStorage.setItem(t.name+".graphData",JSON.stringify(e))})),s.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},s.a.createElement(D.a,{iconClass:L.f,onClick:function(){return r("clearAll")},title:"New"}),s.a.createElement(y.b,{source:t,update:o}),s.a.createElement(y.a,{source:t,update:o}),s.a.createElement(D.a,{iconClass:L.d,onClick:function(){return a({type:"change-tab",value:3})},title:"Save"}),s.a.createElement(f.a,{iconClass:L.n,onUpload:function(e){return function(e){return T.apply(this,arguments)}(e).then((function(e){return r({type:"resetState",state:e})}))}}))}var R=n(2),q=n.n(R),H=n(437),B=n(426),G=n(388),z=n(418),U=new Map;function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];U.has(e)||U.set(e,new Map);var r=U.get(e);if(r.has(t))return r.get(t);if(!n)throw new Error("Cannot find non-existent machine builder for type '".concat(e.name,"' and name '").concat(t,"'."));var a={builder:new e,refCount:0,persistent:!1};return r.set(t,a),a}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(e,t){var n=V(Object(u.useState)(null),2),r=n[0],a=n[1],o=Object(u.useContext)(G.a)+":"+t,i=Q(e,o,!0).builder;return Object(z.a)((function(){var e=i.getCurrentBuildId();e!==r&&a(e)})),function(e,t){Q(e,t,!1).refCount+=1}(e,o),Object(u.useEffect)((function(){return function(){!function(e,t){Q(e,t,!1).refCount-=1}(e,o),function(e,t){var n=Q(e,t,!1);return n.persistent||n.refCount>0}(e,o)||function(e,t){if(U.has(e)){var n=U.get(e);n.has(t)&&n.delete(t)}}(e,o)}})),i}function K(e,t){return J(e,t).getMachine()}function X(e){return J(e,"graph")}function W(e){var t=Object(d.c)(),n=Object(d.b)(),r=Object(d.a)();!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){},a=Q(e,Object(u.useContext)(G.a)+":"+t,!0),o=a.builder,i=a.opts||{};a.opts={};var l=Object(u.useCallback)((function(e,t){a.opts=t,r.call(void 0,e,t)}),[r,a]);o.setSourceCallback(l),o.applySource(n,i)}(e,"graph",n,(function(a,o){return e.updateGraphFromMachine(t,n,r,a,o)}))}function Y(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),e}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ne(this,re(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,e),n=t,a=[{key:"updateGraphFromMachine",value:function(e,t,n,r){throw arguments.length>4&&void 0!==arguments[4]&&arguments[4],new Error("No implementation found for ".concat(this.name,".updateGraphFromMachine()."))}}],(r=null)&&te(n.prototype,r),a&&te(n,a),t}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._machine=this.constructor.build(null),this._buildId=0,this._sourceCallback=null,this._resolveCallback=null,this._changeQueue=[]}var t,n;return $(e,null,[{key:"build",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("No implementation found for ".concat(this.name,".build()."))}}]),$(e,[{key:"updateMachineFromSource",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];throw new Error("No implementation found for this.updateMachineFromSource().")}},{key:"setPersistent",value:function(e){return this._persistent=e,this}},{key:"setSourceCallback",value:function(e){if(e)this._sourceCallback=e,this.propagateRemainingChanges();else{this._sourceCallback=null;var t=this._resolveCallback;t&&(this._resolveCallback=null,t(this._machine))}return this}},{key:"applySource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(t.builder=this);var n=this.updateMachineFromSource(this._machine,e,t);n&&(this._buildId=this.getNextBuildId());var r=this._resolveCallback;r&&(this._resolveCallback=null,r(this._machine),this.propagateRemainingChanges())}},{key:"applyChanges",value:(t=regeneratorRuntime.mark((function e(t){var n,r,a,o,i=this,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=l.length>1&&void 0!==l[1]?l[1]:{})&&(n.builder=this),!this._sourceCallback||this._resolveCallback){e.next=9;break}return this._resolveCallback=!0,r=this._machine,a=this.constructor.build(r,n),e.abrupt("return",new Promise((function(e){i._resolveCallback=e,t(a),i._sourceCallback(a,n),i._machine=a})));case 9:return o={callback:t,opts:n,resolve:null},this._changeQueue.push(o),e.abrupt("return",new Promise((function(e){return o.resolve=e})));case 12:case"end":return e.stop()}}),e,this)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){Y(o,r,a,i,l,"next",e)}function l(e){Y(o,r,a,i,l,"throw",e)}i(void 0)}))},function(e){return n.apply(this,arguments)})},{key:"propagateRemainingChanges",value:function(){if(this._sourceCallback&&!this._resolveCallback&&this._changeQueue.length>0){var e=this._changeQueue.shift();this._resolveCallback=e.resolve;var t=this._machine,n=this.constructor.build(t,e.opts);e.callback(n),this._sourceCallback(n,e.opts),this._machine=n}}},{key:"getMachine",value:function(){return this._machine}},{key:"getNextBuildId",value:function(){return this._buildId+1}},{key:"getCurrentBuildId",value:function(){return this._buildId}}]),e}()),ie=n(383);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),e}var ye="&empty",he=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;se(this,e),this._label=t,this._src=n,this._id=n&&"function"==typeof n.getGraphElementID?n.getGraphElementID():Object(ie.e)()}return fe(e,[{key:"copy",value:function(){var t=new e;return t._label=this._label,t._src=this._src,t._id=this._id,t}},{key:"getStateLabel",value:function(){return this._label}},{key:"getStateID",value:function(){return this._id}},{key:"getSource",value:function(){return this._src}},{key:"getHashString",value:function(){return this._id}}]),e}(),de=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];se(this,e),this._from=t,this._to=n,this._symbols=r}return fe(e,[{key:"copy",value:function(){var t=new e;return t._from=this._from,t._to=this._to,t._symbols=this._symbols.slice(),t}},{key:"getSourceState",value:function(){return this._from}},{key:"getDestinationState",value:function(){return this._to}},{key:"addSymbol",value:function(e){this._symbols.push(e)}},{key:"hasSymbol",value:function(e){return this._symbols.includes(e)}},{key:"getSymbols",value:function(){return this._symbols}},{key:"getHashString",value:function(){return this._from.getHashString()+":"+this._symbols.join(",")+":"+this._to.getHashString()}}]),e}(),pe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];se(this,e),this._states=new Map,this._alphabet=new Map,this._transitions=new Map,this._finalStates=new Set,this._customSymbols=new Set,this._startState=null,this._deterministic=t,this._errors=[]}return fe(e,[{key:"copy",value:function(e){if(e!==this){this.clear();var t=!0,n=!1,r=void 0;try{for(var a,o=e._states.entries()[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=ue(a.value,2),l=i[0],u=i[1],s=u.copy();this._states.set(l,s),e.isStartState(u)&&(this._startState=s),e.isFinalState(u)&&this._finalStates.add(s)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}var c=!0,f=!1,y=void 0;try{for(var h,d=e._alphabet.entries()[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=ue(h.value,2),v=p[0],m=p[1];this._alphabet.set(v,m)}}catch(e){f=!0,y=e}finally{try{c||null==d.return||d.return()}finally{if(f)throw y}}var b=!0,g=!1,S=void 0;try{for(var w,_=e._transitions.entries()[Symbol.iterator]();!(b=(w=_.next()).done);b=!0){var E=ue(w.value,2),O=E[0],k=E[1],j=k.copy();j._from=this._states.get(k.getSourceState().getStateID()),j._to=this._states.get(k.getDestinationState().getStateID()),this._transitions.set(O,j)}}catch(e){g=!0,S=e}finally{try{b||null==_.return||_.return()}finally{if(g)throw S}}var x=!0,C=!1,T=void 0;try{for(var I,P=e._customSymbols[Symbol.iterator]();!(x=(I=P.next()).done);x=!0){var N=I.value;this._customSymbols.add(N)}}catch(e){C=!0,T=e}finally{try{x||null==P.return||P.return()}finally{if(C)throw T}}this._deterministic=e._deterministic;var M=!0,A=!1,D=void 0;try{for(var L,F=e._errors[Symbol.iterator]();!(M=(L=F.next()).done);M=!0){var R=L.value;this._errors.push(R)}}catch(e){A=!0,D=e}finally{try{M||null==F.return||F.return()}finally{if(A)throw D}}}}},{key:"clear",value:function(){this._states.clear(),this._alphabet.clear(),this._transitions.clear(),this._finalStates.clear(),this._customSymbols.clear(),this._startState=null,this._errors.length=0}},{key:"setDeterministic",value:function(e){this._deterministic=e}},{key:"isDeterministic",value:function(){return this._deterministic}},{key:"validate",value:function(){if(this._errors.length=0,this._deterministic){var e=new Map,t=!0,n=!1,r=void 0;try{for(var a,o=this._alphabet.keys()[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;e.set(i,!1)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}var l=!0,u=!1,s=void 0;try{for(var c,f=this._states.values()[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var y=c.value,h=this.getOutgoingTransitions(y),d=!0,p=!1,v=void 0;try{for(var m,b=h[Symbol.iterator]();!(d=(m=b.next()).done);d=!0){var g=m.value[1];if(e.get(g))return this._errors.push("duplicate symbol: "+g),!1;e.set(g,!0)}}catch(e){p=!0,v=e}finally{try{d||null==b.return||b.return()}finally{if(p)throw v}}var S=!0,w=!1,_=void 0;try{for(var E,O=e.keys()[Symbol.iterator]();!(S=(E=O.next()).done);S=!0){var k=E.value;if(!e.get(k))return this._errors.push("missing symbol: "+k),!1;e.set(k,!1)}}catch(e){w=!0,_=e}finally{try{S||null==O.return||O.return()}finally{if(w)throw _}}}}catch(e){u=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}return this._errors.length=0,!0}return this._errors.length=0,!0}},{key:"isValid",value:function(){return 0==this._errors.length}},{key:"getErrors",value:function(){return this._errors}},{key:"createState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.addState(new he(e))}},{key:"addState",value:function(e){var t=e.getStateID();if(this._states.has(t))throw new Error("Already added state with id '"+t+"'");return this._states.size<=0&&(this._startState=e),this._states.set(t,e),e}},{key:"removeState",value:function(e){var t=e.getStateID();return!!this._states.has(t)&&(this._states.delete(t),this._startState===e&&(this._states.size<=0?this._startState=null:this._startState=this._states.values().next().value),!0)}},{key:"hasStateWithLabel",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=this._states.values()[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){if(a.value.getStateLabel()==e)return!0}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return!1}},{key:"getStatesByLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,a=void 0;try{for(var o,i=this._states.values()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;l.getStateLabel()==e&&t.push(l)}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t}},{key:"getStateByID",value:function(e){return this._states.get(e)}},{key:"hasState",value:function(e){return this._states.has(e.getStateID())}},{key:"getStates",value:function(){return this._states.values()}},{key:"getStateCount",value:function(){return this._states.size}},{key:"addTransition",value:function(e,t,n){if(!this.hasState(e))throw new Error("Trying to add a transition to unknown state with label '"+e.getStateLabel()+"'");if(!this.hasState(t))throw new Error("Trying to add a transition to unknown state with label '"+t.getStateLabel()+"'");if(!n)throw new Error("Cannot add transition for null symbol - use the empty symbol instead");var r=e.getStateID()+"->"+t.getStateID();if(this._transitions.has(r)){var a=this._transitions.get(r);if(a.hasSymbol(n))return!1;a.addSymbol(n)}else this._transitions.set(r,new de(e,t,[n]));return this._incrSymbolCount(n),!0}},{key:"removeTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.getStateID()+"->"+t.getStateID();if(!this._transitions.has(r))return!1;var a=this._transitions.get(r),o=a.getSymbols();if(n){var i=o.indexOf(n);return i>=0&&(this._decrSymbolCount(n),o.splice(i,1),o.length<=0&&this._transitions.delete(r),!0)}var l=!0,u=!1,s=void 0;try{for(var c,f=o[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var y=c.value;this._decrSymbolCount(y)}}catch(e){u=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}return this._transitions.delete(r),!0}},{key:"hasTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.getStateID()+"->"+t.getStateID();return!!this._transitions.has(r)&&(!n||this._transitions.get(r).hasSymbol(n))}},{key:"getTransitionSymbols",value:function(e,t){var n=e.getStateID()+"->"+t.getStateID();return this._transitions.has(n)?this._transitions.get(n).getSymbols():null}},{key:"getTransitions",value:function(){return this._transitions.values()}},{key:"_incrSymbolCount",value:function(e){if(e!==ye){var t=this._alphabet.get(e)||0;this._alphabet.set(e,t+1)}}},{key:"_decrSymbolCount",value:function(e){if(!this._alphabet.has(e))throw new Error("Unable to find valid transition symbol in alphabet");if(e!==ye){var t=this._alphabet.get(e);t<=1?this.isCustomSymbol(e)?this._alphabet.set(e,0):this._alphabet.delete(e):this._alphabet.set(e,t-1)}}},{key:"changeSymbol",value:function(e,t){if(e===ye)throw new Error("Cannot change the empty symbol");if(t===ye)throw new Error("Cannot change to the empty symbol");if(this._alphabet.has(t))throw new Error("Cannot change symbol to another existing symbol");var n=!0,r=!1,a=void 0;try{for(var o,i=this._transitions.values()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value.getSymbols(),u=l.indexOf(e);u>=0&&(l[u]=t)}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}var s=this._alphabet.get(e);this._alphabet.set(t,s),this._alphabet.delete(e),this._customSymbols.has(e)&&(this._customSymbols.delete(e),this._customSymbols.add(t))}},{key:"removeSymbol",value:function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var o,i=this._transitions.entries()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=ue(o.value,2),u=l[0],s=l[1].getSymbols(),c=s.indexOf(e);c>=0&&(s.splice(c,1),s.length<=0&&t.push(u))}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}for(var f=0,y=t;f<y.length;f++){var h=y[f];this._transitions.delete(h)}e!==ye&&(this._customSymbols.has(e)?this._alphabet.set(e,0):this._alphabet.delete(e))}},{key:"setCustomSymbol",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e===ye)throw new Error("Cannot change the empty symbol as a custom symbol");t?this._customSymbols.has(e)||(this._customSymbols.add(e),this._alphabet.has(e)||this._alphabet.set(e,0)):this._customSymbols.has(e)&&(this._customSymbols.delete(e),this._alphabet.has(e)&&this._alphabet.get(e)<=0&&this._alphabet.delete(e))}},{key:"isCustomSymbol",value:function(e){return this._customSymbols.has(e)}},{key:"getCustomSymbols",value:function(){return this._customSymbols}},{key:"clearCustomSymbols",value:function(){this._customSymbols.clear()}},{key:"isUsedSymbol",value:function(e){return this._alphabet.has(e)&&this._alphabet.get(e)>0}},{key:"isSymbol",value:function(e){return this._alphabet.has(e)}},{key:"getAlphabet",value:function(){return Array.from(this._alphabet.keys())}},{key:"UNSAFE_getAlphabet",value:function(){return this._alphabet.keys()}},{key:"setStartState",value:function(e){var t=e.getStateID();this._states.has(t)||this._states.set(t,e),this._startState=e}},{key:"isStartState",value:function(e){return this._startState===e}},{key:"getStartState",value:function(){return this._startState}},{key:"setFinalState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t)this._states.has(e.getStateID())||this.addState(e),this._finalStates.add(e);else{if(!this._states.has(e.getStateID()))throw new Error("Trying to change final for missing state '"+e.getStateLabel()+"'");this._finalStates.delete(e)}}},{key:"isFinalState",value:function(e){return this._finalStates.has(e)}},{key:"getFinalStates",value:function(){return this._finalStates}},{key:"doTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!e)return r;if(!(e instanceof he))throw new Error("Invalid state instance type '"+le(e)+"'");if(!this._states.has(e.getStateID()))throw new Error("Unable to find source state with id '"+e.getStateID()+"'");t||(t=ye);var a=e.getStateID()+"->",o=!0,i=!1,l=void 0;try{for(var u,s=this._transitions.keys()[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value;if(c.startsWith(a)){var f=this._transitions.get(c);if(f.hasSymbol(t)&&(r.push(f.getDestinationState()),!n&&this._deterministic))return r}}}catch(e){i=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}return r}},{key:"doTerminalTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return n;if(!this._states.has(e.getStateID()))throw new Error("Unable to find source state with id '"+e.getStateID()+"'");t||(t=ye);var r=e.getStateID()+"->",a=!0,o=!1,i=void 0;try{for(var l,u=this._transitions.keys()[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var s=l.value;if(s.startsWith(r)){var c=this._transitions.get(s);if(c.hasSymbol(t)){var f=c.getDestinationState(),y=this.doClosureTransition(f),h=!0,d=!1,p=void 0;try{for(var v,m=y[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var b=v.value;n.includes(b)||n.push(b)}}catch(e){d=!0,p=e}finally{try{h||null==m.return||m.return()}finally{if(d)throw p}}}}}}catch(e){o=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}return n}},{key:"doClosureTransition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;t.push(e);for(var n=0;n<t.length;++n){var r=this.getOutgoingTransitions(t[n]),a=!0,o=!1,i=void 0;try{for(var l,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var s=l.value;if(s[1]===ye){var c=s[2];t.includes(c)||t.push(c)}}}catch(e){o=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}}return t}},{key:"getOutgoingTransitions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;if(!this._states.has(e.getStateID()))throw new Error("Unable to find source state with id '"+e.getStateID()+"'");var n=e.getStateID()+"->",r=!0,a=!1,o=void 0;try{for(var i,l=this._transitions.keys()[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;if(u.startsWith(n)){var s=this._transitions.get(u),c=s.getSymbols(),f=!0,y=!1,h=void 0;try{for(var d,p=c[Symbol.iterator]();!(f=(d=p.next()).done);f=!0){var v=d.value;t.push([e,v,s.getDestinationState()])}}catch(e){y=!0,h=e}finally{try{f||null==p.return||p.return()}finally{if(y)throw h}}}}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return t}},{key:"getHashCode",value:function(){var e="",t=!0,n=!1,r=void 0;try{for(var a,o=this._states.values()[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){e+=a.value.getHashString()+","}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}e+="|";var i=!0,l=!1,u=void 0;try{for(var s,c=this._transitions.values()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){e+=s.value.getHashString()+","}}catch(e){l=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}e+="|";var f=!0,y=!1,h=void 0;try{for(var d,p=this._finalStates[Symbol.iterator]();!(f=(d=p.next()).done);f=!0){e+=d.value.getHashString()}}catch(e){y=!0,h=e}finally{try{f||null==p.return||p.return()}finally{if(y)throw h}}return e+="|",e+=this._startState?this._startState.getHashString():"",e+="|",e+=this._deterministic?"d":"n",Object(ie.f)(e)}}]),e}();function ve(e){return Object(ie.f)(function(e){if(!e)return"";var t=O.getElementTypeKeyForElementType(m.a),n=O.getElementTypeKeyForElementType(j.a),r=e[t]?Object.keys(e[t]).sort():[],a=e[n]?Object.keys(e[n]).sort():[],o=[],i=!0,l=!1,u=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value,y=e[t][f];o.push("".concat(y.id," ").concat(y.label," ").concat(y.final))}}catch(e){l=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}var h=[],d=!0,p=!1,v=void 0;try{for(var b,g=a[Symbol.iterator]();!(d=(b=g.next()).done);d=!0){var S=b.value,w=e[n][S];h.push("".concat(w.fromId," ").concat(w.toId," ").concat(w.label))}}catch(e){p=!0,v=e}finally{try{d||null==g.return||g.return()}finally{if(p)throw v}}return"n:"+o.join(",")+"|e:"+h.join(",")}(e))}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t,n,r,a){var o,i=n.getElementTypeKeyForElementType(m.a),l=n.getElementTypeKeyForElementType(j.a),u=(me(o={},i,{}),me(o,l,{}),o),s=0,c=!0,f=!1,y=void 0;try{for(var h,d=t.getStates()[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value,v={},b=p.getStateID();if(a.builder){b=a.builder.sourceMap.get(p.getStateID())||b;var g=n.getElement(r,m.a,b);g?m.a.serialize(g,v):(v.x=s,v.y=s,s+=10)}else v.x=s,v.y=s,s+=10;v.label=p.getStateLabel(),t.isStartState(p)?v.initial=!0:v.initial=!1,t.isFinalState(p)?v.final=!0:v.final=!1,u[i][b]=v}}catch(e){f=!0,y=e}finally{try{c||null==d.return||d.return()}finally{if(f)throw y}}var S,w,_,E,O,k,x=0,C=!0,T=!1,I=void 0;try{for(var P,N=t.getTransitions()[Symbol.iterator]();!(C=(P=N.next()).done);C=!0){var M=P.value;(S=M.getSourceState())&&((E=S.getStateID())&&(a.builder&&(E=a.builder.sourceMap.get(E)||E),k=M.getSymbols().join("\n"),(w=M.getDestinationState())&&(O=w.getStateID())&&(a.builder&&(O=a.builder.sourceMap.get(O)||O),_={fromId:E,toId:O,label:k},u[l][x++]=_)))}}catch(e){T=!0,I=e}finally{try{C||null==N.return||N.return()}finally{if(T)throw I}}return u}var ge="∅",Se="ε";function we(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _e=n(391);function Ee(e,t,n){e({type:"delete",elementType:t,elementId:n})}function Oe(e,t){Ee(e,j.a,t)}function ke(e){var t=e.message,n=e.messageId,r=t.edgeIds,a=Object(d.a)();return s.a.createElement(_e.a,{messageId:n,mode:"error",message:"Found ".concat(r.length," incomplete transition(s)."),renderControls:function(e){return s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){Oe(a,r),e()}},"Delete all incomplete edges."))}})}function je(e){var t=e.message,n=e.messageId,r=t.nodeIds,a=t.label;return s.a.createElement(_e.a,{messageId:n,mode:"error",message:"Found ".concat(r.length," duplicate states for ").concat(a,".")})}function xe(e){var t=e.message,n=e.messageId,r=t.nodeIds,a=t.labels,o=Object(d.a)();return s.a.createElement(_e.a,{messageId:n,mode:"warning",message:"Found ".concat(r.length," unreachable states labeled: \n ").concat(a.join(", ")),renderControls:function(e){return s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){!function(e,t){!function(e,t,n){e({type:"deleteAll",elementType:t,elementIds:n})}(e,m.a,t)}(o,r),e()}},"Delete all unreachable."))}})}function Ce(e){var t=e.message,n=e.messageId,r=t.edgeIds,a=Object(d.a)();return s.a.createElement(_e.a,{messageId:n,mode:"error",message:"Found ".concat(r.length," empty transition(s).\nReason: Deterministic."),renderControls:function(e){return s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){Oe(a,r),e()}},"Delete all empty transitions."))}})}function Te(e){var t=e.message,n=e.messageId,r=t.edgeIds,a=t.fromNodeLabel,o=t.symbol;return s.a.createElement(_e.a,{messageId:n,mode:"error",message:"Found ".concat(r.length," duplicate transitions from state ").concat(a," with symbol ").concat(o,".\nReason: Deterministic.")})}function Ie(e){var t=e.message,n=e.messageId,r=t.symbols,a=t.label;return s.a.createElement(_e.a,{messageId:n,mode:"error",message:"Node ".concat(a," is missing transtion(s) for the following symbol(s) ").concat(r,".\nReason: Deterministic.")})}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ke.propTypes={messageId:q.a.string.isRequired,message:q.a.shape({edgeIds:q.a.arrayOf(q.a.string)})},je.propTypes={messageId:q.a.string.isRequired,message:q.a.shape({nodeIds:q.a.arrayOf(q.a.string),label:q.a.string})},xe.propTypes={messageId:q.a.string.isRequired,message:q.a.shape({nodeIds:q.a.arrayOf(q.a.string),labels:q.a.arrayOf(q.a.string)})},Ce.propTypes={messageId:q.a.string.isRequired,message:q.a.shape({edgeIds:q.a.arrayOf(q.a.string)})},Te.propTypes={messageId:q.a.string.isRequired,message:q.a.shape({edgeIds:q.a.arrayOf(q.a.string),fromNodeLabel:q.a.string,symbol:q.a.string})},Ie.propTypes={messageId:q.a.string.isRequired,message:q.a.shape({symbols:q.a.arrayOf(q.a.string),label:q.a.string})};var Me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deterministic=!1,this.startNodeId=null,this.startState=null,this.nodeLabels=new Map,this.nodeOutgoings=new Map,this.edgeSymbols=new Set,this.edgePlaceholders=[],this.edgeEmpties=[],this.stateToNodeIdMap=new Map,this.nodeIdToStateLabelMap=new Map}var t,n,r;return t=e,(n=[{key:"setDeterministic",value:function(e){return this.deterministic=e,this}},{key:"setStartState",value:function(e,t){return this.startNodeId=e,this.startState=t,this}},{key:"addState",value:function(e,t){var n=t.getStateLabel();return this.nodeIdToStateLabelMap.set(e,n),this.stateToNodeIdMap.set(t,e),this.nodeLabels.has(n)?this.nodeLabels.get(n).push(t):this.nodeLabels.set(n,[t]),this.nodeOutgoings.set(t,new Map),this}},{key:"addTransition",value:function(e,t,n,r){var a=this.nodeOutgoings.get(t),o=a.get(r);return o||a.set(r,o=new Array),o.push(e),this}},{key:"addPlaceholder",value:function(e){return this.edgePlaceholders.push(e),this}},{key:"addSymbolForEdge",value:function(e,t){return t===Se?this.edgeEmpties.push(e):this.edgeSymbols.add(t),this}},{key:"validate",value:function(e,t){var n=[],r=[],a=this.deterministic,o=this.nodeLabels,i=this.edgePlaceholders,l=this.edgeEmpties,u=this.nodeOutgoings,s=this.edgeSymbols,c=this.stateToNodeIdMap,f=this.nodeIdToStateLabelMap;i.length>0&&n.push({component:ke,message:{edgeIds:i}});var y=!0,h=!1,d=void 0;try{for(var p,v=o.entries()[Symbol.iterator]();!(y=(p=v.next()).done);y=!0){var b=Pe(p.value,2),g=b[0],S=b[1];S.length>1&&n.push({component:je,message:{label:g,nodeIds:S.map((function(e){return c.get(e)}))}})}}catch(e){h=!0,d=e}finally{try{y||null==v.return||v.return()}finally{if(h)throw d}}var w=function(e,t,n){var r=we(e.getElementIds(t,m.a));if(!n)return[];if(r.length<=1)return[];r.splice(r.indexOf(n),1);var a=e.getElements(t,j.a),o=[];for(o.push(n);o.length>0;){var i=o.pop(),l=!0,u=!1,s=void 0;try{for(var c,f=a[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var y=c.value;if(y.fromId===i){var h=r.indexOf(y.toId);if(h>=0){var d=r.splice(h,1)[0];o.push(d)}}}}catch(e){u=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}}return r}(e,t,this.startNodeId);if(w&&w.length>0&&r.push({component:xe,message:{labels:w.map((function(e){return f.get(e)})),nodeIds:w}}),a){l.length>0&&n.push({component:Ce,message:{edgeIds:l}});var _=[],E=!0,O=!1,k=void 0;try{for(var x,C=u.entries()[Symbol.iterator]();!(E=(x=C.next()).done);E=!0){var T=Pe(x.value,2),I=T[0],P=T[1],N=!0,M=!1,A=void 0;try{for(var D,L=s[Symbol.iterator]();!(N=(D=L.next()).done);N=!0){var F=D.value,R=P.get(F);R?1!==R.length&&n.push({component:Te,message:{edgeIds:R,fromNodeLabel:f.get(c.get(I)),symbol:F}}):_.push(F)}}catch(e){M=!0,A=e}finally{try{N||null==L.return||L.return()}finally{if(M)throw A}}_.length>0&&(n.push({component:Ie,message:{symbols:[].concat(_),label:f.get(c.get(I))}}),_.length=0)}}catch(e){O=!0,k=e}finally{try{E||null==C.return||C.return()}finally{if(O)throw k}}}return{errors:n,warnings:r}}}])&&Ne(t.prototype,n),r&&Ne(t,r),e}();function Ae(e,t,n,r,a){var o=n.getElementTypeKeyForElementType(m.a),i=n.getElementTypeKeyForElementType(j.a);e.sourceMap.clear(),e.errors.length=0,e.warnings.length=0;var l=t.isDeterministic();t.clear();var u=(new Me).setDeterministic(l),s=new Map;if(r[o])for(var c=0,f=Object.keys(r[o]);c<f.length;c++){var y=f[c],h=r[o][y],d=h.label,p=h.final,v=h.initial,b=new he(d);t.addState(b),s.set(y,b.getStateID()),e.sourceMap.set(b.getStateID(),y),p&&t.setFinalState(b,!0),v&&(t.setStartState(b),u.setStartState(y,b)),u.addState(y,b)}if(r[i])for(var g=0,S=Object.keys(r[i]);g<S.length;g++){var w=S[g],_=r[i][w],E=_.fromId,O=_.toId,k=_.label;if(O){if(E&&O){var x=s.get(E),C=s.get(O),T=t.getStateByID(x),I=t.getStateByID(C);if(!T||!I)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var P=k.split("\n"),N=!0,M=!1,A=void 0;try{for(var D,L=P[Symbol.iterator]();!(N=(D=L.next()).done);N=!0){var F=D.value;if(F){var R=void 0;switch(F){case Se:R=ye;break;default:R=F}t.addTransition(T,I,R),u.addSymbolForEdge(w,F),u.addTransition(w,T,I,R)}}}catch(e){M=!0,A=e}finally{try{N||null==L.return||L.return()}finally{if(M)throw A}}}}else u.addPlaceholder(w)}return u.validate(n,r)}function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fe(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t,n){return t&&qe(e.prototype,t),n&&qe(e,n),e}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ge=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Fe(this,Re(t).call(this))).sourceMap=new Map,e.errors=[],e.warnings=[],e.prevSourceHash=0,e.prevDeterminism=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,e),He(t,null,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&t.machineOnly)return e;var n=new pe(!1);return e&&n.copy(e),n}},{key:"updateGraphFromMachine",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(a.machineOnly)n({type:"forceUpdate"});else{var o=be(0,r,e,e,a),i=e.deserialize(o,{},{forceIgnoreVersion:!0});n({type:"resetState",state:i})}}}]),He(t,[{key:"shouldMachineUpdate",value:function(e,t){var n=ve(t),r=this.prevSourceHash;this.prevSourceHash=n;var a=e.isDeterministic(),o=this.prevDeterminism;return this.prevDeterminism=a,n!==r||a!==o}},{key:"updateMachineFromSource",value:function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a.machineOnly){var o,i,l=Ae(this,e,O,t),u=l.errors,s=l.warnings;return this.errors.length=0,this.warnings.length=0,u&&(o=this.errors).push.apply(o,Le(u)),s&&(i=this.warnings).push.apply(i,Le(s)),!0}if(!this.shouldMachineUpdate(e,t))return!1;var c=Ae(this,e,O,t),f=c.errors,y=c.warnings;return this.errors.length=0,this.warnings.length=0,f&&(n=this.errors).push.apply(n,Le(f)),y&&(r=this.warnings).push.apply(r,Le(y)),!0}}]),t}(oe);function ze(e){var t=K(Ge,"graph").getStateCount()>0;return s.a.createElement(B.a,{hidden:t})}var Ue=n(410),Qe=n(414),Ve=n(401),Je=n.n(Ve);function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xe=4,We=1.2;function Ye(e){var t=e.size,n=e.angle,r=e.offset,a=e.childProps,o=e.maskProps,i=Math.cos(n),l=Math.sin(n),u=e.x+i*r,c=e.y+l*r,f=i*t,y=f*We;return s.a.createElement(s.a.Fragment,null,s.a.createElement("path",Ke({className:Je.a.decorative,d:"M".concat(u," ").concat(c)+" L".concat(u+y," ").concat(c+Math.sin(n+Math.PI/2)*t*We)+" L".concat(u+y," ").concat(c-Math.sin(n+Math.PI/2)*t*We)+" Z",fill:"transparent"},a)),s.a.createElement("circle",Ke({className:Je.a.mask,cx:u+f,cy:c,r:t+Xe},o)))}Ye.propTypes={style:q.a.object,x:q.a.number,y:q.a.number,size:q.a.number,angle:q.a.number,offset:q.a.number,childProps:q.a.object,maskProps:q.a.object},Ye.defaultProps={x:0,y:0,size:10,angle:Math.PI,offset:0,childProps:{},maskProps:{}};var Ze=Object(Qe.a)((function(e,t,n){var r=t||n||null;return s.a.createElement(s.a.Fragment,null,r&&s.a.createElement(Ye,{x:r.x,y:r.y,offset:r.radius||0,childProps:{pointerEvents:"none"},maskProps:{pointerEvents:"none"}}))})),$e=Ze.ConnectorProvider,et=Ze.useConnectorFromBehavior,tt=Ze.useConnectorToBehavior,nt=n(436),rt=n(431),at=n(394),ot=n(393),it=n(417),lt=n(408),ut=n(407),st=n(402),ct=n(430);function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function yt(e){var t=e.element,n=Object(u.useRef)(null),r=Object(u.useRef)(null),a=Object(u.useRef)(null),o=Object(at.a)(),i=Object(ot.a)(m.a,t.fromId,o),l=Object(ot.a)(m.a,t.toId,o),c=st.f(i,l,t),f=st.d(i,l,t),y=st.c(i,l,t),h=st.e(i,l,t),d=ft(Object(ct.a)(n,r,a,t,i,l,c,y,f),2)[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(it.a,{start:c,end:f,center:y,label:t.label,labelDirection:h,labelKeepUp:!0,maskProps:{ref:n},labelProps:{ref:r},hidden:d,renderEndpoint:function(e,t,n){return"forward"===n?s.a.createElement(lt.a,{x:e.x,y:e.y,angle:t,maskProps:{ref:a}}):s.a.createElement(ut.a,{x:e.x,y:e.y,angle:t,maskProps:{style:{pointerEvents:"none"}}})}}),e.children)}yt.propTypes={children:q.a.node,element:q.a.object.isRequired};var ht=n(428),dt=n(427);function pt(e){var t=e.element,n=Object(u.useRef)(null),r=Object(u.useRef)(null);Object(ht.a)(n,t);var a=et(r,t,{onDragBegin:function(){return Boolean(t.initial)}});tt(n,t);var o=t.initial&&!a;return s.a.createElement(s.a.Fragment,null,s.a.createElement(dt.a,{x:t.x,y:t.y,label:t.label,inner:t.final?.8*t.radius:0,radius:t.radius,maskProps:{ref:n}}),s.a.createElement(Ye,{x:t.x,y:t.y,offset:t.radius,childProps:{style:{visibility:o?"unset":"hidden"}},maskProps:{ref:r,pointerEvents:o?"auto":"none"}}),e.children)}pt.propTypes={children:q.a.node,element:q.a.object.isRequired};var vt=n(400);function mt(e){var t=Object(u.useContext)(vt.a).openEditor,n=Object(rt.a)(),r=n.createNode,a=n.createEdge,o=n.swapInitial,i=Object(d.b)();return Object(nt.b)(),Object(nt.a)((function(e,t){return r({x:e,y:t})})),s.a.createElement(s.a.Fragment,null,s.a.createElement($e,{onConnect:o},s.a.createElement(Ue.a,{onConnect:function(e,n,r,o){var l=function(e,t,n){var r=O.getElements(n,j.a),a=!0,o=!1,i=void 0;try{for(var l,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var s=l.value;if(s.fromId===e.id&&s.toId===t.id)return s}}catch(e){o=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}return}(e,n,i);if(l)t(l.type,l.id);else if(o.prevEdge){var u=o.prevEdge;u.fromId=e.id,u.toId=n.id,u.markDirty()}else a(e,n).then((function(e){return t(e.type,e.id)}))},onCancel:function(e,t,n,r){if(r.prevEdge){var a=r.prevEdge;a.toId=0,st.b(null,e,n,a),a.markDirty()}}},s.a.createElement(ze,null),s.a.createElement(H.a,{elementType:m.a},(function(e){return s.a.createElement(pt,{element:e})})),s.a.createElement(H.a,{elementType:j.a},(function(e){return s.a.createElement(yt,{element:e})})),e.children)))}function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gt(){var e=Object(d.c)(),t=Object(d.a)(),n=bt(Object(u.useState)(!1),2),r=n[0],a=n[1];return Object(u.useEffect)((function(){if(!r){var n,o=JSON.parse(localStorage.getItem(e.name+".graphData"));try{n=e.deserialize(o,{})}catch(e){n={}}t({type:"resetState",state:n}),a(!0)}}),[r,e,t]),s.a.createElement(s.a.Fragment,null)}function St(){var e=Object(u.useContext)(c.d),t=Object(d.b)();return Object(u.useEffect)((function(){var n=!0,r=e.name+".graphData",a=setInterval((function(){if(n){var a=e.serialize(t,{});localStorage.setItem(r,JSON.stringify(a))}}),3e3);return function(){n=!1,clearInterval(a)}})),s.a.createElement(s.a.Fragment,null)}mt.propTypes={children:q.a.node};var wt=n(90),_t=n(444),Et=n.n(_t);function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tt=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=jt(t).call(this,e))||"object"!==Ot(a)&&"function"!=typeof a?xt(r):a).state={open:!0},n.onHeaderClick=n.onHeaderClick.bind(xt(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,e),n=t,(r=[{key:"onHeaderClick",value:function(e){this.setState((function(e){return{open:!e.open}}))}},{key:"render",value:function(){var e=this.props,t=this.state.open;return s.a.createElement("section",{className:Et.a.container+" "+(e.className||"")+(t?" open":"")},s.a.createElement("div",{className:Et.a.innerContainer},s.a.createElement("header",null,s.a.createElement("button",{className:Et.a.dropdown,onClick:this.onHeaderClick},s.a.createElement("span",{className:Et.a.title},e.title),s.a.createElement(L.k,{className:"icon"}))),s.a.createElement("main",null,e.children)))}}])&&kt(n.prototype,r),a&&kt(n,a),t}(s.a.Component);Tt.propTypes={className:q.a.string,children:q.a.node,title:q.a.oneOfType([q.a.string,q.a.node])},Tt.defaultProps={};var It=Tt,Pt=n(435),Nt=n.n(Pt);function Mt(e){var t=J(Ge,e.machineName).getMachine(),n=Array.from(t.getStates());return s.a.createElement("fieldset",null,s.a.createElement("legend",null,"States"),n.length<=0?s.a.createElement("ul",{className:Nt.a.itemList},s.a.createElement("li",null,s.a.createElement("label",{className:Nt.a.emptyLabel},ge))):s.a.createElement("ul",{className:Nt.a.itemList},s.a.createElement("li",null,s.a.createElement("label",{className:Nt.a.itemLabel},"{")),n.map((function(e,r){return s.a.createElement("li",{key:e.getStateID()},s.a.createElement("label",{className:Nt.a.itemLabel+" "+(t.isFinalState(e)?Nt.a.markedLabel:"")},r<n.length-1?e.getStateLabel()+",":e.getStateLabel()))})),s.a.createElement("li",null,s.a.createElement("label",{className:Nt.a.itemLabel},"}"))))}function At(e){var t=K(Ge,e.machineName).getAlphabet();return s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Alphabet"),t.length<=0?s.a.createElement("ul",{className:Nt.a.itemList},s.a.createElement("li",null,s.a.createElement("label",{className:Nt.a.emptyLabel},ge))):s.a.createElement("ul",{className:Nt.a.itemList},s.a.createElement("li",null,s.a.createElement("label",{className:Nt.a.itemLabel},"{")),t.map((function(e,n){return s.a.createElement("li",{key:e},s.a.createElement("label",{className:Nt.a.itemLabel},n<t.length-1?e+",":e))})),s.a.createElement("li",null,s.a.createElement("label",{className:Nt.a.itemLabel},"}"))))}Mt.propTypes={machineName:q.a.string.isRequired},At.propTypes={machineName:q.a.string.isRequired};var Dt=n(445),Lt=n.n(Dt),Ft="δ";function Rt(e){var t=K(Ge,e.machineName),n=t.isDeterministic();return s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Transitions"),s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Q×Σ"),s.a.createElement("th",null,n?s.a.createElement("span",null,"Q"):s.a.createElement("span",null,s.a.createElement("span",{style:{fontFamily:"cursive"}},"P"),s.a.createElement("span",null,"(Q)"))))),s.a.createElement("tbody",null,function(e){var t=[],n=e.isDeterministic(),r=!0,a=!1,o=void 0;try{for(var i,l=e.getStates()[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value,c=null;(c=qt(e,u,Se))&&t.push(c);var f=!0,y=!1,h=void 0;try{for(var d,p=e.getAlphabet()[Symbol.iterator]();!(f=(d=p.next()).done);f=!0){var v=d.value;(c=qt(e,u,v))&&t.push(c)}}catch(e){y=!0,h=e}finally{try{f||null==p.return||p.return()}finally{if(y)throw h}}}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}n||t.push(s.a.createElement("tr",{key:"forallotherinputs",className:Lt.a.forAllOtherInputs},s.a.createElement("td",{className:Lt.a.chartKey},"For all other input"),s.a.createElement("td",{className:Lt.a.chartValue},ge)));return t}(t))))}function qt(e,t,n){var r=e.isDeterministic(),a=e.doTransition(t,n,!0),o="",i=!1;if(a.length<=0){if(!r)return null;if(i=!0,o="-",n===Se)return null}else if(1===a.length)i=!1,o=a[0].getStateLabel(),r||(o="{"+o+"}");else{r&&(i=!0);var l="",u=!0,c=!1,f=void 0;try{for(var y,h=a[Symbol.iterator]();!(u=(y=h.next()).done);u=!0){var d=y.value;l.length>0&&(l+=","),l+=d.getStateLabel()}}catch(e){c=!0,f=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw f}}o="{"+l+"}"}return n===ye&&(n=Se,r&&(i=!0)),s.a.createElement("tr",{key:t.getStateID()+":"+n},s.a.createElement("td",{className:"".concat(Lt.a.chartKey," ").concat(i?"error":"")},Ft+"("+t.getStateLabel()+","+n+")"),s.a.createElement("td",{className:"".concat(Lt.a.chartValue," ").concat(i?"error":"")},o))}Rt.propTypes={machineName:q.a.string.isRequired};var Ht=n(446),Bt=n.n(Ht);function Gt(e){var t=e.id,n=e.className,r=e.title,a=e.disabled,o=e.checked,i=e.on,l=e.off,u=e.inplace,c=e.onChange;return s.a.createElement("div",{className:"".concat(Bt.a.element," ").concat(u?Bt.a.inplace:""," ").concat(a?Bt.a.disabled:""," ").concat(n)},e.children&&s.a.createElement("label",{className:Bt.a.label,htmlFor:t},e.children),s.a.createElement("button",{id:t,role:"switch","aria-checked":o,"aria-labelledby":t,title:r,disabled:a,onClick:function(e){return c&&c(!o)}},s.a.createElement("span",{className:o?Bt.a.checked:""},i),s.a.createElement("span",{className:o?"":Bt.a.checked},l)))}function zt(e){var t=e.machineName,n=J(Ge,t),r=K(Ge,t),a="".concat(t,".deterministic");return s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Determinism"),s.a.createElement(Gt,{id:a,checked:r.isDeterministic(),on:"Deterministic",off:"Nondeterministic",onChange:function(e){return n.applyChanges((function(t){return t.setDeterministic(e)}),{machineOnly:!0})}}))}Gt.propTypes={id:q.a.string.isRequired,children:q.a.node,className:q.a.string,onChange:q.a.func,checked:q.a.bool,title:q.a.string,disabled:q.a.bool,on:q.a.string,off:q.a.string,inplace:q.a.bool},Gt.defaultProps={on:"On",off:"Off"},zt.propTypes={machineName:q.a.string};var Ut=n(447),Qt=n.n(Ut);function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Jt="symbols",Kt="states",Xt="∅";function Wt(e){var t=K(Ge,e.machineName),n=Vt(Object(u.useState)(Jt),1)[0];return s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Transitions Table"),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Q/Σ"),function(e,t){var n=[],r=e.isDeterministic();switch(t){case Jt:var a=!0,o=!1,i=void 0;try{for(var l,u=e.getAlphabet()[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;n.push(s.a.createElement("th",{key:c,scope:"col",className:Qt.a.tableAxisHeader+" col"},c))}}catch(e){o=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}return n.push(s.a.createElement("th",{key:ye,scope:"col",className:Qt.a.tableAxisHeader+(r?" disabled ":"")+" col"},Se)),n;case Kt:var f=!0,y=!1,h=void 0;try{for(var d,p=e.getStates()[Symbol.iterator]();!(f=(d=p.next()).done);f=!0){var v=d.value;n.push(s.a.createElement("th",{key:v.getStateID(),scope:"col",className:Qt.a.tableAxisHeader+" col"},v.getStateLabel()))}}catch(e){y=!0,h=e}finally{try{f||null==p.return||p.return()}finally{if(y)throw h}}return n;default:throw new Error("Unknown row axis type '"+t+"'")}}(t,n)),function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e.getStates()[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value,c=[];switch(t){case Jt:var f=!0,y=!1,h=void 0;try{for(var d,p=e.getAlphabet()[Symbol.iterator]();!(f=(d=p.next()).done);f=!0){var v=d.value;c.push(Yt(e,u,v))}}catch(e){y=!0,h=e}finally{try{f||null==p.return||p.return()}finally{if(y)throw h}}c.push(Yt(e,u,ye));break;case Kt:var m=!0,b=!1,g=void 0;try{for(var S,w=e.getStates()[Symbol.iterator]();!(m=(S=w.next()).done);m=!0){var _=S.value,E=e.getTransitionSymbols(u,_),O="";if(E){var k=!0,j=!1,x=void 0;try{for(var C,T=E[Symbol.iterator]();!(k=(C=T.next()).done);k=!0){var I=C.value;O.length>0&&(O+="\n"),O+=I===ye?Se:I}}catch(e){j=!0,x=e}finally{try{k||null==T.return||T.return()}finally{if(j)throw x}}}else O="-";c.push(s.a.createElement("td",{key:u.getStateID()+":"+_.getStateID(),className:Qt.a.tableEntry},O))}}catch(e){b=!0,g=e}finally{try{m||null==w.return||w.return()}finally{if(b)throw g}}break;default:throw new Error("Unknown row axis type '"+t+"'")}n.push(s.a.createElement("tr",{key:u.getStateID()},s.a.createElement("th",{scope:"row",className:Qt.a.tableAxisHeader+" row"},u.getStateLabel()),c))}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(t,n))))}function Yt(e,t,n){var r=e.isDeterministic(),a=e.doTransition(t,n),o="",i=!1;if(a.length<=0)r&&n!==ye&&(i=!0),o=Xt;else if(1===a.length)r&&n===ye&&(i=!0),o=a[0].getStateLabel();else{r&&(i=!0);var l="",u=!0,c=!1,f=void 0;try{for(var y,h=a[Symbol.iterator]();!(u=(y=h.next()).done);u=!0){var d=y.value;l.length>0&&(l+=","),l+=d.getStateLabel()}}catch(e){c=!0,f=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw f}}o="{"+l+"}"}var p=r&&n===ye;return s.a.createElement("td",{key:t.getStateID()+":"+n,className:Qt.a.tableEntry+(i?" error ":"")+(p?" disabled ":"")},o)}Wt.propTypes={machineName:q.a.string.isRequired};var Zt=n(395),$t=n(448),en=n.n($t);function tn(e){var t=e.title,n=e.disabled;return s.a.createElement("fieldset",{className:en.a.container,disabled:n},s.a.createElement("legend",null,t),e.children)}function nn(e,t){var n=e.getElements(t,m.a),r=function(e,t,n){var r=e.getElements(t,j.a),a=[];a.push(n.id);for(var o=0;o<a.length;o++){var i=!0,l=!1,u=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value;f.fromId===a[o]&&(a.includes(f.toId)||a.push(f.toId))}}catch(e){l=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}}return a.map((function(n){return e.getElement(t,m.a,n)}))}(e,t,function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;if(i.initial)return i}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return null}(n)),a=n.filter((function(e){return!r.includes(e)})),o=r.length,i=a.length,l=n.length,u=Math.max(o,i);if(!(l<=0)){var s;s=o<10&&i<10?u/4*50+30:u/5*40+30;var c=0;if(1===o){var f=2*Math.PI/l,y=!0,h=!1,d=void 0;try{for(var p,v=n[Symbol.iterator]();!(y=(p=v.next()).done);y=!0){var b=p.value;b.y=Math.sin(f*c+Math.PI)*s,b.x=Math.cos(f*c+Math.PI)*s,b.markDirty(),c+=1}}catch(e){h=!0,d=e}finally{try{y||null==v.return||v.return()}finally{if(h)throw d}}}else{var g=2*Math.PI/o;c=0;var S=!0,w=!1,_=void 0;try{for(var E,O=r[Symbol.iterator]();!(S=(E=O.next()).done);S=!0){var k=E.value;k.y=Math.sin(g*c+Math.PI)*s,k.x=Math.cos(g*c+Math.PI)*s,k.markDirty(),c+=1}}catch(e){w=!0,_=e}finally{try{S||null==O.return||O.return()}finally{if(w)throw _}}var x=2*Math.PI/i;c=0;var C=!0,T=!1,I=void 0;try{for(var P,N=a[Symbol.iterator]();!(C=(P=N.next()).done);C=!0){var M=P.value;M.y=Math.sin(x*c+Math.PI)*(s+100),M.x=Math.cos(x*c+Math.PI)*(s+100),M.markDirty(),c+=1}}catch(e){T=!0,I=e}finally{try{C||null==N.return||N.return()}finally{if(T)throw I}}}}}function rn(e){var t=Object(d.c)(),n=Object(d.b)(),r=Object(u.useRef)(null);return s.a.createElement(tn,{title:"Layout"},s.a.createElement("div",null,s.a.createElement("select",{ref:r},s.a.createElement("option",{value:"circle"},"Circle"),s.a.createElement("option",{value:"grid",disabled:!0},"Grid")),s.a.createElement(Zt.a,{onClick:function(e){return function(e,t,n){switch(e){case"circle":nn(t,n)}}(r.current.value,t,n)}},"Apply")))}tn.propTypes={children:q.a.node,title:q.a.string,disabled:q.a.bool},tn.defaultProps={title:"",disabled:!1},rn.propTypes={},rn.defaultProps={};var an=n(449),on=n.n(an);function ln(e){var t=e.id,n=e.className,r=e.style,a=e.placeholder,o=e.disabled,i=e.value,l=e.onChange;return s.a.createElement("div",{className:"".concat(on.a.element," ").concat(n)},s.a.createElement("label",{htmlFor:t},e.children),s.a.createElement("span",null,"("),s.a.createElement("input",{type:"text",id:t,style:r,value:i,placeholder:a,disabled:o,onChange:l}),s.a.createElement("span",null,")"))}function un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function sn(e){var t=X(Ge).getMachine(),n=Object(at.a)(),r=Object(ot.c)(j.a,(function(e){return n()})),a=Object(u.useRef)(null),o=un(Object(u.useState)(""),2),i=o[0],l=o[1],c=t.getAlphabet().sort();return s.a.createElement("div",null,s.a.createElement("select",{ref:a,id:"AlphabetLabelRenameOption.rename"},c.map((function(e){return s.a.createElement("option",{key:e,value:e},e)}))),s.a.createElement(ln,{id:"alphabetRenameTo",style:{width:"3rem"},value:i,placeholder:"Symbol",onChange:function(e){return l(e.target.value)}},"Rename Character"),s.a.createElement(Zt.a,{onClick:function(e){!function(e,t,n){var r=!0,a=!1,o=void 0;try{for(var i,l=n[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value,s=u.label.split("\n"),c=s.indexOf(e);c>=0&&(s[c]=t,u.label=s.join("\n"),u.markDirty())}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}}(a.current.value,i,r),l("")},title:"Apply rename alphabet",disabled:!i},"Apply"))}function cn(e){return s.a.createElement(tn,{title:"Alphabet Label Editor"},s.a.createElement(sn,null))}function fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function yn(e){var t="Piece-wise definition of δ",n="Table definition of δ",r=fn(Object(u.useState)(n),2),a=r[0],o=r[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("header",null,s.a.createElement("h2",{style:{margin:"1rem"}},"Overview")),s.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},s.a.createElement(It,{title:"Definition"},s.a.createElement(zt,{machineName:"graph"}),s.a.createElement(Mt,{machineName:"graph"}),s.a.createElement(At,{machineName:"graph"}),s.a.createElement(Zt.a,{id:"toggle",onClick:function(){return o(a===t?n:t)}},a===t?n:t),a===t?s.a.createElement(Wt,{machineName:"graph"}):s.a.createElement(Rt,{machineName:"graph"})),s.a.createElement(It,{title:"Format"},s.a.createElement(rn,null),s.a.createElement(cn,null))))}ln.propTypes={id:q.a.string.isRequired,children:q.a.node,className:q.a.string,style:q.a.object,onClick:q.a.func,placeholder:q.a.string,disabled:q.a.bool,value:q.a.string,onChange:q.a.func},ln.defaultProps={value:""},sn.propTypes={},sn.defaultProps={},cn.propTypes={},cn.defaultProps={},yn.Tab=Object(wt.a)(L.e);var hn=n(403);function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pe(!0);if(e.isDeterministic())return t.copy(e),t;t.setDeterministic(!0);var n=e.getStartState(),r={nfaSource:e,dfaStateMap:new Map,dfaFinalStates:[],dfaTransitionMap:new Map,dfaStartState:null,dfaTrapState:null},a=e.doClosureTransition(n);r.dfaStartState=mn(a,r),r.dfaTrapState=mn([],r);var o=function(e){var t=[[]],n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0)for(var l=o.value,u=0,s=t.length;u<s;++u)t.push(t[u].concat(l))}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t}(e.getStates()),i=!0,l=!1,u=void 0;try{for(var s,c=o[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value;f.length>0&&pn(f,r)}}catch(e){l=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}var y=!0,h=!1,d=void 0;try{for(var p,v=r.dfaStateMap.values()[Symbol.iterator]();!(y=(p=v.next()).done);y=!0){var m=p.value,b=!0,g=!1,S=void 0;try{for(var w,_=e.getAlphabet()[Symbol.iterator]();!(b=(w=_.next()).done);b=!0){var E=w.value,O=vn(m,E,r);r.dfaTransitionMap.has(O)||r.dfaTransitionMap.set(O,[m,E,r.dfaTrapState])}}catch(e){g=!0,S=e}finally{try{b||null==_.return||_.return()}finally{if(g)throw S}}}}catch(e){h=!0,d=e}finally{try{y||null==v.return||v.return()}finally{if(h)throw d}}t.clear();var k=!0,j=!1,x=void 0;try{for(var C,T=r.dfaStateMap.values()[Symbol.iterator]();!(k=(C=T.next()).done);k=!0){var I=C.value;t.addState(I)}}catch(e){j=!0,x=e}finally{try{k||null==T.return||T.return()}finally{if(j)throw x}}t.setStartState(r.dfaStartState);var P=!0,N=!1,M=void 0;try{for(var A,D=r.dfaFinalStates[Symbol.iterator]();!(P=(A=D.next()).done);P=!0){var L=A.value;t.setFinalState(L)}}catch(e){N=!0,M=e}finally{try{P||null==D.return||D.return()}finally{if(N)throw M}}var F=!0,R=!1,q=void 0;try{for(var H,B=r.dfaTransitionMap.values()[Symbol.iterator]();!(F=(H=B.next()).done);F=!0){var G=H.value;t.addTransition(G[0],G[2],G[1])}}catch(e){R=!0,q=e}finally{try{F||null==B.return||B.return()}finally{if(R)throw q}}return t}function pn(e,t){var n=mn(e,t),r=null,a=[],o=!0,i=!1,l=void 0;try{for(var u,s=t.nfaSource.getAlphabet()[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,f=!0,y=!1,h=void 0;try{for(var d,p=e[Symbol.iterator]();!(f=(d=p.next()).done);f=!0){var v=d.value;t.nfaSource.doTerminalTransition(v,c,a)}}catch(e){y=!0,h=e}finally{try{f||null==p.return||p.return()}finally{if(y)throw h}}if(a.length>0){r=mn(a,t);var m=vn(n,c,t);t.dfaTransitionMap.set(m,[n,c,r])}a.length=0}}catch(e){i=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}}function vn(e,t,n){return e.getStateID()+";"+t}function mn(e,t){var n=function(e,t){var n="",r=!0,a=!1,o=void 0;try{for(var i,l=t.nfaSource.getStates()[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;e.includes(u)?n+="x":n+="-"}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t),r=t.dfaStateMap.get(n);if(!r){var a=!1,o="{",i=!0,l=!1,u=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value;o.length>1&&(o+=","),o+=f.getStateLabel(),a||(a=t.nfaSource.isFinalState(f))}}catch(e){l=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}r=new he(o+="}"),t.dfaStateMap.set(n,r),a&&t.dfaFinalStates.push(r)}return r}var bn=1e3;function gn(e,t){var n;if(n="string"==typeof t?t[Symbol.iterator]():t,e.isDeterministic()){for(var r=e.getStartState(),a=null;a=n.next().value;){var o=e.doTransition(r,a);if(o.length<1)return!1;r=o[0]}return e.isFinalState(r)}var i=[],l=[],u=e.getStartState();i.push({state:u,index:0});var s=!0,c=!1,f=void 0;try{for(var y,h=e.doClosureTransition(u)[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){var d=y.value;i.push({state:d,index:0})}}catch(e){c=!0,f=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}for(var p=0;i.length>0;){if(Sn(e,n.next().value,i,l))return!0;if(++p>bn)return!1}return!1}function Sn(e,t,n,r){var a=null,o=[],i=0;t&&r.push(t);var l=!0,u=!1,s=void 0;try{for(var c,f=n[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var y=c.value;if(a=y.state,t=y.index<r.length?r[y.index]:null){i=y.index+1;var h=!0,d=!1,p=void 0;try{for(var v,m=e.doTerminalTransition(a,t)[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var b=v.value;o.push({state:b,index:i})}}catch(e){d=!0,p=e}finally{try{h||null==m.return||m.return()}finally{if(d)throw p}}}else if(e.isFinalState(a))return!0;i=y.index}}catch(e){u=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}return n.length=0,n.push.apply(n,o),!1}function wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new pe(!0);if(!function(e,t){var n=new Set,r=!0,a=!1,o=void 0;try{for(var i,l=e.getAlphabet()[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;n.add(u)}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}var s=!0,c=!1,f=void 0;try{for(var y,h=t.getAlphabet()[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){var d=y.value;if(!n.has(d))return!1;n.delete(d)}}catch(e){c=!0,f=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}return n.size<=0}(e,t))throw new Error("Mismatched machine alphabet");var r=e.UNSAFE_getAlphabet(),a=e.getStartState(),o=t.getStartState();if(!a&&!o)return n.clear(),n;if(!a)return n.copy(t);if(!o)return n.copy(e);var i=new Map,l=new Set,u=[],s=[a,o],c=a.getStateID()+":"+o.getStateID();e.isFinalState(a)&&t.isFinalState(o)&&l.add(c),i.set(c,s);var f=[];for(f.push(c);f.length>0;){var y=f.pop(),h=i.get(y),d=h[0],p=h[1],v=[],m=!0,b=!1,g=void 0;try{for(var S,w=r[Symbol.iterator]();!(m=(S=w.next()).done);m=!0){var _=S.value,E=void 0,O=void 0;if(e.doTransition(d,_,!1,v),1!==v.length)throw new Error("Found non-deterministic transition from '"+d.getStateLabel()+"' for '"+_+"' - transitions to '"+v.join(",")+"'");if(E=v[0],v.length=0,t.doTransition(p,_,!1,v),1!==v.length)throw new Error("Found non-deterministic transition from '"+p.getStateLabel()+"' for '"+_+"' - transitions to '"+v.join(",")+"'");O=v[0],v.length=0;var k=E.getStateID()+":"+O.getStateID();i.has(k)||(i.set(k,[E,O]),f.push(k),e.isFinalState(E)&&t.isFinalState(O)&&l.add(k)),u.push([y,_,k])}}catch(e){b=!0,g=e}finally{try{m||null==w.return||w.return()}finally{if(b)throw g}}}n.clear();var j=new Map,x=!0,C=!1,T=void 0;try{for(var I,P=i.entries()[Symbol.iterator]();!(x=(I=P.next()).done);x=!0){var N=wn(I.value,2),M=N[0],A=N[1],D=n.createState("("+A[0].getStateLabel()+","+A[1].getStateLabel()+")");l.has(M)&&n.setFinalState(D,!0),j.set(M,D)}}catch(e){C=!0,T=e}finally{try{x||null==P.return||P.return()}finally{if(C)throw T}}var L=j.get(c);if(!L)throw new Error("Unable to find start state for pair");n.setStartState(L);for(var F=0,R=u;F<R.length;F++){var q=R[F],H=q[0],B=q[1],G=q[2],z=j.get(H),U=j.get(G);if(!z||!U)throw new Error("Cannot find state for pair");n.addTransition(z,U,B)}return n}function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new pe(!0);t.copy(e);var n=new Set(t.getFinalStates()),r=!0,a=!1,o=void 0;try{for(var i,l=t.getStates()[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;n.has(u)?t.setFinalState(u,!1):t.setFinalState(u,!0)}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return t}function On(e,t){var n=kn(e,t);if(!n)return{value:!1,witnessString:null};var r=jn(n);if(r)return{value:!1,witnessString:r};var a=kn(t,e);if(!a)return{value:!1,witnessString:null};var o=jn(a);return o?{value:!1,witnessString:o}:{value:!0,witnessString:null}}function kn(e,t){return function(e,t){var n=new Set,r=new Set,a=!0,o=!1,i=void 0;try{for(var l,u=e.getAlphabet()[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var s=l.value;e.isUsedSymbol(s)&&n.add(s)}}catch(e){o=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}var c=!0,f=!1,y=void 0;try{for(var h,d=t.getAlphabet()[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;t.isUsedSymbol(p)&&r.add(p)}}catch(e){f=!0,y=e}finally{try{c||null==d.return||d.return()}finally{if(f)throw y}}if(n.size!=r.size)return!1;var v=!0,m=!1,b=void 0;try{for(var g,S=n[Symbol.iterator]();!(v=(g=S.next()).done);v=!0){var w=g.value;if(!r.has(w))return!1}}catch(e){m=!0,b=e}finally{try{v||null==S.return||S.return()}finally{if(m)throw b}}return n}(e,t)?_n(e,En(t)):null}function jn(e){var t=[],n=[e.getStartState()],r=new Map;for(r.set(e.getStartState(),"");n.length;){var a=n.shift();t.push(a);var o=r.get(a);if(e.isFinalState(a))return o;var i=!0,l=!1,u=void 0;try{for(var s,c=e.getOutgoingTransitions(a)[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value,y=f[2];if(!t.includes(y)&&!n.includes(y)){n.push(y);var h=f[1];r.set(y,o+h)}}}catch(e){l=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}}return!1}function xn(e){var t=e.message,n=e.messageId,r=X(Ge);return s.a.createElement(_e.a,{messageId:n,mode:"warning",message:"Careful! This conversion will exponentially increase the number of states.\n"+t,renderControls:function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){r.applyChanges((function(e){return dn(e,e)})),e()}},"Convert"))}})}function Cn(e){var t=e.message,n=e.messageId,r=X(Ge);return s.a.createElement(_e.a,{messageId:n,mode:"warning",message:"Careful! Flipping the states in an NFA does not produce a logically equivalent inverse.\n"+t,renderControls:function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){r.applyChanges((function(e){return En(e,e)})),e()}},"Apply"))}})}xn.propTypes={messageId:q.a.string.isRequired,message:q.a.string},Cn.propTypes={messageId:q.a.string.isRequired,message:q.a.string};var Tn=n(450),In=n.n(Tn);function Pn(e){var t=e.id,n=e.className,r=e.style,a=e.disabled,o=e.onClick;return s.a.createElement("div",{className:"".concat(In.a.element," ").concat(n)},s.a.createElement(Zt.a,{id:t,style:r,disabled:a,onClick:o},e.children))}function Nn(e){var t=X(Ge),n=t.getMachine(),r=Object(u.useContext)(hn.a),a=n.isDeterministic(),o=n.getStateCount(),i=o<=0;return s.a.createElement(s.a.Fragment,null,s.a.createElement("header",null,s.a.createElement("h2",{style:{margin:"1rem"}},"Transformations")),s.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},s.a.createElement(It,{title:"Equivalent Conversions"},s.a.createElement("div",null,a?s.a.createElement(Pn,{id:"convertToNFA",onClick:function(){return t.applyChanges((function(e){return e.setDeterministic(!1)}),{machineOnly:!0})},disabled:i},s.a.createElement("span",null,"Convert to "),s.a.createElement("span",null,"NFA")):s.a.createElement(Pn,{id:"convertToDFA",onClick:function(){return r({type:"send",component:xn,message:"".concat(o," state(s) -> ").concat(Math.pow(2,o)," states")})},disabled:i},s.a.createElement("span",null,"Convert to "),s.a.createElement("span",null,"DFA"))),s.a.createElement("hr",null),s.a.createElement("div",null,s.a.createElement(Pn,{id:"removeUnreachableStates",onClick:function(){},disabled:!0},"Remove unreachable states"))),s.a.createElement(It,{title:"Related Conversions"},s.a.createElement("div",null,s.a.createElement(Pn,{id:"flipAllAcceptStates",onClick:function(){return r({type:"send",component:Cn})},disabled:i},"Flip all accept states")))))}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return!t||"object"!==An(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Pn.propTypes={id:q.a.string.isRequired,children:q.a.node,className:q.a.string,style:q.a.object,disabled:q.a.bool,onClick:q.a.func},Nn.Tab=Object(wt.a)(L.g);var qn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ln(this,Fn(t).call(this))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(t,e),n=t,(r=[{key:"uploadFile",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(e){var n=e.target.result;t(n)})),r.addEventListener("error",(function(e){n(new Error("Unable to import file: "+e.target.error.code))})),r.readAsText(e)}))}}])&&Dn(n.prototype,r),a&&Dn(n,a),t}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"uploadFile",value:function(e){return Promise.resolve(e)}}])&&Mn(t.prototype,n),r&&Mn(t,r),e}());function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Bn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t}},{key:"compose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t}}])&&Hn(t.prototype,n),r&&Hn(t,r),e}(),Gn=n(116);function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Un=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t}var t,n,r;return t=e,(n=[{key:"setGraphElementID",value:function(e){return this._id=e,this}},{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return e.x=e.y=0,e}},{key:"getGraphElementID",value:function(){return this._id}},{key:"getHashString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0],this._id}}])&&zn(t.prototype,n),r&&zn(t,r),e}();function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return!t||"object"!==Qn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kn(e,t,n){return(Kn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xn(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yn=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Jn(this,Xn(t).call(this,e))).x=r,n.y=a,n._label="",n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(t,e),n=t,(r=[{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return e.x=this.x,e.y=this.y,e}},{key:"setNodeLabel",value:function(e){return this._label=e,this}},{key:"getNodeLabel",value:function(){return this._label}},{key:"getNodeSize",value:function(){return 16}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?Kn(Xn(t.prototype),"getHashString",this).call(this,e)+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:Kn(Xn(t.prototype),"getHashString",this).call(this,e)+":"+this._label}}])&&Vn(n.prototype,r),a&&Vn(n,a),t}(Un);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tr(e,t,n){return(tr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nr(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ar=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=er(this,nr(t).call(this,e)))._from=n,r._to=a,r._label="",r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,e),n=t,(r=[{key:"setEdgeFrom",value:function(e){if(!e)throw new Error("Source of edge cannot be null");return this._from=e,this}},{key:"setEdgeTo",value:function(e){return this._to=e,this}},{key:"setEdgeLabel",value:function(e){return this._label=e,this}},{key:"getEdgeDirection",value:function(){var e=this._from,t=this._to,n=Math.PI/2,r=0;if(this.isPlaceholder())r=Math.PI/4;else{var a=t.y-e.y,o=t.x-e.x;r=Math.atan2(a,o)}return(r>n||r<-n)&&(r+=Math.PI),r}},{key:"getStartPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from;return e.x=t.x,e.y=t.y,e}},{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(this.isPlaceholder()){var r=this.getPlaceholderLength()/2;e.x=t.x+r,e.y=t.y+r}else e.x=t.x+(n.x-t.x)/2,e.y=t.y+(n.y-t.y)/2;return e}},{key:"getEndPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var t=this._from,n=this.getPlaceholderLength();e.x=t.x+n,e.y=t.y+n}else{var r=this._to;e.x=r.x,e.y=r.y}return e}},{key:"getPlaceholderLength",value:function(){return this._from.getNodeSize()}},{key:"isPlaceholder",value:function(){return null===this._to}},{key:"isSelfLoop",value:function(){return this._from===this._to}},{key:"getEdgeLabel",value:function(){return this._label}},{key:"getEdgeFrom",value:function(){return this._from}},{key:"getEdgeTo",value:function(){return this._to}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this._from?this._from.getHashString(e):"",r=this._to?this._to.getHashString?this._to.getHashString(e):"0":"";return tr(nr(t.prototype),"getHashString",this).call(this,e)+":"+n+","+r+"."+this._label}}])&&$n(n.prototype,r),a&&$n(n,a),t}(Un);function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nodeClass=t,this._edgeClass=n,this._nodeMapping=new Map,this._edgeMapping=new Map}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this.clearEdges(),this.clearNodes()}},{key:"isEmpty",value:function(){return this._nodeMapping.size<=0&&this._edgeMapping.size<=0}},{key:"getBoundingRect",value:function(){if(this._nodeMapping.size<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var e=Number.MAX_VALUE,t=Number.MAX_VALUE,n=Number.MIN_VALUE,r=Number.MIN_VALUE,a=0,o=!0,i=!1,l=void 0;try{for(var u,s=this._nodeMapping.values()[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,f=c.x,y=c.y,h=c.getNodeSize();h>a&&(a=h),e=Math.min(e,f),n=Math.max(n,f),t=Math.min(t,y),r=Math.max(r,y)}}catch(e){i=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}e-=a,t-=a,n+=a,r+=a;var d=Number.MAX_VALUE,p=Number.MAX_VALUE,v=Number.MIN_VALUE,m=Number.MIN_VALUE,b={x:0,y:0},g={x:0,y:0},S={x:0,y:0},w=!0,_=!1,E=void 0;try{for(var O,k=this._edgeMapping.values()[Symbol.iterator]();!(w=(O=k.next()).done);w=!0){var j=O.value;j.getStartPoint(b),j.getEndPoint(g),j.getCenterPoint(S);var x=b.x,C=b.y,T=g.x,I=g.y,P=S.x,N=S.y;d=Math.min(d,x,T,P),v=Math.max(v,x,T,P),p=Math.min(p,C,I,N),m=Math.max(m,C,I,N)}}catch(e){_=!0,E=e}finally{try{w||null==k.return||k.return()}finally{if(_)throw E}}var M={minX:Math.min(e,d),minY:Math.min(t,p),maxX:Math.max(n,v),maxY:Math.max(r,m),width:0,height:0};return M.width=M.maxX-M.minX,M.height=M.maxY-M.minY,M}},{key:"getHashCode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t="",n=!0,r=!1,a=void 0;try{for(var o,i=this._nodeMapping.values()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;t+=l.getHashString(e)+","}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}t+="|";var u=!0,s=!1,c=void 0;try{for(var f,y=this._edgeMapping.values()[Symbol.iterator]();!(u=(f=y.next()).done);u=!0){var h=f.value;t+=h.getHashString(e)+","}}catch(e){s=!0,c=e}finally{try{u||null==y.return||y.return()}finally{if(s)throw c}}return Object(ie.f)(t)}},{key:"createNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addNode(new this._nodeClass(n||Object(ie.g)(),e,t))}},{key:"addNode",value:function(e){return e.getGraphElementID()||e.setGraphElementID(Object(ie.g)()),this._nodeMapping.set(e.getGraphElementID(),e),e}},{key:"deleteNode",value:function(e){var t=e.getGraphElementID();if(this._nodeMapping.has(t)){this._nodeMapping.delete(t);var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=this.getEdges()[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;u.getEdgeFrom()===e?n.push(u):u.getEdgeTo()===e&&u.setEdgeTo(null)}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}for(var s=0,c=n;s<c.length;s++){var f=c[s];this.deleteEdge(f)}}}},{key:"clearNodes",value:function(){this._nodeMapping.clear()}},{key:"getNodeByElementID",value:function(e){return this._nodeMapping.has(e)?this._nodeMapping.get(e):null}},{key:"getNodesByLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,a=void 0;try{for(var o,i=this.getNodes()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;l.getNodeLabel()===e&&t.push(l)}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t}},{key:"getNodes",value:function(){return Array.from(this._nodeMapping.values())}},{key:"getNodeCount",value:function(){return this._nodeMapping.size}},{key:"getNodeClass",value:function(){return this._nodeClass}},{key:"formatEdge",value:function(e){return e}},{key:"createEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addEdge(new this._edgeClass(n||Object(ie.g)(),e,t))}},{key:"addEdge",value:function(e){return e.getGraphElementID()||e.setGraphElementID(Object(ie.g)()),this._edgeMapping.set(e.getGraphElementID(),e),e}},{key:"deleteEdge",value:function(e){var t=e.getGraphElementID();this._edgeMapping.has(t)&&this._edgeMapping.delete(t)}},{key:"clearEdges",value:function(){this._edgeMapping.clear()}},{key:"getEdgeByElementID",value:function(e){return this._edgeMapping.has(e)?this._edgeMapping.get(e):null}},{key:"getEdgesByLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,r=!1,a=void 0;try{for(var o,i=this.getEdges()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;l.getEdgeLabel()===e&&t.push(l)}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t}},{key:"getEdges",value:function(){return Array.from(this._edgeMapping.values())}},{key:"getEdgeCount",value:function(){return this._edgeMapping.size}},{key:"getEdgeClass",value:function(){return this._edgeClass}}])&&or(t.prototype,n),r&&or(t,r),e}();function lr(e){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t){return!t||"object"!==lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cr(e,t,n){return(cr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fr(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hr=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=sr(this,fr(t).call(this,e,n,a)))._quad={radians:0,length:a?0:r.getPlaceholderLength(),coords:{x:0,y:0}},r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(t,e),n=t,(r=[{key:"setEdgeTo",value:function(e){var n=this._to;if(e!==n){var r=cr(fr(t.prototype),"setEdgeTo",this).call(this,e);return e?e===this._from&&(this._quad.length=this._from.getNodeSize()+this.getPlaceholderLength()):this.setQuadraticByCoords(n.x,n.y),r}return cr(fr(t.prototype),"setEdgeTo",this).call(this,e)}},{key:"setQuadraticRadians",value:function(e){return this._quad.radians=e,this}},{key:"setQuadraticLength",value:function(e){return this._quad.length=e,this}},{key:"setQuadraticByCoords",value:function(e,t){var n=this._from,r=this._to;if(!r){var a=this._from.x-e,o=this._from.y-t,i=-Math.atan2(a,o)-Math.PI/2;return this._quad.radians=i,this}var l=n.x,u=n.y,s=r.x-l,c=r.y-u,f=l+s/2,y=u+c/2,h=Math.atan2(-c,s);s=e-f,c=t-y;var d=Math.PI,p=d/2,v=Math.atan2(c,s)+h,m=Math.sqrt(s*s+c*c);m<0&&(m=0);var b=v- -p,g=v-p,S=d/20;return Math.abs(m)<8?(v=0,m=0):b<S&&b>-S?v=-p:-g<S&&-g>-S&&(v=p),this._quad.radians=v,this._quad.length=m,this}},{key:"getQuadraticLength",value:function(){return this._quad.length}},{key:"getQuadraticRadians",value:function(){return this._quad.radians}},{key:"getQuadratic",value:function(){return this._quad}},{key:"isQuadratic",value:function(){return!this.isPlaceholder()&&0!==this._quad.length}},{key:"getQuadraticAsCoords",value:function(){var e=this._from,t=this._to,n=this._quad.coords;return null==e||null==t?(n.x=0,n.y=0):Object(ie.c)(e.x,e.y,t.x,t.y,this._quad.length,this._quad.radians,n),n}},{key:"getEdgeDirection",value:function(){var e=0;if(this.isQuadratic()){var n=this.getQuadraticAsCoords();e=Math.atan2(n.y,n.x)+Math.PI/2}else e=cr(fr(t.prototype),"getEdgeDirection",this).call(this);return e}},{key:"getStartPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=this._quad.radians,a=Math.cos(r),o=Math.sin(r),i=t.getNodeSize();return e.x=t.x+a*i,e.y=t.y+o*i,e}if("function"==typeof n.getNodeSize&&this.isQuadratic()){Object(ie.d)(t.x,t.y,n.x,n.y,e);var l=this.getQuadraticAsCoords(),u=e.x+l.x,s=e.y+l.y;return Object(ie.c)(t.x,t.y,u,s,t.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,e),e.x+=t.x,e.y+=t.y,e}return Object(ie.c)(t.x,t.y,n.x,n.y,t.getNodeSize(),0,e),e.x+=t.x,e.y+=t.y,e}},{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),a=Math.sin(this._quad.radians),o=t.getNodeSize()+this.getPlaceholderLength()/2;return e.x=t.x+r*o,e.y=t.y+a*o,e}if(Object(ie.d)(t.x,t.y,n.x,n.y,e),this.isQuadratic()){var i=this.getQuadraticAsCoords();e.x+=i.x,e.y+=i.y}return e}},{key:"getEndPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=this._quad.radians,a=Math.cos(r),o=Math.sin(r),i=t.getNodeSize()+this.getPlaceholderLength();return e.x=t.x+a*i,e.y=t.y+o*i,e}if("function"!=typeof n.getNodeSize)return n;if(this.isQuadratic()){Object(ie.d)(t.x,t.y,n.x,n.y,e);var l=this.getQuadraticAsCoords(),u=e.x+l.x,s=e.y+l.y;return Object(ie.c)(n.x,n.y,u,s,n.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,e),e.x+=n.x,e.y+=n.y,e}return Object(ie.c)(n.x,n.y,t.x,t.y,n.getNodeSize(),0,e),e.x+=n.x,e.y+=n.y,e}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?cr(fr(t.prototype),"getHashString",this).call(this,e)+":"+this._quad.radians+","+this._quad.length:cr(fr(t.prototype),"getHashString",this).call(this,e)}}])&&ur(n.prototype,r),a&&ur(n,a),t}(ar);function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vr(e,t){return!t||"object"!==dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t){return(br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gr=Gn.a.parse("1.0.0"),Sr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=vr(this,mr(t).call(this)))._nodeIndices=new Map,e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(t,e),n=t,(r=[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("object"!==dr(e))throw new Error("Unable to parse data of non-object type");var n=Gn.a.parse(e._version||"0.0.0");if(!n.canSupportVersion(gr))throw new Error("Unable to parse data for incompatible version '"+n+"'");var r=e.nodes||[],a=Math.min(r.length||0,e.nodeCount||0),o=e.edges||[],i=Math.min(o.length||0,e.edgeCount||0);t=this.onParseGraphCreate(e,t);for(var l=this._nodeIndices,u=0;u<a;++u){var s=r[u];if(s){var c=t.createNode(s.x||0,s.y||0,s.id);c.setNodeLabel(s.label||""),this.onParseNode(s,c),l.set(u,c)}}for(var f=0;f<i;++f){var y=o[f];if(y){var h=l.get(y.from)||null;if(h){var d=l.get(y.to)||null,p=t.createEdge(h,d,y.id);p.setEdgeLabel(y.label||""),this.onParseEdge(y,p)}}}return this.onParseGraphResult(e,t),l.clear(),t}},{key:"compose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(e instanceof ir))throw new Error("Unable to compose target of non-graph type");t=this.onComposeGraphCreate(e,t);for(var n,r=e.getNodes()||[],a=r.length||0,o=e.getEdges()||[],i=o.length||0,l=new Array(a),u=this._nodeIndices,s=0;s<a;++s)if(n=r[s]){var c=n.getGraphElementID();u.set(n,s);var f={id:c,x:n.x||0,y:n.y||0,label:n.getNodeLabel()||""};this.onComposeNode(n,f),l[s]=f}for(var y,h=new Array(i),d=0;d<i;++d)if(y=o[d]){var p=y.getGraphElementID(),v=y.getEdgeFrom(),m=y.getEdgeTo(),b=u.has(v)?u.get(v):-1,g=u.has(m)?u.get(m):-1,S={id:p,from:b,to:g,label:y.getEdgeLabel()||""};this.onComposeEdge(y,S),h[d]=S}return t._version="1.0.0",t.nodeCount=a,t.nodes=l,t.edgeCount=i,t.edges=h,this.onComposeGraphResult(e,t),u.clear(),t}},{key:"onParseGraphCreate",value:function(e,t){var n=e.quad||!1;return t?t.clear():t=new ir(Yn,n?hr:ar),t}},{key:"onParseNode",value:function(e,t){}},{key:"onParseEdge",value:function(e,t){if(t instanceof hr){var n=e.quad||{};t.setQuadraticRadians(n.radians||0),t.setQuadraticLength(n.length||0)}}},{key:"onParseGraphResult",value:function(e,t){}},{key:"onComposeGraphCreate",value:function(e,t){return t||{}}},{key:"onComposeNode",value:function(e,t){}},{key:"onComposeEdge",value:function(e,t){if(e instanceof hr){var n=e.getQuadratic()||{};t.quad={radians:n.radians||0,length:n.length||0}}}},{key:"onComposeGraphResult",value:function(e,t){var n=!1,r=e.getEdges(),a=!0,o=!1,i=void 0;try{for(var l,u=r[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)if(l.value instanceof hr){n=!0;break}}catch(e){o=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}t.hasQuad=n}}])&&pr(n.prototype,r),a&&pr(n,a),t}(Bn),wr=(new Sr,Sr);function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return!t||"object"!==_r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kr(e,t,n){return(kr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=jr(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cr=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Or(this,jr(t).call(this,e,n)))._nodes=[],r}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(t,e),n=t,(r=[{key:"setStartNode",value:function(e){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var t=this._nodes.indexOf(e);if(t>0){var n=this._nodes[0];this._nodes[0]=e,this._nodes[t]=n}else if(t<0)throw new Error("Cannot set start node for unknown node")}}},{key:"getStartNode",value:function(){return this._nodes.length>0?this._nodes[0]:null}},{key:"getNodeByIndex",value:function(e){return this._nodes[e]}},{key:"addNode",value:function(e){return this._nodes.push(e),kr(jr(t.prototype),"addNode",this).call(this,e)}},{key:"deleteNode",value:function(e){kr(jr(t.prototype),"deleteNode",this).call(this,e);var n=this._nodes.indexOf(e);n>=0&&this._nodes.splice(n,1)}},{key:"clearNodes",value:function(){kr(jr(t.prototype),"clearNodes",this).call(this),this._nodes.length=0}},{key:"getNodes",value:function(){return this._nodes}}])&&Er(n.prototype,r),a&&Er(n,a),t}(ir);function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t){return!t||"object"!==Tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nr(e,t,n){return(Nr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mr(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dr=function(e){function t(e,n,r){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=Pr(this,Mr(t).call(this,e,n,r)))._accept=!1,a._custom=!1,a}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(t,e),n=t,(r=[{key:"setNodeAccept",value:function(e){this._accept=e}},{key:"getNodeAccept",value:function(){return this._accept}},{key:"setNodeCustom",value:function(e){this._custom=e}},{key:"getNodeCustom",value:function(){return this._custom}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Nr(Mr(t.prototype),"getHashString",this).call(this,e)+":"+(this._accept?"1":"0")}}])&&Ir(n.prototype,r),a&&Ir(n,a),t}(Yn);function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rr(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qr(e,t,n){return(qr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Hr(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gr=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rr(this,Hr(t).call(this,e,n,r))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(t,e),n=t,(r=[{key:"setEdgeLabel",value:function(e){"string"==typeof e?qr(Hr(t.prototype),"setEdgeLabel",this).call(this,e):qr(Hr(t.prototype),"setEdgeLabel",this).call(this,"ε")}}])&&Fr(n.prototype,r),a&&Fr(n,a),t}(hr);function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qr(e){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vr(e,t){return(Vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ur(this,Qr(t).call(this,Dr,Gr))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vr(e,t)}(t,e),t}(Cr);function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t){return!t||"object"!==Kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yr(e,t,n){return(Yr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zr(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $r(e,t){return($r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Gn.a.parse("1.0.0");var ea=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wr(this,Zr(t).call(this))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$r(e,t)}(t,e),n=t,(r=[{key:"parse",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Yr(Zr(t.prototype),"parse",this).call(this,e,n)}},{key:"compose",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Yr(Zr(t.prototype),"compose",this).call(this,e,n)}},{key:"onParseGraphCreate",value:function(e,t){return t?t.clear():t=new Jr,t}},{key:"onParseGraphResult",value:function(e,t){var n=this._nodeIndices,r=e.initial||0,a=n.get(r);a&&t.setStartNode(a)}},{key:"onParseNode",value:function(e,t){t.setNodeAccept(e.accept||!1),t.setNodeCustom(e.custom||!1)}},{key:"onComposeNode",value:function(e,t){t.accept=e.getNodeAccept()||!1,t.custom=e.getNodeCustom()||!1}},{key:"onComposeGraphResult",value:function(e,t){var n=this._nodeIndices,r=e.getStartNode(),a=n.get(r)||0;t.initial=a}}])&&Xr(n.prototype,r),a&&Xr(n,a),t}(wr),ta=(new ea,ea);function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(e){if(e.getNodeCount()<=1)return[];var t=e.getEdges(),n=e.getNodes().slice(),r=n.shift(),a=[];for(a.push(r);a.length>0;){var o=a.pop(),i=!0,l=!1,u=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value;if(f.getEdgeFrom()===o){var y=n.indexOf(f.getEdgeTo());if(y>=0){var h=n.splice(y,1)[0];a.push(h)}}}}catch(e){l=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}}return n}function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function la(e,t){return!t||"object"!==aa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ua(e){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sa(e,t){return(sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ca=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=la(this,ua(t).call(this)))._machine=new pe,e._errors=[],e._warnings=[],e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sa(e,t)}(t,e),n=t,(r=[{key:"attemptBuildGraph",value:function(e,t){t.clear();var n,r,a,o,i=new Map,l=!0,u=!1,s=void 0;try{for(var c,f=e.getStates()[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var y=c.value;(n=t.createNode(0,0)).setNodeLabel(y.getStateLabel()),e.isFinalState(y)&&n.setNodeAccept(!0),i.set(y,n)}}catch(e){u=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}var h=!0,d=!1,p=void 0;try{for(var v,m=e.getTransitions()[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var b=v.value;(r=i.get(b.getSourceState()))&&(o=b.getSymbols().join(" "),(a=i.get(b.getDestinationState()))&&t.createEdge(r,a).setEdgeLabel(o))}}catch(e){d=!0,p=e}finally{try{h||null==m.return||m.return()}finally{if(d)throw p}}var g=e.getStartState(),S=t.getNodesByLabel(g);return S&&S.length>0&&t.setStartNode(S[0]),t}},{key:"attemptBuildMachine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this._errors=n,this._warnings=r,n.length=0,r.length=0;var a=t.isDeterministic();t.clear();var o=new Map,i=new Map,l=new Set,u=[],s=[],c=e.getNodes(),f=e.getEdges(),y=e.getStartNode(),h=!0,d=!1,p=void 0;try{for(var v,m=c[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var b=v.value,g=b.getNodeLabel(),S=new he(g,b);t.addState(S),b.getNodeAccept()&&t.setFinalState(S,!0),y===b&&t.setStartState(S),o.has(g)?o.get(g).push(S):o.set(g,[S]),i.set(S,new Map)}}catch(e){d=!0,p=e}finally{try{h||null==m.return||m.return()}finally{if(d)throw p}}var w=!0,_=!1,E=void 0;try{for(var O,k=f[Symbol.iterator]();!(w=(O=k.next()).done);w=!0){var j=O.value,x=j.getEdgeFrom(),C=j.getEdgeTo();if(!j.isPlaceholder()&&x instanceof Dr&&C instanceof Dr){var T=t.getStateByID(x.getGraphElementID()),I=t.getStateByID(C.getGraphElementID());if(!T||!I)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var P=j.getEdgeLabel().split(" "),N=!0,M=!1,A=void 0;try{for(var D,L=P[Symbol.iterator]();!(N=(D=L.next()).done);N=!0){var F=D.value;if(F){"ε"===F?s.push(j):l.add(F);var R=void 0;switch(F){case"ε":R=ye;break;default:R=F}var q=i.get(T),H=q.get(R);H||q.set(R,H=new Array),H.push(j),t.addTransition(T,I,R)}}}catch(e){M=!0,A=e}finally{try{N||null==L.return||L.return()}finally{if(M)throw A}}}else u.push(j)}}catch(e){_=!0,E=e}finally{try{w||null==k.return||k.return()}finally{if(_)throw E}}var B=!0,G=!1,z=void 0;try{for(var U,Q=o.entries()[Symbol.iterator]();!(B=(U=Q.next()).done);B=!0){var V=oa(U.value,2),J=V[0],K=V[1];K.length>1&&n.push({name:"duplicate_state",label:J,nodes:K.map((function(e){return e.getSource()}))})}}catch(e){G=!0,z=e}finally{try{B||null==Q.return||Q.return()}finally{if(G)throw z}}u.length>0&&n.push({name:"incomplete_transition",edges:u});var X=ra(e);if(X&&X.length>0&&r.push({name:"unreachable_state",nodes:X}),a){s.length>0&&n.push({name:"empty_transition",edges:s});var W=[],Y=!0,Z=!1,$=void 0;try{for(var ee,te=i.entries()[Symbol.iterator]();!(Y=(ee=te.next()).done);Y=!0){var ne=oa(ee.value,2),re=ne[0],ae=ne[1],oe=!0,ie=!1,le=void 0;try{for(var ue,se=l[Symbol.iterator]();!(oe=(ue=se.next()).done);oe=!0){var ce=ue.value,fe=ae.get(ce);fe?1!==fe.length&&n.push({name:"duplicate_transition",edges:fe,symbol:ce}):W.push(ce)}}catch(e){ie=!0,le=e}finally{try{oe||null==se.return||se.return()}finally{if(ie)throw le}}W.length>0&&(n.push({name:"missing_transition",node:re.getSource(),symbols:W.slice()}),W.length=0)}}catch(e){Z=!0,$=e}finally{try{Y||null==te.return||te.return()}finally{if(Z)throw $}}}return n.length<=0?t:null}},{key:"getMachine",value:function(){return this._machine}},{key:"getMachineHashCode",value:function(){return Object(ie.f)(JSON.stringify(this._machine))}}])&&ia(n.prototype,r),a&&ia(n,a),t}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"attemptBuildMachine",value:function(e,t){throw new Error("Should be overriden.")}},{key:"getMachine",value:function(){throw new Error("Should be overriden.")}},{key:"getMachineHashCode",value:function(){throw new Error("Should be overriden.")}}])&&na(t.prototype,n),r&&na(t,r),e}());function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ha(e){var t=K(Ge,"graph"),n=ya(Object(u.useState)(null),2),r=n[0],a=n[1],o=ya(Object(u.useState)(null),2),i=o[0],l=o[1],c=ya(Object(u.useState)(""),2),y=c[0],h=c[1];return s.a.createElement(tn,{title:"Equivalence Tester"},s.a.createElement("div",null,s.a.createElement(f.a,{onUpload:function(e){var t,n=e.target.files;n.length>0?(t=n[0],new Promise((function(e,n){(new qn).uploadFile(t).then((function(t){var n=JSON.parse(t),r=new ta,a=new Jr;r.parse(n.graphData,a);var o=new ca,i=new pe;o.attemptBuildMachine(a,i),e(i||null)}))}))).then((function(e){return a(e)})).catch((function(e){return a(e.message)})):a(null),e.target.value=null}})),s.a.createElement(Pn,{id:"testEquivalenceTargetFile",onClick:function(){if("object"===fa(r)){var e=(a=t,On((n=r).isDeterministic()?n:dn(n),a.isDeterministic()?a:dn(a)));e.value?(l(!0),h("")):e.witnessString?(l(!1),h("Witness: "+e.witnessString)):(l(!1),h("Sorry, unable to evaluate because the machines have different alphabets."))}else r&&(l(null),h(r));var n,a}},"Test Machine"),s.a.createElement("output",{htmlFor:"testEquivalenceTargetFile"},s.a.createElement("p",null,null===i?"-- ??? --":i?"-- Equivalent --":"-- Not Equivalent --"),s.a.createElement("p",null,y)))}function da(e){var t,n=e.value,r=e.result,a=e.onClick,o=e.onChange,i=e.onRemove;switch(r){case"pass":t="☑";break;case"fail":t="☒";break;case"none":t="☐";break;default:throw new Error("Unknown status '".concat(r,"'."))}return s.a.createElement("p",null,s.a.createElement(D.a,{title:"Run",style:{fill:"white"},iconClass:L.h,onClick:a}),s.a.createElement("input",{type:"text",value:n,placeholder:Se,onChange:o}),s.a.createElement("label",{style:{fontSize:"1.5rem"}},t),s.a.createElement(D.a,{title:"Remove",iconClass:L.l,onClick:i}))}da.propTypes={value:q.a.string.isRequired,result:q.a.oneOf(["pass","fail","none"]),onClick:q.a.func,onChange:q.a.func,onRemove:q.a.func};var pa=".txt";function va(e){var t=e.onClick;return s.a.createElement("div",null,s.a.createElement(f.a,{iconClass:L.n,accept:pa,onUpload:function(e){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;n.push(u)}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}var s=[];n.reduce((function(e,t){return e.then((function(){return t.text()})).then((function(e){return e.split("\n")})).then((function(e){var t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;s.push(i)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}))}),Promise.resolve()).then((function(){return t(s)}))},multiple:!0}))}va.propTypes={onClick:q.a.func};var ma=n(404),ba="test.txt";function ga(e){var t=e.testStrings;return s.a.createElement("div",null,s.a.createElement("button",{onClick:function(e){Object(ma.d)(ba,t.join("\n"))}},"Export Test Strings"))}function Sa(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _a(e){var t=wa(Object(u.useState)([]),2),n=t[0],r=t[1],a=K(e.machineBuilderType,e.machineName),o=Object(u.useCallback)((function(){var e=Ea();r([].concat(Sa(n),[e]))}),[n,r]),i=Object(u.useCallback)((function(e){var t=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var u=i.value;t.push(Ea(u))}}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}r(t)}),[r]),l=n.length<=0;return s.a.createElement(tn,{title:"String Tester"},s.a.createElement(va,{onClick:i}),s.a.createElement(ga,{testStrings:n.map((function(e){return e.value}))}),s.a.createElement(Zt.a,{disabled:l,onClick:function(){var e=Sa(n),t=!0,o=!1,i=void 0;try{for(var l,u=e[Symbol.iterator]();!(t=(l=u.next()).done);t=!0){var s=l.value,c=gn(a,s.value);s.result=c?"pass":"fail"}}catch(e){o=!0,i=e}finally{try{t||null==u.return||u.return()}finally{if(o)throw i}}r(e)}},"Run All"),s.a.createElement(Zt.a,{disabled:l,onClick:function(){return r([])}},"Remove All Tests"),n.map((function(e,t){return s.a.createElement(da,{key:e.id,value:e.value,result:e.result,onClick:function(e){var o=Sa(n),i=o[t];i.result=gn(a,i.value)?"pass":"fail",r(o)},onChange:function(e){var a=Sa(n);a[t].value=e.target.value,r(a)},onRemove:function(e){var a=Sa(n);a.splice(t,1),r(a)}})})),s.a.createElement(Pn,{id:"testStringButton",onClick:o},"Add Test String"))}function Ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return{id:Object(ie.g)(),value:e,result:t}}function Oa(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("header",null,s.a.createElement("h2",{style:{margin:"1rem"}},"Testing")),s.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},s.a.createElement(It,{title:"Strings"},s.a.createElement(_a,{machineBuilderType:Ge,machineName:"graph"})),s.a.createElement(It,{title:"Machines"},s.a.createElement(ha,null))))}ga.propTypes={testStrings:q.a.arrayOf(q.a.string)},_a.propTypes={machineBuilderType:q.a.elementType.isRequired,machineName:q.a.string},_a.defaultProps={},Oa.Tab=Object(wt.a)(L.j);var ka=n(392);function ja(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xa="Untitled";function Ca(e){var t=Object(u.useContext)(ka.a).svgRef,n=Object(d.c)(),r=Object(d.b)(),a=ja(Object(u.useState)(xa),2),o=a[0],i=a[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("header",null,s.a.createElement("h2",{style:{margin:"1rem"}},"Export")),s.a.createElement("section",null,s.a.createElement(ln,{id:"fileName",value:o,onChange:function(e){return i(e.target.value)}},"Enter filename"),s.a.createElement("ul",{style:{padding:0,listStyle:"none"}},s.a.createElement("li",null,s.a.createElement(Pn,{id:"exportGraph",onClick:function(){return Ta(o,"graph",{graphType:n,graphState:r})}},"Save to File")),s.a.createElement("li",null,s.a.createElement(Pn,{id:"exportJFLAP",onClick:function(){return Ta(o,"jflap",{graphType:n,graphState:r})}},"Export to JFF")),s.a.createElement("li",null,s.a.createElement(Pn,{id:"exportToImage",onClick:function(){return Ta(o,"image",{svgRef:t})}},"Export to Image")),s.a.createElement("li",null,s.a.createElement(Pn,{id:"exportToSVG",onClick:function(){return Ta(o,"svg",{svgRef:t})}},"Export to SVG")))))}function Ta(e,t,n){switch(e||(e=xa),t){case"image":ma.c(e+".png",ma.a,n.svgRef.current,640,480);break;case"svg":ma.c(e+".svg",ma.b,n.svgRef.current,640,480);break;case"graph":ma.d(e+".fa.json",(r=n.graphType,a=n.graphState,JSON.stringify(r.serialize(a,{}))));break;case"jflap":ma.d(e+".jff",function(e,t){if("function"!=typeof e)throw new Error("Missing graph type class.");var n=e.getElements(t,m.a),r=e.getElements(t,j.a),a=(new DOMParser).parseFromString('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\x3c!--Created from Flap.js Web App 0.5.0--\x3e<structure></structure>',"application/xml"),o=a.querySelector("structure"),i=a.createElement("type");i.innerHTML="fa",o.appendChild(i);var l=a.createElement("automaton");o.appendChild(l);var u=new Map,s=0,c=!0,f=!1,y=void 0;try{for(var h,d=n[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;u.set(p.id,s);var v=a.createElement("state");v.id=String(s++),v.setAttribute("name",p.label),l.appendChild(v);var b=a.createElement("x");b.innerHTML=String(Math.round(100*p.x)/100||0),v.appendChild(b);var g=a.createElement("y");if(g.innerHTML=String(Math.round(100*p.y)/100||0),v.appendChild(g),p.initial){var S=a.createElement("initial");v.appendChild(S)}if(p.accept){var w=a.createElement("final");v.appendChild(w)}}}catch(e){f=!0,y=e}finally{try{c||null==d.return||d.return()}finally{if(f)throw y}}var _=!0,E=!1,O=void 0;try{for(var k,x=r[Symbol.iterator]();!(_=(k=x.next()).done);_=!0){var C=k.value,T=u.get(C.fromId),I=u.get(C.toId);if("number"==typeof T&&"number"==typeof I){var P=C.label.split("\n"),N=!0,M=!1,A=void 0;try{for(var D,L=P[Symbol.iterator]();!(N=(D=L.next()).done);N=!0){var F=D.value,R=a.createElement("transition");l.appendChild(R);var q=a.createElement("from");q.innerHTML=String(T),R.appendChild(q);var H=a.createElement("to");H.innerHTML=String(I),R.appendChild(H);var B=a.createElement("read");B.innerHTML=String(F),R.appendChild(B)}}catch(e){M=!0,A=e}finally{try{N||null==L.return||L.return()}finally{if(M)throw A}}}}}catch(e){E=!0,O=e}finally{try{_||null==x.return||x.return()}finally{if(E)throw O}}return(new XMLSerializer).serializeToString(a)}(n.graphType,n.graphState))}var r,a}function Ia(e){return W(e.machineBuilderType),s.a.createElement(s.a.Fragment,null)}function Pa(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Na(e){var t=e.machineBuilderType,n=X(t),r=Object(u.useContext)(hn.a),a=Object(u.useRef)([]);return Object(u.useEffect)((function(){var e=[].concat(Pa(n.errors),Pa(n.warnings)),o=t.name+".errors";if(function(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!0;return!1}(a.current,e)){r({type:"dismiss",tags:[o]}),a.current=Pa(e);var i=!0,l=!1,u=void 0;try{for(var s,c=a.current[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value;f.type="send",Array.isArray(f.tags)||(f.tags=[]),f.tags.push(o),r(f)}}catch(e){l=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}}})),s.a.createElement(s.a.Fragment,null)}Ca.Tab=Object(wt.a)(L.d),Ia.propTypes={machineBuilderType:q.a.elementType.isRequired},Na.propTypes={machineBuilderType:q.a.elementType.isRequired};var Ma=n(416),Aa=n(451),Da=n.n(Aa);function La(e){var t=e.className,n=e.style,r=e.placeholder,a=e.disabled,o=e.value,i=e.onChange;return s.a.createElement("div",{className:"".concat(Da.a.element," ").concat(t)},s.a.createElement("span",null,"("),s.a.createElement("textarea",{style:n,value:o,placeholder:r,disabled:a,onChange:i}),s.a.createElement("span",null,")"))}function Fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ra(e){var t=e.element,n=e.closeEditor,r=Object(u.useContext)(c.a),a=Fa(Object(u.useState)(t.label),2),o=a[0],i=a[1],l=Fa(Object(u.useState)(t.final),2),f=l[0],y=l[1];return s.a.createElement("div",{onContextMenu:qa},s.a.createElement(La,{value:o,onChange:function(e){return i(e.target.value)}}),s.a.createElement(Gt,{id:"acceptNodeSwitch",checked:f,onChange:function(e){t.final=e,t.markDirty(),y(t.final)}},"Accepted"),s.a.createElement(Zt.a,{onClick:function(){t.label=o,t.markDirty(),n()}},"Change Label"),s.a.createElement(Zt.a,{onClick:function(){r({type:"delete",elementType:m.a,elementId:t.id}),n()}},"Delete This"))}function qa(e){return e.preventDefault(),e.stopPropagation(),!1}function Ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ba(e){var t=e.element,n=e.closeEditor,r=Object(u.useContext)(c.a),a=Ha(Object(u.useState)(t.label),2),o=a[0],i=a[1];return s.a.createElement("div",{onContextMenu:Ga},s.a.createElement(La,{value:o,onChange:function(e){return i(e.target.value)}}),s.a.createElement(Zt.a,{onClick:function(){t.label=o,t.markDirty(),n()}},"Submit"),s.a.createElement(Zt.a,{onClick:function(){r({type:"delete",elementType:j.a,elementId:t.id}),n()}},"Delete This"))}function Ga(e){return e.preventDefault(),e.stopPropagation(),!1}function za(e){var t=Object(u.useContext)(vt.a),n=t.elementType,r=t.elementId,a=t.closeEditor,o=Object(at.a)(),i=Object(ot.a)(n,r,o);return s.a.createElement(Ma.a,null,i&&(n===m.a?s.a.createElement(Ra,{element:i,closeEditor:a}):s.a.createElement(Ba,{element:i,closeEditor:a})))}function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Va(e,t){return!t||"object"!==Ua(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ja(e){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}La.propTypes={children:q.a.node,className:q.a.string,style:q.a.object,placeholder:q.a.string,disabled:q.a.bool,value:q.a.string,onChange:q.a.func},La.defaultProps={value:""},Ra.propTypes={element:q.a.object.isRequired,closeEditor:q.a.func.isRequired},Ba.propTypes={element:q.a.object.isRequired,closeEditor:q.a.func.isRequired},n.d(t,"default",(function(){return Xa}));var Xa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Va(this,Ja(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(t,e),n=t,u=[{key:"moduleId",get:function(){return"fa"}},{key:"moduleVersion",get:function(){return"4.0.0"}},{key:"providers",get:function(){return[]}},{key:"renders",get:function(){return{header:[gt,St],appbar:[F],playarea:[[Ia,{machineBuilderType:Ge}],[Na,{machineBuilderType:Ge}]],viewarea:[],drawer:[yn,Oa,Nn,Ca]}}},{key:"services",get:function(){return[i.a,o.a.withInitialMessages(["Hello"]),a.a.withGraphType(O,mt,za),l.a]}}],(r=null)&&Qa(n.prototype,r),u&&Qa(n,u),t}(r.a)}}]);