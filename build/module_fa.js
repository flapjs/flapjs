(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{395:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(0),a=n.n(r),o=n(2),i=n.n(o),l=n(390),u=a.a.createContext(null);function c(e){var t=Object(r.useRef)(Object(l.g)());return a.a.createElement(u.Provider,{value:t.current},e.children)}c.propTypes={children:i.a.node}},396:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(397),a=n(395);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,n,r,o=c(s);function s(){return i(this,s),o.apply(this,arguments)}return t=s,r=[{key:"serviceVersion",get:function(){return"1.0.0"}},{key:"providers",get:function(){return[a.b]}}],(n=null)&&l(t.prototype,n),r&&l(t,r),s}(r.a)},442:function(e,t,n){e.exports={itemList:"src-modules-fa-drawer-overview-definition-__ItemList-module__itemList--3lap4",itemLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__itemLabel--3bnPP",emptyLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__emptyLabel--2J6sm",markedLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__markedLabel--2TePt"}},451:function(e,t,n){e.exports={container:"src-components-pane-__Pane-module__container--3LUuP",innerContainer:"src-components-pane-__Pane-module__innerContainer--2SrWx",dropdown:"src-components-pane-__Pane-module__dropdown--1SA9L",title:"src-components-pane-__Pane-module__title--_MqlS"}},452:function(e,t,n){e.exports={chartKey:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__chartKey--1VaGi",chartValue:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__chartValue--1yXrM",forAllOtherInputs:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__forAllOtherInputs--1L0TS"}},453:function(e,t,n){e.exports={element:"src-components-lib-__FieldSwitch-module__element--1hDLG",disabled:"src-components-lib-__FieldSwitch-module__disabled---YHiG",checked:"src-components-lib-__FieldSwitch-module__checked--O7c33",label:"src-components-lib-__FieldSwitch-module__label--4Sp7a",inplace:"src-components-lib-__FieldSwitch-module__inplace--Vej_k"}},454:function(e,t,n){e.exports={tableEntry:"src-modules-fa-drawer-overview-analysis-__TransitionTable-module__tableEntry--1vo17",tableAxisHeader:"src-modules-fa-drawer-overview-analysis-__TransitionTable-module__tableAxisHeader--tjJ0G"}},455:function(e,t,n){e.exports={container:"src-components-options-__Options-module__container--1O4mR"}},456:function(e,t,n){e.exports={element:"src-components-lib-__FieldInput-module__element--rh70p"}},457:function(e,t,n){e.exports={element:"src-components-lib-__FieldButton-module__element--3mt5M"}},458:function(e,t,n){e.exports={element:"src-components-lib-__TextArea-module__element--2gbYq"}},464:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ei}));var r=n(403),a=n(405),o=n(406),i=n(404),l=n(396),u=n(0),c=n.n(u),s=n(394),f=n(416),y=n(440),h=n(441),p=n(393),d=n(439),m=n(431),v=n(391);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var a=k(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(o,e);var t,n,r,a=O(o);function o(){return w(this,o),a.apply(this,arguments)}return t=o,r=[{key:"reducer",value:function(e,t){switch(t.type){case"add":if(t.elementType===v.a){var n=g(Object(s.c)(this,e,{type:"add",elementType:v.a,opts:t.opts}),2),r=n[0],a=n[1],o=Object.keys(r[this.getElementTypeKeyForElementType(v.a)]).length;return a.label="q"+(o-1),1===o&&(a.initial=!0),[r,a]}}}},{key:"version",get:function(){return"1.0.0"}}],(n=null)&&_(t.prototype,n),r&&_(t,r),o}(m.a),A=n(12),C=n(392);function x(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){M(o,r,a,i,l,"next",e)}function l(e){M(o,r,a,i,l,"throw",e)}i(void 0)}))}}function N(){return(N=R(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,e.next=3,Object(d.a)(t);case 3:r=e.sent,a={};try{n.endsWith(".fa.json")?a=I.deserialize(JSON.parse(r),{}):n.endsWith(".fsa.json")?a=D(r):n.endsWith(".jff")?a=F(r):n.endsWith(".json")?a=L(r):window.alert("Cannot import file with extension '".concat(n,"'."))}catch(e){A.a.error("FiniteAutomataImporter","Failed to import file.",e)}return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){var t=JSON.parse(e);if("_metadata"in t)throw new Error("Missing metadata.");if("fsa"!==t._metadata.moduleID)throw new Error("Invalid module id.");throw new Error("Not yet implemented.")}function L(e){throw new Error("Not yet implemented.")}function F(e){var t,n,r=I.getElementTypeKeyForElementType(v.a),a=I.getElementTypeKeyForElementType(C.a),o=(P(t={},r,{}),P(t,a,{}),t),i=(new DOMParser).parseFromString(e,"text/xml"),l=i.getElementsByTagName("state")||[],u=i.getElementsByTagName("transition")||[],c=o[r],s=x(l);try{for(s.s();!(n=s.n()).done;){var f=n.value;if(f.hasAttribute("id")){var y=f.getAttribute("id"),h=f.getAttribute("name"),p={x:Number.parseFloat(U(f,"x","0")),y:Number.parseFloat(U(f,"y","0")),label:h,initial:f.getElementsByTagName("initial").length>0,accept:f.getElementsByTagName("final").length>0};c[y]=p}}}catch(e){s.e(e)}finally{s.f()}var d,m=new Map,b=o[a],g=0,S=x(u);try{for(S.s();!(d=S.n()).done;){var w=d.value,_=U(w,"from",null),E=U(w,"to",null);if(_&&E){var O=U(w,"read",""),j=_+":"+E;if(m.has(j)){m.get(j).label+="\n"+O}else{var k={fromId:_,toId:E,label:O};b["".concat(++g)]=k,m.set(j,k)}}}}catch(e){S.e(e)}finally{S.f()}return I.deserialize(o,{},{forceIgnoreVersion:!0})}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e.getElementsByTagName(t);if(r.length>0){var a,o=x(r);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(i.hasChildNodes())try{return i.childNodes[0].nodeValue}catch(e){}}}catch(e){o.e(e)}finally{o.f()}}return n}var q=n(55),H=n(39),B=n(51);function G(e){var t=Object(u.useContext)(s.d),n=Object(p.b)(),r=Object(u.useContext)(s.a),a=Object(u.useContext)(q.b),o=Object(u.useCallback)((function(e){var n=JSON.parse(e),a=t.deserialize(n,{});r({type:"resetState",state:a})}),[r,t]);return Object(h.a)(t,(function(){return JSON.stringify(t.serialize(n,{}))})),Object(u.useEffect)((function(){A.a.debug("Toolbar","Performing autosave...");var e=t.serialize(n,{});localStorage.setItem(t.name+".graphData",JSON.stringify(e))})),c.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},c.a.createElement(H.a,{iconClass:B.f,onClick:function(){return r("clearAll")},title:"New"}),c.a.createElement(y.b,{source:t,update:o}),c.a.createElement(y.a,{source:t,update:o}),c.a.createElement(H.a,{iconClass:B.d,onClick:function(){return a({type:"change-tab",value:3})},title:"Save"}),c.a.createElement(f.a,{iconClass:B.n,onUpload:function(e){return function(e){return N.apply(this,arguments)}(e).then((function(e){return r({type:"resetState",state:e})}))}}))}var z=n(2),$=n.n(z),Q=n(444),V=n(433),J=n(395),K=n(425),X=new Map;function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];X.has(e)||X.set(e,new Map);var r=X.get(e);if(r.has(t)){var a=r.get(t);return a}if(!n)throw new Error("Cannot find non-existent machine builder for type '".concat(e.name,"' and name '").concat(t,"'."));var o=new e,i={builder:o,refCount:0,persistent:!1};return r.set(t,i),i}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){var n=Y(Object(u.useState)(null),2),r=n[0],a=n[1],o=Object(u.useContext)(J.a)+":"+t,i=W(e,o,!0).builder;return Object(K.a)((function(){var e=i.getCurrentBuildId();e!==r&&a(e)})),function(e,t){W(e,t,!1).refCount+=1}(e,o),Object(u.useEffect)((function(){return function(){!function(e,t){W(e,t,!1).refCount-=1}(e,o),function(e,t){var n=W(e,t,!1);return n.persistent||n.refCount>0}(e,o)||function(e,t){if(X.has(e)){var n=X.get(e);n.has(t)&&n.delete(t)}}(e,o)}})),i}function te(e,t){return ee(e,t).getMachine()}function ne(e){return ee(e,"graph")}function re(e){var t=Object(p.c)(),n=Object(p.b)(),r=Object(p.a)();!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){},a=Object(u.useContext)(J.a),o=a+":"+t,i=W(e,o,!0),l=i.builder,c=i.opts||{};i.opts={};var s=Object(u.useCallback)((function(e,t){i.opts=t,r.call(void 0,e,t)}),[r,i]);l.setSourceCallback(s),l.applySource(n,c)}(e,"graph",n,(function(a,o){return e.updateGraphFromMachine(t,n,r,a,o)}))}function ae(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),e}function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var a=he(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(o,e);var t,n,r,a=fe(o);function o(){return ue(this,o),a.apply(this,arguments)}return t=o,r=[{key:"updateGraphFromMachine",value:function(e,t,n,r){throw new Error("No implementation found for ".concat(this.name,".updateGraphFromMachine()."))}}],(n=null)&&ce(t.prototype,n),r&&ce(t,r),o}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._machine=this.constructor.build(null),this._buildId=0,this._sourceCallback=null,this._resolveCallback=null,this._changeQueue=[]}var t,n;return ie(e,null,[{key:"build",value:function(){throw new Error("No implementation found for ".concat(this.name,".build()."))}}]),ie(e,[{key:"updateMachineFromSource",value:function(e,t){throw new Error("No implementation found for this.updateMachineFromSource().")}},{key:"setPersistent",value:function(e){return this._persistent=e,this}},{key:"setSourceCallback",value:function(e){if(e)this._sourceCallback=e,this.propagateRemainingChanges();else{this._sourceCallback=null;var t=this._resolveCallback;t&&(this._resolveCallback=null,t(this._machine))}return this}},{key:"applySource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(t.builder=this);var n=this.updateMachineFromSource(this._machine,e,t);n&&(this._buildId=this.getNextBuildId());var r=this._resolveCallback;r&&(this._resolveCallback=null,r(this._machine),this.propagateRemainingChanges())}},{key:"applyChanges",value:(t=regeneratorRuntime.mark((function e(t){var n,r,a,o,i=this,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=l.length>1&&void 0!==l[1]?l[1]:{})&&(n.builder=this),!this._sourceCallback||this._resolveCallback){e.next=9;break}return this._resolveCallback=!0,r=this._machine,a=this.constructor.build(r,n),e.abrupt("return",new Promise((function(e){i._resolveCallback=e,t(a),i._sourceCallback(a,n),i._machine=a})));case 9:return o={callback:t,opts:n,resolve:null},this._changeQueue.push(o),e.abrupt("return",new Promise((function(e){return o.resolve=e})));case 12:case"end":return e.stop()}}),e,this)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){ae(o,r,a,i,l,"next",e)}function l(e){ae(o,r,a,i,l,"throw",e)}i(void 0)}))},function(e){return n.apply(this,arguments)})},{key:"propagateRemainingChanges",value:function(){if(this._sourceCallback&&!this._resolveCallback&&this._changeQueue.length>0){var e=this._changeQueue.shift();this._resolveCallback=e.resolve;var t=this._machine,n=this.constructor.build(t,e.opts);e.callback(n),this._sourceCallback(n,e.opts),this._machine=n}}},{key:"getMachine",value:function(){return this._machine}},{key:"getNextBuildId",value:function(){return this._buildId+1}},{key:"getCurrentBuildId",value:function(){return this._buildId}}]),e}()),de=n(390);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=ge(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function ge(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t&&_e(e.prototype,t),n&&_e(e,n),e}var Oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;we(this,e),this._label=t,this._src=n,this._id=Object(de.e)()}return Ee(e,[{key:"copy",value:function(){var t=new e;return t._label=this._label,t._src=this._src,t._id=this._id,t}},{key:"getStateLabel",value:function(){return this._label}},{key:"getStateID",value:function(){return this._id}},{key:"getSource",value:function(){return this._src}},{key:"getAssociatedGraphElement",value:function(){return this._src}},{key:"getHashString",value:function(){return this._id}}]),e}(),je=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;we(this,e),this._from=t,this._to=n,this._symbols=r,this._src=a}return Ee(e,[{key:"copy",value:function(){var t=new e;return t._from=this._from,t._to=this._to,t._symbols=this._symbols.slice(),t._src=this._src,t}},{key:"getSourceState",value:function(){return this._from}},{key:"getDestinationState",value:function(){return this._to}},{key:"addSymbol",value:function(e){this._symbols.push(e)}},{key:"hasSymbol",value:function(e){return this._symbols.includes(e)}},{key:"getSymbols",value:function(){return this._symbols}},{key:"getAssociatedGraphElement",value:function(){return this._src}},{key:"getHashString",value:function(){return this._from.getHashString()+":"+this._symbols.join(",")+":"+this._to.getHashString()}}]),e}(),ke=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];we(this,e),this._states=new Map,this._alphabet=new Map,this._transitions=new Map,this._finalStates=new Set,this._customSymbols=new Set,this._startState=null,this._deterministic=t,this._errors=[]}return Ee(e,[{key:"copy",value:function(e){if(e!==this){this.clear();var t,n=be(e._states.entries());try{for(n.s();!(t=n.n()).done;){var r=ve(t.value,2),a=r[0],o=r[1],i=o.copy();this._states.set(a,i),e.isStartState(o)&&(this._startState=i),e.isFinalState(o)&&this._finalStates.add(i)}}catch(e){n.e(e)}finally{n.f()}var l,u=be(e._alphabet.entries());try{for(u.s();!(l=u.n()).done;){var c=ve(l.value,2),s=c[0],f=c[1];this._alphabet.set(s,f)}}catch(e){u.e(e)}finally{u.f()}var y,h=be(e._transitions.entries());try{for(h.s();!(y=h.n()).done;){var p=ve(y.value,2),d=p[0],m=p[1],v=m.copy();v._from=this._states.get(m.getSourceState().getStateID()),v._to=this._states.get(m.getDestinationState().getStateID()),this._transitions.set(d,v)}}catch(e){h.e(e)}finally{h.f()}var b,g=be(e._customSymbols);try{for(g.s();!(b=g.n()).done;){var S=b.value;this._customSymbols.add(S)}}catch(e){g.e(e)}finally{g.f()}this._deterministic=e._deterministic;var w,_=be(e._errors);try{for(_.s();!(w=_.n()).done;){var E=w.value;this._errors.push(E)}}catch(e){_.e(e)}finally{_.f()}}}},{key:"clear",value:function(){this._states.clear(),this._alphabet.clear(),this._transitions.clear(),this._finalStates.clear(),this._customSymbols.clear(),this._startState=null,this._errors.length=0}},{key:"setDeterministic",value:function(e){this._deterministic=e}},{key:"isDeterministic",value:function(){return this._deterministic}},{key:"validate",value:function(){if(this._errors.length=0,this._deterministic){var e,t=new Map,n=be(this._alphabet.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.set(r,!1)}}catch(e){n.e(e)}finally{n.f()}var a,o=be(this._states.values());try{for(o.s();!(a=o.n()).done;){var i,l=a.value,u=be(this.getOutgoingTransitions(l));try{for(u.s();!(i=u.n()).done;){var c=i.value[1];if(t.get(c))return this._errors.push("duplicate symbol: "+c),!1;t.set(c,!0)}}catch(e){u.e(e)}finally{u.f()}var s,f=be(t.keys());try{for(f.s();!(s=f.n()).done;){var y=s.value;if(!t.get(y))return this._errors.push("missing symbol: "+y),!1;t.set(y,!1)}}catch(e){f.e(e)}finally{f.f()}}}catch(e){o.e(e)}finally{o.f()}return this._errors.length=0,!0}return this._errors.length=0,!0}},{key:"isValid",value:function(){return 0==this._errors.length}},{key:"getErrors",value:function(){return this._errors}},{key:"createState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.addState(new Oe(e))}},{key:"addState",value:function(e){var t=e.getStateID();if(this._states.has(t))throw new Error("Already added state with id '"+t+"'");return this._states.size<=0&&(this._startState=e),this._states.set(t,e),e}},{key:"removeState",value:function(e){var t=e.getStateID();return!!this._states.has(t)&&(this._states.delete(t),this._startState===e&&(this._states.size<=0?this._startState=null:this._startState=this._states.values().next().value),!0)}},{key:"hasStateWithLabel",value:function(e){var t,n=be(this._states.values());try{for(n.s();!(t=n.n()).done;){if(t.value.getStateLabel()==e)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"getStatesByLabel",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=be(this._states.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;a.getStateLabel()==e&&n.push(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getStateByID",value:function(e){return this._states.get(e)}},{key:"hasState",value:function(e){return this._states.has(e.getStateID())}},{key:"getStates",value:function(){return this._states.values()}},{key:"getStateCount",value:function(){return this._states.size}},{key:"addTransition",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(!this.hasState(e))throw new Error("Trying to add a transition to unknown state with label '"+e.getStateLabel()+"'");if(!this.hasState(t))throw new Error("Trying to add a transition to unknown state with label '"+t.getStateLabel()+"'");if(!n)throw new Error("Cannot add transition for null symbol - use the empty symbol instead");var a=e.getStateID()+"->"+t.getStateID();if(this._transitions.has(a)){var o=this._transitions.get(a);if(o.hasSymbol(n))return!1;o.addSymbol(n)}else this._transitions.set(a,new je(e,t,[n],r));return this._incrSymbolCount(n),!0}},{key:"removeTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.getStateID()+"->"+t.getStateID();if(!this._transitions.has(r))return!1;var a=this._transitions.get(r),o=a.getSymbols();if(n){var i=o.indexOf(n);return i>=0&&(this._decrSymbolCount(n),o.splice(i,1),o.length<=0&&this._transitions.delete(r),!0)}var l,u=be(o);try{for(u.s();!(l=u.n()).done;){var c=l.value;this._decrSymbolCount(c)}}catch(e){u.e(e)}finally{u.f()}return this._transitions.delete(r),!0}},{key:"hasTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.getStateID()+"->"+t.getStateID();return!!this._transitions.has(r)&&(!n||this._transitions.get(r).hasSymbol(n))}},{key:"getTransitionSymbols",value:function(e,t){var n=e.getStateID()+"->"+t.getStateID();return this._transitions.has(n)?this._transitions.get(n).getSymbols():null}},{key:"getTransitions",value:function(){return this._transitions.values()}},{key:"_incrSymbolCount",value:function(e){if("&empty"!==e){var t=this._alphabet.get(e)||0;this._alphabet.set(e,t+1)}}},{key:"_decrSymbolCount",value:function(e){if(!this._alphabet.has(e))throw new Error("Unable to find valid transition symbol in alphabet");if("&empty"!==e){var t=this._alphabet.get(e);t<=1?this.isCustomSymbol(e)?this._alphabet.set(e,0):this._alphabet.delete(e):this._alphabet.set(e,t-1)}}},{key:"changeSymbol",value:function(e,t){if("&empty"===e)throw new Error("Cannot change the empty symbol");if("&empty"===t)throw new Error("Cannot change to the empty symbol");if(this._alphabet.has(t))throw new Error("Cannot change symbol to another existing symbol");var n,r=be(this._transitions.values());try{for(r.s();!(n=r.n()).done;){var a=n.value.getSymbols(),o=a.indexOf(e);o>=0&&(a[o]=t)}}catch(e){r.e(e)}finally{r.f()}var i=this._alphabet.get(e);this._alphabet.set(t,i),this._alphabet.delete(e),this._customSymbols.has(e)&&(this._customSymbols.delete(e),this._customSymbols.add(t))}},{key:"removeSymbol",value:function(e){var t,n=[],r=be(this._transitions.entries());try{for(r.s();!(t=r.n()).done;){var a=ve(t.value,2),o=a[0],i=a[1].getSymbols(),l=i.indexOf(e);l>=0&&(i.splice(l,1),i.length<=0&&n.push(o))}}catch(e){r.e(e)}finally{r.f()}for(var u=0,c=n;u<c.length;u++){var s=c[u];this._transitions.delete(s)}"&empty"!==e&&(this._customSymbols.has(e)?this._alphabet.set(e,0):this._alphabet.delete(e))}},{key:"setCustomSymbol",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("&empty"===e)throw new Error("Cannot change the empty symbol as a custom symbol");t?this._customSymbols.has(e)||(this._customSymbols.add(e),this._alphabet.has(e)||this._alphabet.set(e,0)):this._customSymbols.has(e)&&(this._customSymbols.delete(e),this._alphabet.has(e)&&this._alphabet.get(e)<=0&&this._alphabet.delete(e))}},{key:"isCustomSymbol",value:function(e){return this._customSymbols.has(e)}},{key:"getCustomSymbols",value:function(){return this._customSymbols}},{key:"clearCustomSymbols",value:function(){this._customSymbols.clear()}},{key:"isUsedSymbol",value:function(e){return this._alphabet.has(e)&&this._alphabet.get(e)>0}},{key:"isSymbol",value:function(e){return this._alphabet.has(e)}},{key:"getAlphabet",value:function(){return Array.from(this._alphabet.keys())}},{key:"UNSAFE_getAlphabet",value:function(){return this._alphabet.keys()}},{key:"setStartState",value:function(e){var t=e.getStateID();this._states.has(t)||this._states.set(t,e),this._startState=e}},{key:"isStartState",value:function(e){return this._startState===e}},{key:"getStartState",value:function(){return this._startState}},{key:"setFinalState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t)this._states.has(e.getStateID())||this.addState(e),this._finalStates.add(e);else{if(!this._states.has(e.getStateID()))throw new Error("Trying to change final for missing state '"+e.getStateLabel()+"'");this._finalStates.delete(e)}}},{key:"isFinalState",value:function(e){return this._finalStates.has(e)}},{key:"getFinalStates",value:function(){return this._finalStates}},{key:"doTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!e)return r;if(!(e instanceof Oe))throw new Error("Invalid state instance type '"+me(e)+"'");if(!this._states.has(e.getStateID()))throw new Error("Unable to find source state with id '"+e.getStateID()+"'");t||(t="&empty");var a,o=e.getStateID()+"->",i=be(this._transitions.keys());try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.startsWith(o)){var u=this._transitions.get(l);if(u.hasSymbol(t)&&(r.push(u.getDestinationState()),!n&&this._deterministic))return r}}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"doTerminalTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return n;if(!this._states.has(e.getStateID()))throw new Error("Unable to find source state with id '"+e.getStateID()+"'");t||(t="&empty");var r,a=e.getStateID()+"->",o=be(this._transitions.keys());try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.startsWith(a)){var l=this._transitions.get(i);if(l.hasSymbol(t)){var u,c=l.getDestinationState(),s=this.doClosureTransition(c),f=be(s);try{for(f.s();!(u=f.n()).done;){var y=u.value;n.includes(y)||n.push(y)}}catch(e){f.e(e)}finally{f.f()}}}}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"doClosureTransition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;t.push(e);for(var n=0;n<t.length;++n){var r,a=this.getOutgoingTransitions(t[n]),o=be(a);try{for(o.s();!(r=o.n()).done;){var i=r.value;if("&empty"===i[1]){var l=i[2];t.includes(l)||t.push(l)}}}catch(e){o.e(e)}finally{o.f()}}return t}},{key:"getOutgoingTransitions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;if(!this._states.has(e.getStateID()))throw new Error("Unable to find source state with id '"+e.getStateID()+"'");var n,r=e.getStateID()+"->",a=be(this._transitions.keys());try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.startsWith(r)){var i,l=this._transitions.get(o),u=l.getSymbols(),c=be(u);try{for(c.s();!(i=c.n()).done;){var s=i.value;t.push([e,s,l.getDestinationState()])}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){a.e(e)}finally{a.f()}return t}},{key:"getHashCode",value:function(){var e,t="",n=be(this._states.values());try{for(n.s();!(e=n.n()).done;){t+=e.value.getHashString()+","}}catch(e){n.e(e)}finally{n.f()}t+="|";var r,a=be(this._transitions.values());try{for(a.s();!(r=a.n()).done;){t+=r.value.getHashString()+","}}catch(e){a.e(e)}finally{a.f()}t+="|";var o,i=be(this._finalStates);try{for(i.s();!(o=i.n()).done;){t+=o.value.getHashString()}}catch(e){i.e(e)}finally{i.f()}return t+="|",t+=this._startState?this._startState.getHashString():"",t+="|",t+=this._deterministic?"d":"n",Object(de.f)(t)}}]),e}();function Ie(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e){return Object(de.f)(function(e){if(!e)return"";var t,n=I.getElementTypeKeyForElementType(v.a),r=I.getElementTypeKeyForElementType(C.a),a=e[n]?Object.keys(e[n]).sort():[],o=e[r]?Object.keys(e[r]).sort():[],i=[],l=Ie(a);try{for(l.s();!(t=l.n()).done;){var u=t.value,c=e[n][u];i.push("".concat(c.id," ").concat(c.label," ").concat(c.final))}}catch(e){l.e(e)}finally{l.f()}var s,f=[],y=Ie(o);try{for(y.s();!(s=y.n()).done;){var h=s.value,p=e[r][h];f.push("".concat(p.fromId," ").concat(p.toId," ").concat(p.label))}}catch(e){y.e(e)}finally{y.f()}return"n:"+i.join(",")+"|e:"+f.join(",")}(e))}function xe(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t,n,r,a){var o,i,l,u,c,s,f,y,h,p=n.getElementTypeKeyForElementType(v.a),d=n.getElementTypeKeyForElementType(C.a),m=(Pe(o={},p,{}),Pe(o,d,{}),o),b=0,g=xe(t.getStates());try{for(g.s();!(i=g.n()).done;){var S=i.value,w={},_=S.getStateID();if(a.builder){_=a.builder.sourceMap.get(S.getStateID())||_;var E=n.getElement(r,v.a,_);E?v.a.serialize(E,w):(w.x=b,w.y=b,b+=10)}else w.x=b,w.y=b,b+=10;var O=S.getAssociatedGraphElement();O&&(w.x=O.x,w.y=O.y),w.label=S.getStateLabel(),t.isStartState(S)?w.initial=!0:w.initial=!1,t.isFinalState(S)?w.final=!0:w.final=!1,m[p][_]=w}}catch(e){g.e(e)}finally{g.f()}var j,k=xe(t.getTransitions());try{for(k.s();!(j=k.n()).done;){var I=j.value;if((u=I.getSourceState())&&(f=u.getStateID())&&(a.builder&&(f=a.builder.sourceMap.get(f)||f),h=I.getSymbols().join("\n"),(c=I.getDestinationState())&&(y=c.getStateID()))){a.builder&&(y=a.builder.sourceMap.get(y)||y),s={fromId:f,toId:y,label:h};var A=I.getAssociatedGraphElement();A?(l=A.id,A.quad&&(s.quad=A.quad)):l=Object(de.g)(),m[d][l]=s}}}catch(e){k.e(e)}finally{k.f()}return m}function Re(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=De(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function Ne(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||De(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fe=n(398);function Ue(e,t,n){e({type:"delete",elementType:t,elementId:n})}function qe(e,t){Ue(e,C.a,t)}function He(e){var t=e.message,n=e.messageId,r=t.edgeIds,a=Object(p.a)();return c.a.createElement(Fe.a,{messageId:n,mode:"error",message:"Found ".concat(r.length," incomplete transition(s)."),renderControls:function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){qe(a,r),e()}},"Delete all incomplete edges."))}})}function Be(e){var t=e.message,n=e.messageId,r=t.nodeIds,a=t.label;return c.a.createElement(Fe.a,{messageId:n,mode:"error",message:"Found ".concat(r.length," duplicate states for ").concat(a,".")})}function Ge(e){var t=e.message,n=e.messageId,r=t.nodeIds,a=t.labels,o=Object(p.a)();return c.a.createElement(Fe.a,{messageId:n,mode:"warning",message:"Found ".concat(r.length," unreachable states labeled: \n ").concat(a.join(", ")),renderControls:function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){!function(e,t){!function(e,t,n){e({type:"deleteAll",elementType:t,elementIds:n})}(e,v.a,t)}(o,r),e()}},"Delete all unreachable."))}})}function ze(e){var t=e.message,n=e.messageId,r=t.edgeIds,a=Object(p.a)();return c.a.createElement(Fe.a,{messageId:n,mode:"error",message:"Found ".concat(r.length," empty transition(s).\nReason: Deterministic."),renderControls:function(e){return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){qe(a,r),e()}},"Delete all empty transitions."))}})}function $e(e){var t=e.message,n=e.messageId,r=t.edgeIds,a=t.fromNodeLabel,o=t.symbol;return c.a.createElement(Fe.a,{messageId:n,mode:"error",message:"Found ".concat(r.length," duplicate transitions from state ").concat(a," with symbol ").concat(o,".\nReason: Deterministic.")})}function Qe(e){var t=e.message,n=e.messageId,r=t.symbols,a=t.label;return c.a.createElement(Fe.a,{messageId:n,mode:"error",message:"Node ".concat(a," is missing transtion(s) for the following symbol(s) ").concat(r,".\nReason: Deterministic.")})}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||Ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Ke(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function Ke(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}He.propTypes={messageId:$.a.string.isRequired,message:$.a.shape({edgeIds:$.a.arrayOf($.a.string)})},Be.propTypes={messageId:$.a.string.isRequired,message:$.a.shape({nodeIds:$.a.arrayOf($.a.string),label:$.a.string})},Ge.propTypes={messageId:$.a.string.isRequired,message:$.a.shape({nodeIds:$.a.arrayOf($.a.string),labels:$.a.arrayOf($.a.string)})},ze.propTypes={messageId:$.a.string.isRequired,message:$.a.shape({edgeIds:$.a.arrayOf($.a.string)})},$e.propTypes={messageId:$.a.string.isRequired,message:$.a.shape({edgeIds:$.a.arrayOf($.a.string),fromNodeLabel:$.a.string,symbol:$.a.string})},Qe.propTypes={messageId:$.a.string.isRequired,message:$.a.shape({symbols:$.a.arrayOf($.a.string),label:$.a.string})};var Ye=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deterministic=!1,this.startNodeId=null,this.startState=null,this.nodeLabels=new Map,this.nodeOutgoings=new Map,this.edgeSymbols=new Set,this.edgePlaceholders=[],this.edgeEmpties=[],this.stateToNodeIdMap=new Map,this.nodeIdToStateLabelMap=new Map}var t,n,r;return t=e,(n=[{key:"setDeterministic",value:function(e){return this.deterministic=e,this}},{key:"setStartState",value:function(e,t){return this.startNodeId=e,this.startState=t,this}},{key:"addState",value:function(e,t){var n=t.getStateLabel();return this.nodeIdToStateLabelMap.set(e,n),this.stateToNodeIdMap.set(t,e),this.nodeLabels.has(n)?this.nodeLabels.get(n).push(t):this.nodeLabels.set(n,[t]),this.nodeOutgoings.set(t,new Map),this}},{key:"addTransition",value:function(e,t,n,r){var a=this.nodeOutgoings.get(t),o=a.get(r);return o||a.set(r,o=new Array),o.push(e),this}},{key:"addPlaceholder",value:function(e){return this.edgePlaceholders.push(e),this}},{key:"addSymbolForEdge",value:function(e,t){return"ε"===t?this.edgeEmpties.push(e):this.edgeSymbols.add(t),this}},{key:"validate",value:function(e,t){var n=[],r=[],a=this.deterministic,o=this.nodeLabels,i=this.edgePlaceholders,l=this.edgeEmpties,u=this.nodeOutgoings,c=this.edgeSymbols,s=this.stateToNodeIdMap,f=this.nodeIdToStateLabelMap;i.length>0&&n.push({component:He,message:{edgeIds:i}});var y,h=Je(o.entries());try{for(h.s();!(y=h.n()).done;){var p=Ve(y.value,2),d=p[0],m=p[1];m.length>1&&n.push({component:Be,message:{label:d,nodeIds:m.map((function(e){return s.get(e)}))}})}}catch(e){h.e(e)}finally{h.f()}var b=function(e,t,n){var r=Ne(e.getElementIds(t,v.a));if(!n)return[];if(r.length<=1)return[];r.splice(r.indexOf(n),1);var a=e.getElements(t,C.a),o=[];for(o.push(n);o.length>0;){var i,l=o.pop(),u=Re(a);try{for(u.s();!(i=u.n()).done;){var c=i.value;if(c.fromId===l){var s=r.indexOf(c.toId);if(s>=0){var f=r.splice(s,1)[0];o.push(f)}}}}catch(e){u.e(e)}finally{u.f()}}return r}(e,t,this.startNodeId);if(b&&b.length>0&&r.push({component:Ge,message:{labels:b.map((function(e){return f.get(e)})),nodeIds:b}}),a){l.length>0&&n.push({component:ze,message:{edgeIds:l}});var g,S=[],w=Je(u.entries());try{for(w.s();!(g=w.n()).done;){var _,E=Ve(g.value,2),O=E[0],j=E[1],k=Je(c);try{for(k.s();!(_=k.n()).done;){var I=_.value,A=j.get(I);A?1!==A.length&&n.push({component:$e,message:{edgeIds:A,fromNodeLabel:f.get(s.get(O)),symbol:I}}):S.push(I)}}catch(e){k.e(e)}finally{k.f()}S.length>0&&(n.push({component:Qe,message:{symbols:[].concat(S),label:f.get(s.get(O))}}),S.length=0)}}catch(e){w.e(e)}finally{w.f()}}return{errors:n,warnings:r}}}])&&We(t.prototype,n),r&&We(t,r),e}();function Ze(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t,n,r,a){var o=n.getElementTypeKeyForElementType(v.a),i=n.getElementTypeKeyForElementType(C.a);e.sourceMap.clear(),e.errors.length=0,e.warnings.length=0;var l=t.isDeterministic();t.clear();var u=(new Ye).setDeterministic(l),c=new Map;if(r[o])for(var s=0,f=Object.keys(r[o]);s<f.length;s++){var y=f[s],h=r[o][y],p=h.label,d=h.final,m=h.initial,b=new Oe(p,h);t.addState(b),c.set(y,b.getStateID()),e.sourceMap.set(b.getStateID(),y),d&&t.setFinalState(b,!0),m&&(t.setStartState(b),u.setStartState(y,b)),u.addState(y,b)}if(r[i])for(var g=0,S=Object.keys(r[i]);g<S.length;g++){var w=S[g],_=r[i][w],E=_.fromId,O=_.toId,j=_.label;if(O){if(E&&O){var k=c.get(E),I=c.get(O),A=t.getStateByID(k),x=t.getStateByID(I);if(!A||!x)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var T,P=Ze(j.split("\n"));try{for(P.s();!(T=P.n()).done;){var M=T.value;if(M){var R=void 0;switch(M){case"ε":R="&empty";break;default:R=M}t.addTransition(A,x,R,_),u.addSymbolForEdge(w,M),u.addTransition(w,A,x,R)}}}catch(e){P.e(e)}finally{P.f()}}}else u.addPlaceholder(w)}return u.validate(n,r)}function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e){return function(e){if(Array.isArray(e))return at(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t,n){return t&&ot(e.prototype,t),n&&ot(e,n),e}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st(e);if(t){var a=st(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(n,e);var t=ut(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this)).sourceMap=new Map,e.errors=[],e.warnings=[],e.prevSourceHash=0,e.prevDeterminism=null,e}return it(n,null,[{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&t.machineOnly)return e;var n=new ke(!1);return e&&n.copy(e),n}},{key:"updateGraphFromMachine",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(a.machineOnly)n({type:"forceUpdate"});else{var o=Me(0,r,e,e,a),i=e.deserialize(o,{},{forceIgnoreVersion:!0});n({type:"resetState",state:i})}}}]),it(n,[{key:"shouldMachineUpdate",value:function(e,t){var n=Ce(t),r=this.prevSourceHash;this.prevSourceHash=n;var a=e.isDeterministic(),o=this.prevDeterminism;return this.prevDeterminism=a,n!==r||a!==o}},{key:"updateMachineFromSource",value:function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a.machineOnly){var o,i,l=tt(this,e,I,t),u=l.errors,c=l.warnings;return this.errors.length=0,this.warnings.length=0,u&&(o=this.errors).push.apply(o,rt(u)),c&&(i=this.warnings).push.apply(i,rt(c)),!0}if(!this.shouldMachineUpdate(e,t))return!1;var s=tt(this,e,I,t),f=s.errors,y=s.warnings;return this.errors.length=0,this.warnings.length=0,f&&(n=this.errors).push.apply(n,rt(f)),y&&(r=this.warnings).push.apply(r,rt(y)),!0}}]),n}(pe);function yt(e){var t=te(ft,"graph").getStateCount()>0;return c.a.createElement(V.a,{hidden:t})}var ht=n(417),pt=n(421),dt=n(408),mt=n.n(dt);function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bt(e){var t=e.size,n=e.angle,r=e.offset,a=e.childProps,o=e.maskProps,i=Math.cos(n),l=Math.sin(n),u=e.x+i*r,s=e.y+l*r,f=i*t,y=1.2*f;return c.a.createElement(c.a.Fragment,null,c.a.createElement("path",vt({className:mt.a.decorative,d:"M".concat(u," ").concat(s)+" L".concat(u+y," ").concat(s+Math.sin(n+Math.PI/2)*t*1.2)+" L".concat(u+y," ").concat(s-Math.sin(n+Math.PI/2)*t*1.2)+" Z",fill:"transparent"},a)),c.a.createElement("circle",vt({className:mt.a.mask,cx:u+f,cy:s,r:t+4},o)))}bt.propTypes={style:$.a.object,x:$.a.number,y:$.a.number,size:$.a.number,angle:$.a.number,offset:$.a.number,childProps:$.a.object,maskProps:$.a.object},bt.defaultProps={x:0,y:0,size:10,angle:Math.PI,offset:0,childProps:{},maskProps:{}};var gt=Object(pt.a)((function(e,t,n){var r=t||n||null;return c.a.createElement(c.a.Fragment,null,r&&c.a.createElement(bt,{x:r.x,y:r.y,offset:r.radius||0,childProps:{pointerEvents:"none"},maskProps:{pointerEvents:"none"}}))})),St=gt.ConnectorProvider,wt=gt.useConnectorFromBehavior,_t=gt.useConnectorToBehavior,Et=n(443),Ot=n(438),jt=n(401),kt=n(400),It=n(424),At=n(415),Ct=n(414),xt=n(409),Tt=n(437);function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rt(e){var t=e.element,n=Object(u.useRef)(null),r=Object(u.useRef)(null),a=Object(u.useRef)(null),o=Object(jt.a)(),i=Object(kt.a)(v.a,t.fromId,o),l=Object(kt.a)(v.a,t.toId,o),s=xt.f(i,l,t),f=xt.d(i,l,t),y=xt.c(i,l,t),h=xt.e(i,l,t),p=Pt(Object(Tt.a)(n,r,a,t,i,l,s,y,f),2)[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(It.a,{start:s,end:f,center:y,label:t.label,labelDirection:h,labelKeepUp:!0,maskProps:{ref:n},labelProps:{ref:r},hidden:p,renderEndpoint:function(e,t,n){return"forward"===n?c.a.createElement(At.a,{x:e.x,y:e.y,angle:t,maskProps:{ref:a}}):c.a.createElement(Ct.a,{x:e.x,y:e.y,angle:t,maskProps:{style:{pointerEvents:"none"}}})}}),e.children)}Rt.propTypes={children:$.a.node,element:$.a.object.isRequired};var Nt=n(435),Dt=n(434);function Lt(e){var t=e.element,n=Object(u.useRef)(null),r=Object(u.useRef)(null);Object(Nt.a)(n,t);var a=wt(r,t,{onDragBegin:function(){return Boolean(t.initial)}});_t(n,t);var o=t.initial&&!a;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Dt.a,{x:t.x,y:t.y,label:t.label,inner:t.final?.8*t.radius:0,radius:t.radius,maskProps:{ref:n}}),c.a.createElement(bt,{x:t.x,y:t.y,offset:t.radius,childProps:{style:{visibility:o?"unset":"hidden"}},maskProps:{ref:r,pointerEvents:o?"auto":"none"}}),e.children)}Lt.propTypes={children:$.a.node,element:$.a.object.isRequired};var Ft=n(407);function Ut(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qt(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e){var t=Object(u.useContext)(Ft.a).openEditor,n=Object(Ot.a)(),r=n.createNode,a=n.createEdge,o=n.swapInitial,i=Object(p.b)();return Object(Et.b)(),Object(Et.a)((function(e,t){return r({x:e,y:t})})),c.a.createElement(c.a.Fragment,null,c.a.createElement(St,{onConnect:o},c.a.createElement(ht.a,{onConnect:function(e,n,r,o){var l=function(e,t,n){var r,a=Ut(I.getElements(n,C.a));try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.fromId===e.id&&o.toId===t.id)return o}}catch(e){a.e(e)}finally{a.f()}return}(e,n,i);if(l)t(l.type,l.id);else if(o.prevEdge){var u=o.prevEdge;u.fromId=e.id,u.toId=n.id,u.markDirty()}else a(e,n).then((function(e){return t(e.type,e.id)}))},onCancel:function(e,t,n,r){if(r.prevEdge){var a=r.prevEdge;a.toId=0,xt.b(null,e,n,a),a.markDirty()}}},c.a.createElement(yt,null),c.a.createElement(Q.a,{elementType:v.a},(function(e){return c.a.createElement(Lt,{element:e})})),c.a.createElement(Q.a,{elementType:C.a},(function(e){return c.a.createElement(Rt,{element:e})})),e.children)))}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zt(){var e=Object(p.c)(),t=Object(p.a)(),n=Bt(Object(u.useState)(!1),2),r=n[0],a=n[1];return Object(u.useEffect)((function(){if(!r){var n,o=JSON.parse(localStorage.getItem(e.name+".graphData"));try{n=e.deserialize(o,{})}catch(e){n={}}t({type:"resetState",state:n}),a(!0)}}),[r,e,t]),c.a.createElement(c.a.Fragment,null)}function $t(){var e=Object(u.useContext)(s.d),t=Object(p.b)();return Object(u.useEffect)((function(){var n=!0,r=e.name+".graphData",a=setInterval((function(){if(n){var a=e.serialize(t,{});localStorage.setItem(r,JSON.stringify(a))}}),3e3);return function(){n=!1,clearInterval(a)}})),c.a.createElement(c.a.Fragment,null)}Ht.propTypes={children:$.a.node};var Qt=n(91),Vt=n(451),Jt=n.n(Vt);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var a=tn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Zt(this,n)}}function Zt(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?en(e):t}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(o,e);var t,n,r,a=Yt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={open:!0},t.onHeaderClick=t.onHeaderClick.bind(en(t)),t}return t=o,(n=[{key:"onHeaderClick",value:function(e){this.setState((function(e){return{open:!e.open}}))}},{key:"render",value:function(){var e=this.props,t=this.state.open;return c.a.createElement("section",{className:Jt.a.container+" "+(e.className||"")+(t?" open":"")},c.a.createElement("div",{className:Jt.a.innerContainer},c.a.createElement("header",null,c.a.createElement("button",{className:Jt.a.dropdown,onClick:this.onHeaderClick},c.a.createElement("span",{className:Jt.a.title},e.title),c.a.createElement(B.k,{className:"icon"}))),c.a.createElement("main",null,e.children)))}}])&&Xt(t.prototype,n),r&&Xt(t,r),o}(c.a.Component);nn.propTypes={className:$.a.string,children:$.a.node,title:$.a.oneOfType([$.a.string,$.a.node])},nn.defaultProps={};var rn=nn,an=n(442),on=n.n(an);function ln(e){var t=ee(ft,e.machineName).getMachine(),n=Array.from(t.getStates());return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"States"),n.length<=0?c.a.createElement("ul",{className:on.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:on.a.emptyLabel},"∅"))):c.a.createElement("ul",{className:on.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:on.a.itemLabel},"{")),n.map((function(e,r){return c.a.createElement("li",{key:e.getStateID()},c.a.createElement("label",{className:on.a.itemLabel+" "+(t.isFinalState(e)?on.a.markedLabel:"")},r<n.length-1?e.getStateLabel()+",":e.getStateLabel()))})),c.a.createElement("li",null,c.a.createElement("label",{className:on.a.itemLabel},"}"))))}function un(e){var t=te(ft,e.machineName).getAlphabet();return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Alphabet"),t.length<=0?c.a.createElement("ul",{className:on.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:on.a.emptyLabel},"∅"))):c.a.createElement("ul",{className:on.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:on.a.itemLabel},"{")),t.map((function(e,n){return c.a.createElement("li",{key:e},c.a.createElement("label",{className:on.a.itemLabel},n<t.length-1?e+",":e))})),c.a.createElement("li",null,c.a.createElement("label",{className:on.a.itemLabel},"}"))))}ln.propTypes={machineName:$.a.string.isRequired},un.propTypes={machineName:$.a.string.isRequired};var cn=n(452),sn=n.n(cn);function fn(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(e){var t=te(ft,e.machineName),n=t.isDeterministic();return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Transitions"),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Q×Σ"),c.a.createElement("th",null,n?c.a.createElement("span",null,"Q"):c.a.createElement("span",null,c.a.createElement("span",{style:{fontFamily:"cursive"}},"P"),c.a.createElement("span",null,"(Q)"))))),c.a.createElement("tbody",null,function(e){var t,n=[],r=e.isDeterministic(),a=fn(e.getStates());try{for(a.s();!(t=a.n()).done;){var o=t.value,i=null;(i=pn(e,o,"ε"))&&n.push(i);var l,u=fn(e.getAlphabet());try{for(u.s();!(l=u.n()).done;){var s=l.value;(i=pn(e,o,s))&&n.push(i)}}catch(e){u.e(e)}finally{u.f()}}}catch(e){a.e(e)}finally{a.f()}r||n.push(c.a.createElement("tr",{key:"forallotherinputs",className:sn.a.forAllOtherInputs},c.a.createElement("td",{className:sn.a.chartKey},"For all other input"),c.a.createElement("td",{className:sn.a.chartValue},"∅")));return n}(t))))}function pn(e,t,n){var r=e.isDeterministic(),a=e.doTransition(t,n,!0),o="",i=!1;if(a.length<=0){if(!r)return null;if(i=!0,o="-","ε"===n)return null}else if(1===a.length)i=!1,o=a[0].getStateLabel(),r||(o="{"+o+"}");else{r&&(i=!0);var l,u="",s=fn(a);try{for(s.s();!(l=s.n()).done;){var f=l.value;u.length>0&&(u+=","),u+=f.getStateLabel()}}catch(e){s.e(e)}finally{s.f()}o="{"+u+"}"}return"&empty"===n&&(n="ε",r&&(i=!0)),c.a.createElement("tr",{key:t.getStateID()+":"+n},c.a.createElement("td",{className:"".concat(sn.a.chartKey," ").concat(i?"error":"")},"δ("+t.getStateLabel()+","+n+")"),c.a.createElement("td",{className:"".concat(sn.a.chartValue," ").concat(i?"error":"")},o))}hn.propTypes={machineName:$.a.string.isRequired};var dn=n(453),mn=n.n(dn);function vn(e){var t=e.id,n=e.className,r=e.title,a=e.disabled,o=e.checked,i=e.on,l=e.off,u=e.inplace,s=e.onChange;return c.a.createElement("div",{className:"".concat(mn.a.element," ").concat(u?mn.a.inplace:""," ").concat(a?mn.a.disabled:""," ").concat(n)},e.children&&c.a.createElement("label",{className:mn.a.label,htmlFor:t},e.children),c.a.createElement("button",{id:t,role:"switch","aria-checked":o,"aria-labelledby":t,title:r,disabled:a,onClick:function(e){return s&&s(!o)}},c.a.createElement("span",{className:o?mn.a.checked:""},i),c.a.createElement("span",{className:o?"":mn.a.checked},l)))}function bn(e){var t=e.machineName,n=ee(ft,t),r=te(ft,t),a="".concat(t,".deterministic");return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Determinism"),c.a.createElement(vn,{id:a,checked:r.isDeterministic(),on:"Deterministic",off:"Nondeterministic",onChange:function(e){return n.applyChanges((function(t){return t.setDeterministic(e)}),{machineOnly:!0})}}))}vn.propTypes={id:$.a.string.isRequired,children:$.a.node,className:$.a.string,onChange:$.a.func,checked:$.a.bool,title:$.a.string,disabled:$.a.bool,on:$.a.string,off:$.a.string,inplace:$.a.bool},vn.defaultProps={on:"On",off:"Off"},bn.propTypes={machineName:$.a.string};var gn=n(454),Sn=n.n(gn);function wn(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=En(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||En(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jn(e){var t=te(ft,e.machineName),n=_n(Object(u.useState)("symbols"),1)[0];return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Transitions Table"),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Q/Σ"),function(e,t){var n=[],r=e.isDeterministic();switch(t){case"symbols":var a,o=wn(e.getAlphabet());try{for(o.s();!(a=o.n()).done;){var i=a.value;n.push(c.a.createElement("th",{key:i,scope:"col",className:Sn.a.tableAxisHeader+" col"},i))}}catch(e){o.e(e)}finally{o.f()}return n.push(c.a.createElement("th",{key:"&empty",scope:"col",className:Sn.a.tableAxisHeader+(r?" disabled ":"")+" col"},"ε")),n;case"states":var l,u=wn(e.getStates());try{for(u.s();!(l=u.n()).done;){var s=l.value;n.push(c.a.createElement("th",{key:s.getStateID(),scope:"col",className:Sn.a.tableAxisHeader+" col"},s.getStateLabel()))}}catch(e){u.e(e)}finally{u.f()}return n;default:throw new Error("Unknown row axis type '"+t+"'")}}(t,n)),function(e,t){var n,r=[],a=wn(e.getStates());try{for(a.s();!(n=a.n()).done;){var o=n.value,i=[];switch(t){case"symbols":var l,u=wn(e.getAlphabet());try{for(u.s();!(l=u.n()).done;){var s=l.value;i.push(kn(e,o,s))}}catch(e){u.e(e)}finally{u.f()}i.push(kn(e,o,"&empty"));break;case"states":var f,y=wn(e.getStates());try{for(y.s();!(f=y.n()).done;){var h=f.value,p=e.getTransitionSymbols(o,h),d="";if(p){var m,v=wn(p);try{for(v.s();!(m=v.n()).done;){var b=m.value;d.length>0&&(d+="\n"),d+="&empty"===b?"ε":b}}catch(e){v.e(e)}finally{v.f()}}else d="-";i.push(c.a.createElement("td",{key:o.getStateID()+":"+h.getStateID(),className:Sn.a.tableEntry},d))}}catch(e){y.e(e)}finally{y.f()}break;default:throw new Error("Unknown row axis type '"+t+"'")}r.push(c.a.createElement("tr",{key:o.getStateID()},c.a.createElement("th",{scope:"row",className:Sn.a.tableAxisHeader+" row"},o.getStateLabel()),i))}}catch(e){a.e(e)}finally{a.f()}return r}(t,n))))}function kn(e,t,n){var r=e.isDeterministic(),a=e.doTransition(t,n),o="",i=!1;if(a.length<=0)r&&"&empty"!==n&&(i=!0),o="∅";else if(1===a.length)r&&"&empty"===n&&(i=!0),o=a[0].getStateLabel();else{r&&(i=!0);var l,u="",s=wn(a);try{for(s.s();!(l=s.n()).done;){var f=l.value;u.length>0&&(u+=","),u+=f.getStateLabel()}}catch(e){s.e(e)}finally{s.f()}o="{"+u+"}"}var y=r&&"&empty"===n;return c.a.createElement("td",{key:t.getStateID()+":"+n,className:Sn.a.tableEntry+(i?" error ":"")+(y?" disabled ":"")},o)}jn.propTypes={machineName:$.a.string.isRequired};var In=n(402),An=n(455),Cn=n.n(An);function xn(e){var t=e.title,n=e.disabled;return c.a.createElement("fieldset",{className:Cn.a.container,disabled:n},c.a.createElement("legend",null,t),e.children)}function Tn(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pn(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mn(e,t){var n=e.getElements(t,v.a),r=function(e,t,n){var r=e.getElements(t,C.a),a=[];a.push(n.id);for(var o=0;o<a.length;o++){var i,l=Tn(r);try{for(l.s();!(i=l.n()).done;){var u=i.value;u.fromId===a[o]&&(a.includes(u.toId)||a.push(u.toId))}}catch(e){l.e(e)}finally{l.f()}}return a.map((function(n){return e.getElement(t,v.a,n)}))}(e,t,function(e){var t,n=Tn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.initial)return r}}catch(e){n.e(e)}finally{n.f()}return null}(n)),a=n.filter((function(e){return!r.includes(e)})),o=r.length,i=a.length,l=n.length,u=Math.max(o,i);if(!(l<=0)){var c;c=o<10&&i<10?u/4*50+30:u/5*40+30;var s=0;if(1===o){var f,y=2*Math.PI/l,h=Tn(n);try{for(h.s();!(f=h.n()).done;){var p=f.value;p.y=Math.sin(y*s+Math.PI)*c,p.x=Math.cos(y*s+Math.PI)*c,p.markDirty(),s+=1}}catch(e){h.e(e)}finally{h.f()}}else{var d=2*Math.PI/o;s=0;var m,b=Tn(r);try{for(b.s();!(m=b.n()).done;){var g=m.value;g.y=Math.sin(d*s+Math.PI)*c,g.x=Math.cos(d*s+Math.PI)*c,g.markDirty(),s+=1}}catch(e){b.e(e)}finally{b.f()}var S=2*Math.PI/i;s=0;var w,_=Tn(a);try{for(_.s();!(w=_.n()).done;){var E=w.value;E.y=Math.sin(S*s+Math.PI)*(c+100),E.x=Math.cos(S*s+Math.PI)*(c+100),E.markDirty(),s+=1}}catch(e){_.e(e)}finally{_.f()}}}}function Rn(e){var t=Object(p.c)(),n=Object(p.b)(),r=Object(u.useRef)(null);return c.a.createElement(xn,{title:"Layout"},c.a.createElement("div",null,c.a.createElement("select",{ref:r},c.a.createElement("option",{value:"circle"},"Circle"),c.a.createElement("option",{value:"grid",disabled:!0},"Grid")),c.a.createElement(In.a,{onClick:function(e){return function(e,t,n){switch(e){case"circle":Mn(t,n)}}(r.current.value,t,n)}},"Apply")))}xn.propTypes={children:$.a.node,title:$.a.string,disabled:$.a.bool},xn.defaultProps={title:"",disabled:!1},Rn.propTypes={},Rn.defaultProps={};var Nn=n(456),Dn=n.n(Nn);function Ln(e){var t=e.id,n=e.className,r=e.style,a=e.placeholder,o=e.disabled,i=e.value,l=e.onChange;return c.a.createElement("div",{className:"".concat(Dn.a.element," ").concat(n)},c.a.createElement("label",{htmlFor:t},e.children),c.a.createElement("span",null,"("),c.a.createElement("input",{type:"text",id:t,style:r,value:i,placeholder:a,disabled:o,onChange:l}),c.a.createElement("span",null,")"))}function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||Un(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){if(e){if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(e,t):void 0}}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hn(e){var t=ne(ft).getMachine(),n=Object(jt.a)(),r=Object(kt.c)(C.a,(function(e){return n()})),a=Object(u.useRef)(null),o=Fn(Object(u.useState)(""),2),i=o[0],l=o[1],s=t.getAlphabet().sort();return c.a.createElement("div",null,c.a.createElement("select",{ref:a,id:"AlphabetLabelRenameOption.rename"},s.map((function(e){return c.a.createElement("option",{key:e,value:e},e)}))),c.a.createElement(Ln,{id:"alphabetRenameTo",style:{width:"3rem"},value:i,placeholder:"Symbol",onChange:function(e){return l(e.target.value)}},"Rename Character"),c.a.createElement(In.a,{onClick:function(e){!function(e,t,n){var r,a=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Un(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=o.label.split("\n"),l=i.indexOf(e);l>=0&&(i[l]=t,o.label=i.join("\n"),o.markDirty())}}catch(e){a.e(e)}finally{a.f()}}(a.current.value,i,r),l("")},title:"Apply rename alphabet",disabled:!i},"Apply"))}function Bn(e){return c.a.createElement(xn,{title:"Alphabet Label Editor"},c.a.createElement(Hn,null))}function Gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $n(e){var t="Piece-wise definition of δ",n="Table definition of δ",r=Gn(Object(u.useState)(n),2),a=r[0],o=r[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Overview")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(rn,{title:"Definition"},c.a.createElement(bn,{machineName:"graph"}),c.a.createElement(ln,{machineName:"graph"}),c.a.createElement(un,{machineName:"graph"}),c.a.createElement(In.a,{id:"toggle",onClick:function(){return o(a===t?n:t)}},a===t?n:t),a===t?c.a.createElement(jn,{machineName:"graph"}):c.a.createElement(hn,{machineName:"graph"})),c.a.createElement(rn,{title:"Format"},c.a.createElement(Rn,null),c.a.createElement(Bn,null))))}Ln.propTypes={id:$.a.string.isRequired,children:$.a.node,className:$.a.string,style:$.a.object,onClick:$.a.func,placeholder:$.a.string,disabled:$.a.bool,value:$.a.string,onChange:$.a.func},Ln.defaultProps={value:""},Hn.propTypes={},Hn.defaultProps={},Bn.propTypes={},Bn.defaultProps={},$n.Tab=Object(Qt.a)(B.e);var Qn=n(410);function Vn(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ke(!0);if(e.isDeterministic())return t.copy(e),t;t.setDeterministic(!0);var n=e.getStartState(),r={nfaSource:e,dfaStateMap:new Map,dfaFinalStates:[],dfaTransitionMap:new Map,dfaStartState:null,dfaTrapState:null},a=e.doClosureTransition(n);r.dfaStartState=Yn(a,r),r.dfaTrapState=Yn([],r);var o,i=Zn(e.getStates()),l=Vn(i);try{for(l.s();!(o=l.n()).done;){var u=o.value;u.length>0&&Xn(u,r)}}catch(e){l.e(e)}finally{l.f()}var c,s=Vn(r.dfaStateMap.values());try{for(s.s();!(c=s.n()).done;){var f,y=c.value,h=Vn(e.getAlphabet());try{for(h.s();!(f=h.n()).done;){var p=f.value,d=Wn(y,p,r);r.dfaTransitionMap.has(d)||r.dfaTransitionMap.set(d,[y,p,r.dfaTrapState])}}catch(e){h.e(e)}finally{h.f()}}}catch(e){s.e(e)}finally{s.f()}t.clear();var m,v=Vn(r.dfaStateMap.values());try{for(v.s();!(m=v.n()).done;){var b=m.value;t.addState(b)}}catch(e){v.e(e)}finally{v.f()}t.setStartState(r.dfaStartState);var g,S=Vn(r.dfaFinalStates);try{for(S.s();!(g=S.n()).done;){var w=g.value;t.setFinalState(w)}}catch(e){S.e(e)}finally{S.f()}var _,E=Vn(r.dfaTransitionMap.values());try{for(E.s();!(_=E.n()).done;){var O=_.value;t.addTransition(O[0],O[2],O[1])}}catch(e){E.e(e)}finally{E.f()}return t}function Xn(e,t){var n,r=Yn(e,t),a=null,o=[],i=Vn(t.nfaSource.getAlphabet());try{for(i.s();!(n=i.n()).done;){var l,u=n.value,c=Vn(e);try{for(c.s();!(l=c.n()).done;){var s=l.value;t.nfaSource.doTerminalTransition(s,u,o)}}catch(e){c.e(e)}finally{c.f()}if(o.length>0){a=Yn(o,t);var f=Wn(r,u,t);t.dfaTransitionMap.set(f,[r,u,a])}o.length=0}}catch(e){i.e(e)}finally{i.f()}}function Wn(e,t,n){return e.getStateID()+";"+t}function Yn(e,t){var n=function(e,t){var n,r="",a=Vn(t.nfaSource.getStates());try{for(a.s();!(n=a.n()).done;){var o=n.value;e.includes(o)?r+="x":r+="-"}}catch(e){a.e(e)}finally{a.f()}return r}(e,t),r=t.dfaStateMap.get(n);if(!r){var a,o=!1,i="{",l=Vn(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;i.length>1&&(i+=","),i+=u.getStateLabel(),o||(o=t.nfaSource.isFinalState(u))}}catch(e){l.e(e)}finally{l.f()}r=new Oe(i+="}"),t.dfaStateMap.set(n,r),o&&t.dfaFinalStates.push(r)}return r}function Zn(e){var t,n=[[]],r=Vn(e);try{for(r.s();!(t=r.n()).done;)for(var a=t.value,o=0,i=n.length;o<i;++o)n.push(n[o].concat(a))}catch(e){r.e(e)}finally{r.f()}return n}function er(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tr(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nr(e,t){var n;if(n="string"==typeof t?t[Symbol.iterator]():t,e.isDeterministic()){for(var r=e.getStartState(),a=null;a=n.next().value;){var o=e.doTransition(r,a);if(o.length<1)return!1;r=o[0]}return e.isFinalState(r)}var i=[],l=[],u=e.getStartState();i.push({state:u,index:0});var c,s=er(e.doClosureTransition(u));try{for(s.s();!(c=s.n()).done;){var f=c.value;i.push({state:f,index:0})}}catch(e){s.e(e)}finally{s.f()}for(var y=0;i.length>0;){if(rr(e,n.next().value,i,l))return!0;if(++y>1e3)return!1}return!1}function rr(e,t,n,r){var a=null,o=[],i=0;t&&r.push(t);var l,u=er(n);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(a=c.state,t=c.index<r.length?r[c.index]:null){i=c.index+1;var s,f=er(e.doTerminalTransition(a,t));try{for(f.s();!(s=f.n()).done;){var y=s.value;o.push({state:y,index:i})}}catch(e){f.e(e)}finally{f.f()}}else if(e.isFinalState(a))return!0;i=c.index}}catch(e){u.e(e)}finally{u.f()}return n.length=0,n.push.apply(n,o),!1}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||ir(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=ir(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function ir(e,t){if(e){if("string"==typeof e)return lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(e,t):void 0}}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ur(e,t){var n,r=new Set,a=or(e.getAlphabet());try{for(a.s();!(n=a.n()).done;){var o=n.value;r.add(o)}}catch(e){a.e(e)}finally{a.f()}var i,l=or(t.getAlphabet());try{for(l.s();!(i=l.n()).done;){var u=i.value;if(!r.has(u))return!1;r.delete(u)}}catch(e){l.e(e)}finally{l.f()}return r.size<=0}function cr(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sr(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ke(!0);t.copy(e);var n,r=new Set(t.getFinalStates()),a=cr(t.getStates());try{for(a.s();!(n=a.n()).done;){var o=n.value;r.has(o)?t.setFinalState(o,!1):t.setFinalState(o,!0)}}catch(e){a.e(e)}finally{a.f()}return t}function yr(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hr(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pr(e,t){var n=dr(e,t);if(!n)return{value:!1,witnessString:null};var r=mr(n);if(r)return{value:!1,witnessString:r};var a=dr(t,e);if(!a)return{value:!1,witnessString:null};var o=mr(a);return o?{value:!1,witnessString:o}:{value:!0,witnessString:null}}function dr(e,t){return function(e,t){var n,r=new Set,a=new Set,o=yr(e.getAlphabet());try{for(o.s();!(n=o.n()).done;){var i=n.value;e.isUsedSymbol(i)&&r.add(i)}}catch(e){o.e(e)}finally{o.f()}var l,u=yr(t.getAlphabet());try{for(u.s();!(l=u.n()).done;){var c=l.value;t.isUsedSymbol(c)&&a.add(c)}}catch(e){u.e(e)}finally{u.f()}if(r.size!=a.size)return!1;var s,f=yr(r);try{for(f.s();!(s=f.n()).done;){var y=s.value;if(!a.has(y))return!1}}catch(e){f.e(e)}finally{f.f()}return r}(e,t)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ke(!0);if(!ur(e,t))throw new Error("Mismatched machine alphabet");var r=e.UNSAFE_getAlphabet(),a=e.getStartState(),o=t.getStartState();if(!a&&!o)return n.clear(),n;if(!a)return n.copy(t);if(!o)return n.copy(e);var i=new Map,l=new Set,u=[],c=[a,o],s=a.getStateID()+":"+o.getStateID();e.isFinalState(a)&&t.isFinalState(o)&&l.add(s),i.set(s,c);var f=[];for(f.push(s);f.length>0;){var y,h=f.pop(),p=i.get(h),d=p[0],m=p[1],v=[],b=or(r);try{for(b.s();!(y=b.n()).done;){var g=y.value,S=void 0,w=void 0;if(e.doTransition(d,g,!1,v),1!==v.length)throw new Error("Found non-deterministic transition from '"+d.getStateLabel()+"' for '"+g+"' - transitions to '"+v.join(",")+"'");if(S=v[0],v.length=0,t.doTransition(m,g,!1,v),1!==v.length)throw new Error("Found non-deterministic transition from '"+m.getStateLabel()+"' for '"+g+"' - transitions to '"+v.join(",")+"'");w=v[0],v.length=0;var _=S.getStateID()+":"+w.getStateID();i.has(_)||(i.set(_,[S,w]),f.push(_),e.isFinalState(S)&&t.isFinalState(w)&&l.add(_)),u.push([h,g,_])}}catch(e){b.e(e)}finally{b.f()}}n.clear();var E,O=new Map,j=or(i.entries());try{for(j.s();!(E=j.n()).done;){var k=ar(E.value,2),I=k[0],A=k[1],C=n.createState("("+A[0].getStateLabel()+","+A[1].getStateLabel()+")");l.has(I)&&n.setFinalState(C,!0),O.set(I,C)}}catch(e){j.e(e)}finally{j.f()}var x=O.get(s);if(!x)throw new Error("Unable to find start state for pair");n.setStartState(x);for(var T=0,P=u;T<P.length;T++){var M=P[T],R=M[0],N=M[1],D=M[2],L=O.get(R),F=O.get(D);if(!L||!F)throw new Error("Cannot find state for pair");n.addTransition(L,F,N)}return n}(e,fr(t)):null}function mr(e){var t=[],n=[e.getStartState()],r=new Map;for(r.set(e.getStartState(),"");n.length;){var a=n.shift();t.push(a);var o=r.get(a);if(e.isFinalState(a))return o;var i,l=yr(e.getOutgoingTransitions(a));try{for(l.s();!(i=l.n()).done;){var u=i.value,c=u[2];if(!t.includes(c)&&!n.includes(c)){n.push(c);var s=u[1];r.set(c,o+s)}}}catch(e){l.e(e)}finally{l.f()}}return!1}function vr(e){var t=e.message,n=e.messageId,r=ne(ft);return c.a.createElement(Fe.a,{messageId:n,mode:"warning",message:"Careful! This conversion will exponentially increase the number of states.\n"+t,renderControls:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){r.applyChanges((function(e){return Kn(e,e)})),e()}},"Convert"))}})}function br(e){var t=e.message,n=e.messageId,r=ne(ft);return c.a.createElement(Fe.a,{messageId:n,mode:"warning",message:"Careful! Flipping the states in an NFA does not produce a logically equivalent inverse.\n"+t,renderControls:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){r.applyChanges((function(e){return fr(e,e)})),e()}},"Apply"))}})}vr.propTypes={messageId:$.a.string.isRequired,message:$.a.string},br.propTypes={messageId:$.a.string.isRequired,message:$.a.string};var gr=n(457),Sr=n.n(gr);function wr(e){var t=e.id,n=e.className,r=e.style,a=e.disabled,o=e.onClick;return c.a.createElement("div",{className:"".concat(Sr.a.element," ").concat(n)},c.a.createElement(In.a,{id:t,style:r,disabled:a,onClick:o},e.children))}function _r(e){var t=ne(ft),n=t.getMachine(),r=Object(u.useContext)(Qn.a),a=n.isDeterministic(),o=n.getStateCount(),i=o<=0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Transformations")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(rn,{title:"Equivalent Conversions"},c.a.createElement("div",null,a?c.a.createElement(wr,{id:"convertToNFA",onClick:function(){return t.applyChanges((function(e){return e.setDeterministic(!1)}),{machineOnly:!0})},disabled:i},c.a.createElement("span",null,"Convert to "),c.a.createElement("span",null,"NFA")):c.a.createElement(wr,{id:"convertToDFA",onClick:function(){return r({type:"send",component:vr,message:"".concat(o," state(s) -> ").concat(Math.pow(2,o)," states")})},disabled:i},c.a.createElement("span",null,"Convert to "),c.a.createElement("span",null,"DFA"))),c.a.createElement("hr",null),c.a.createElement("div",null,c.a.createElement(wr,{id:"removeUnreachableStates",onClick:function(){},disabled:!0},"Remove unreachable states"))),c.a.createElement(rn,{title:"Related Conversions"},c.a.createElement("div",null,c.a.createElement(wr,{id:"flipAllAcceptStates",onClick:function(){return r({type:"send",component:br})},disabled:i},"Flip all accept states")))))}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cr(e);if(t){var a=Cr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ar(this,n)}}function Ar(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}wr.propTypes={id:$.a.string.isRequired,children:$.a.node,className:$.a.string,style:$.a.object,disabled:$.a.bool,onClick:$.a.func},_r.Tab=Object(Qt.a)(B.g);var xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kr(e,t)}(o,e);var t,n,r,a=Ir(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this)}return t=o,(n=[{key:"uploadFile",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(e){var n=e.target.result;t(n)})),r.addEventListener("error",(function(e){n(new Error("Unable to import file: "+e.target.error.code))})),r.readAsText(e)}))}}])&&jr(t.prototype,n),r&&jr(t,r),o}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"uploadFile",value:function(e){return Promise.resolve(e)}}])&&Er(t.prototype,n),r&&Er(t,r),e}());function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t}},{key:"compose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t}}])&&Tr(t.prototype,n),r&&Tr(t,r),e}(),Mr=n(122);function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t}var t,n,r;return t=e,(n=[{key:"setGraphElementID",value:function(e){return this._id=e,this}},{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return e.x=e.y=0,e}},{key:"getGraphElementID",value:function(){return this._id}},{key:"getHashString",value:function(){return this._id}}])&&Rr(t.prototype,n),r&&Rr(t,r),e}();function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ur(e,t,n){return(Ur="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gr(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gr(e);if(t){var a=Gr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Br(this,n)}}function Br(e,t){return!t||"object"!==Dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(o,e);var t,n,r,a=Hr(o);function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Lr(this,o),(t=a.call(this,e)).x=n,t.y=r,t._label="",t}return t=o,(n=[{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return e.x=this.x,e.y=this.y,e}},{key:"setNodeLabel",value:function(e){return this._label=e,this}},{key:"getNodeLabel",value:function(){return this._label}},{key:"getNodeSize",value:function(){return 16}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?Ur(Gr(o.prototype),"getHashString",this).call(this,e)+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:Ur(Gr(o.prototype),"getHashString",this).call(this,e)+":"+this._label}}])&&Fr(t.prototype,n),r&&Fr(t,r),o}(Nr);function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,t,n){return(Jr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yr(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yr(e);if(t){var a=Yr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Wr(this,n)}}function Wr(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(o,e);var t,n,r,a=Xr(o);function o(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Qr(this,o),(n=a.call(this,e))._from=t,n._to=r,n._label="",n}return t=o,(n=[{key:"setEdgeFrom",value:function(e){if(!e)throw new Error("Source of edge cannot be null");return this._from=e,this}},{key:"setEdgeTo",value:function(e){return this._to=e,this}},{key:"setEdgeLabel",value:function(e){return this._label=e,this}},{key:"getEdgeDirection",value:function(){var e=this._from,t=this._to,n=Math.PI/2,r=0;if(this.isPlaceholder())r=Math.PI/4;else{var a=t.y-e.y,o=t.x-e.x;r=Math.atan2(a,o)}return(r>n||r<-n)&&(r+=Math.PI),r}},{key:"getStartPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from;return e.x=t.x,e.y=t.y,e}},{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(this.isPlaceholder()){var r=this.getPlaceholderLength()/2;e.x=t.x+r,e.y=t.y+r}else e.x=t.x+(n.x-t.x)/2,e.y=t.y+(n.y-t.y)/2;return e}},{key:"getEndPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var t=this._from,n=this.getPlaceholderLength();e.x=t.x+n,e.y=t.y+n}else{var r=this._to;e.x=r.x,e.y=r.y}return e}},{key:"getPlaceholderLength",value:function(){return this._from.getNodeSize()}},{key:"isPlaceholder",value:function(){return null===this._to}},{key:"isSelfLoop",value:function(){return this._from===this._to}},{key:"getEdgeLabel",value:function(){return this._label}},{key:"getEdgeFrom",value:function(){return this._from}},{key:"getEdgeTo",value:function(){return this._to}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this._from?this._from.getHashString(e):"",n=this._to?this._to.getHashString?this._to.getHashString(e):"0":"";return Jr(Yr(o.prototype),"getHashString",this).call(this,e)+":"+t+","+n+"."+this._label}}])&&Vr(t.prototype,n),r&&Vr(t,r),o}(Nr);function ea(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var aa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zr;na(this,e),this._nodeClass=t,this._edgeClass=n,this._nodeMapping=new Map,this._edgeMapping=new Map}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this.clearEdges(),this.clearNodes()}},{key:"isEmpty",value:function(){return this._nodeMapping.size<=0&&this._edgeMapping.size<=0}},{key:"getBoundingRect",value:function(){if(this._nodeMapping.size<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var e,t=Number.MAX_VALUE,n=Number.MAX_VALUE,r=Number.MIN_VALUE,a=Number.MIN_VALUE,o=0,i=ea(this._nodeMapping.values());try{for(i.s();!(e=i.n()).done;){var l=e.value,u=l.x,c=l.y,s=l.getNodeSize();s>o&&(o=s),t=Math.min(t,u),r=Math.max(r,u),n=Math.min(n,c),a=Math.max(a,c)}}catch(e){i.e(e)}finally{i.f()}t-=o,n-=o,r+=o,a+=o;var f,y=Number.MAX_VALUE,h=Number.MAX_VALUE,p=Number.MIN_VALUE,d=Number.MIN_VALUE,m={x:0,y:0},v={x:0,y:0},b={x:0,y:0},g=ea(this._edgeMapping.values());try{for(g.s();!(f=g.n()).done;){var S=f.value;S.getStartPoint(m),S.getEndPoint(v),S.getCenterPoint(b);var w=m.x,_=m.y,E=v.x,O=v.y,j=b.x,k=b.y;y=Math.min(y,w,E,j),p=Math.max(p,w,E,j),h=Math.min(h,_,O,k),d=Math.max(d,_,O,k)}}catch(e){g.e(e)}finally{g.f()}var I={minX:Math.min(t,y),minY:Math.min(n,h),maxX:Math.max(r,p),maxY:Math.max(a,d),width:0,height:0};return I.width=I.maxX-I.minX,I.height=I.maxY-I.minY,I}},{key:"getHashCode",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n="",r=ea(this._nodeMapping.values());try{for(r.s();!(e=r.n()).done;){var a=e.value;n+=a.getHashString(t)+","}}catch(e){r.e(e)}finally{r.f()}n+="|";var o,i=ea(this._edgeMapping.values());try{for(i.s();!(o=i.n()).done;){var l=o.value;n+=l.getHashString(t)+","}}catch(e){i.e(e)}finally{i.f()}return Object(de.f)(n)}},{key:"createNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addNode(new this._nodeClass(n||Object(de.g)(),e,t))}},{key:"addNode",value:function(e){return e.getGraphElementID()||e.setGraphElementID(Object(de.g)()),this._nodeMapping.set(e.getGraphElementID(),e),e}},{key:"deleteNode",value:function(e){var t=e.getGraphElementID();if(this._nodeMapping.has(t)){this._nodeMapping.delete(t);var n,r=[],a=ea(this.getEdges());try{for(a.s();!(n=a.n()).done;){var o=n.value;o.getEdgeFrom()===e?r.push(o):o.getEdgeTo()===e&&o.setEdgeTo(null)}}catch(e){a.e(e)}finally{a.f()}for(var i=0,l=r;i<l.length;i++){var u=l[i];this.deleteEdge(u)}}}},{key:"clearNodes",value:function(){this._nodeMapping.clear()}},{key:"getNodeByElementID",value:function(e){return this._nodeMapping.has(e)?this._nodeMapping.get(e):null}},{key:"getNodesByLabel",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=ea(this.getNodes());try{for(r.s();!(t=r.n()).done;){var a=t.value;a.getNodeLabel()===e&&n.push(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getNodes",value:function(){return Array.from(this._nodeMapping.values())}},{key:"getNodeCount",value:function(){return this._nodeMapping.size}},{key:"getNodeClass",value:function(){return this._nodeClass}},{key:"formatEdge",value:function(e){return e}},{key:"createEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addEdge(new this._edgeClass(n||Object(de.g)(),e,t))}},{key:"addEdge",value:function(e){return e.getGraphElementID()||e.setGraphElementID(Object(de.g)()),this._edgeMapping.set(e.getGraphElementID(),e),e}},{key:"deleteEdge",value:function(e){var t=e.getGraphElementID();this._edgeMapping.has(t)&&this._edgeMapping.delete(t)}},{key:"clearEdges",value:function(){this._edgeMapping.clear()}},{key:"getEdgeByElementID",value:function(e){return this._edgeMapping.has(e)?this._edgeMapping.get(e):null}},{key:"getEdgesByLabel",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=ea(this.getEdges());try{for(r.s();!(t=r.n()).done;){var a=t.value;a.getEdgeLabel()===e&&n.push(a)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getEdges",value:function(){return Array.from(this._edgeMapping.values())}},{key:"getEdgeCount",value:function(){return this._edgeMapping.size}},{key:"getEdgeClass",value:function(){return this._edgeClass}}])&&ra(t.prototype,n),r&&ra(t,r),e}();function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t,n){return(ua="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ya(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function ca(e,t){return(ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ya(e);if(t){var a=ya(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fa(this,n)}}function fa(e,t){return!t||"object"!==oa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ha=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ca(e,t)}(o,e);var t,n,r,a=sa(o);function o(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return ia(this,o),(n=a.call(this,e,t,r))._quad={radians:0,length:r?0:n.getPlaceholderLength(),coords:{x:0,y:0}},n}return t=o,(n=[{key:"setEdgeTo",value:function(e){var t=this._to;if(e!==t){var n=ua(ya(o.prototype),"setEdgeTo",this).call(this,e);return e?e===this._from&&(this._quad.length=this._from.getNodeSize()+this.getPlaceholderLength()):this.setQuadraticByCoords(t.x,t.y),n}return ua(ya(o.prototype),"setEdgeTo",this).call(this,e)}},{key:"setQuadraticRadians",value:function(e){return this._quad.radians=e,this}},{key:"setQuadraticLength",value:function(e){return this._quad.length=e,this}},{key:"setQuadraticByCoords",value:function(e,t){var n=this._from,r=this._to;if(!r){var a=this._from.x-e,o=this._from.y-t,i=-Math.atan2(a,o)-Math.PI/2;return this._quad.radians=i,this}var l=n.x,u=n.y,c=r.x-l,s=r.y-u,f=l+c/2,y=u+s/2,h=Math.atan2(-s,c);c=e-f,s=t-y;var p=Math.PI,d=p/2,m=Math.atan2(s,c)+h,v=Math.sqrt(c*c+s*s);v<0&&(v=0);var b=m- -d,g=m-d,S=p/20;return Math.abs(v)<8?(m=0,v=0):b<S&&b>-S?m=-d:-g<S&&-g>-S&&(m=d),this._quad.radians=m,this._quad.length=v,this}},{key:"getQuadraticLength",value:function(){return this._quad.length}},{key:"getQuadraticRadians",value:function(){return this._quad.radians}},{key:"getQuadratic",value:function(){return this._quad}},{key:"isQuadratic",value:function(){return!this.isPlaceholder()&&0!==this._quad.length}},{key:"getQuadraticAsCoords",value:function(){var e=this._from,t=this._to,n=this._quad.coords;return null==e||null==t?(n.x=0,n.y=0):Object(de.c)(e.x,e.y,t.x,t.y,this._quad.length,this._quad.radians,n),n}},{key:"getEdgeDirection",value:function(){var e=0;if(this.isQuadratic()){var t=this.getQuadraticAsCoords();e=Math.atan2(t.y,t.x)+Math.PI/2}else e=ua(ya(o.prototype),"getEdgeDirection",this).call(this);return e}},{key:"getStartPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=this._quad.radians,a=Math.cos(r),o=Math.sin(r),i=t.getNodeSize();return e.x=t.x+a*i,e.y=t.y+o*i,e}if("function"==typeof n.getNodeSize&&this.isQuadratic()){Object(de.d)(t.x,t.y,n.x,n.y,e);var l=this.getQuadraticAsCoords(),u=e.x+l.x,c=e.y+l.y;return Object(de.c)(t.x,t.y,u,c,t.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,e),e.x+=t.x,e.y+=t.y,e}return Object(de.c)(t.x,t.y,n.x,n.y,t.getNodeSize(),0,e),e.x+=t.x,e.y+=t.y,e}},{key:"getCenterPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=Math.cos(this._quad.radians),a=Math.sin(this._quad.radians),o=t.getNodeSize()+this.getPlaceholderLength()/2;return e.x=t.x+r*o,e.y=t.y+a*o,e}if(Object(de.d)(t.x,t.y,n.x,n.y,e),this.isQuadratic()){var i=this.getQuadraticAsCoords();e.x+=i.x,e.y+=i.y}return e}},{key:"getEndPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,n=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!n){var r=this._quad.radians,a=Math.cos(r),o=Math.sin(r),i=t.getNodeSize()+this.getPlaceholderLength();return e.x=t.x+a*i,e.y=t.y+o*i,e}if("function"!=typeof n.getNodeSize)return n;if(this.isQuadratic()){Object(de.d)(t.x,t.y,n.x,n.y,e);var l=this.getQuadraticAsCoords(),u=e.x+l.x,c=e.y+l.y;return Object(de.c)(n.x,n.y,u,c,n.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,e),e.x+=n.x,e.y+=n.y,e}return Object(de.c)(n.x,n.y,t.x,t.y,n.getNodeSize(),0,e),e.x+=n.x,e.y+=n.y,e}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?ua(ya(o.prototype),"getHashString",this).call(this,e)+":"+this._quad.radians+","+this._quad.length:ua(ya(o.prototype),"getHashString",this).call(this,e)}}])&&la(t.prototype,n),r&&la(t,r),o}(Zr);function pa(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return da(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ba(e,t){return(ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ga(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wa(e);if(t){var a=wa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Sa(this,n)}}function Sa(e,t){return!t||"object"!==ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _a=Mr.a.parse("1.0.0"),Ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ba(e,t)}(o,e);var t,n,r,a=ga(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this))._nodeIndices=new Map,e}return t=o,(n=[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("object"!==ma(e))throw new Error("Unable to parse data of non-object type");var n=Mr.a.parse(e._version||"0.0.0");if(!n.canSupportVersion(_a))throw new Error("Unable to parse data for incompatible version '"+n+"'");var r=e.nodes||[],a=Math.min(r.length||0,e.nodeCount||0),o=e.edges||[],i=Math.min(o.length||0,e.edgeCount||0);t=this.onParseGraphCreate(e,t);for(var l=this._nodeIndices,u=0;u<a;++u){var c=r[u];if(c){var s=t.createNode(c.x||0,c.y||0,c.id);s.setNodeLabel(c.label||""),this.onParseNode(c,s),l.set(u,s)}}for(var f=0;f<i;++f){var y=o[f];if(y){var h=l.get(y.from)||null;if(h){var p=l.get(y.to)||null,d=t.createEdge(h,p,y.id);d.setEdgeLabel(y.label||""),this.onParseEdge(y,d)}}}return this.onParseGraphResult(e,t),l.clear(),t}},{key:"compose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(e instanceof aa))throw new Error("Unable to compose target of non-graph type");t=this.onComposeGraphCreate(e,t);for(var n,r=e.getNodes()||[],a=r.length||0,o=e.getEdges()||[],i=o.length||0,l=new Array(a),u=this._nodeIndices,c=0;c<a;++c)if(n=r[c]){var s=n.getGraphElementID();u.set(n,c);var f={id:s,x:n.x||0,y:n.y||0,label:n.getNodeLabel()||""};this.onComposeNode(n,f),l[c]=f}for(var y,h=new Array(i),p=0;p<i;++p)if(y=o[p]){var d=y.getGraphElementID(),m=y.getEdgeFrom(),v=y.getEdgeTo(),b=u.has(m)?u.get(m):-1,g=u.has(v)?u.get(v):-1,S={id:d,from:b,to:g,label:y.getEdgeLabel()||""};this.onComposeEdge(y,S),h[p]=S}return t._version="1.0.0",t.nodeCount=a,t.nodes=l,t.edgeCount=i,t.edges=h,this.onComposeGraphResult(e,t),u.clear(),t}},{key:"onParseGraphCreate",value:function(e,t){var n=e.quad||!1;return t?t.clear():t=new aa(zr,n?ha:Zr),t}},{key:"onParseNode",value:function(e,t){}},{key:"onParseEdge",value:function(e,t){if(t instanceof ha){var n=e.quad||{};t.setQuadraticRadians(n.radians||0),t.setQuadraticLength(n.length||0)}}},{key:"onParseGraphResult",value:function(e,t){}},{key:"onComposeGraphCreate",value:function(e,t){return t||{}}},{key:"onComposeNode",value:function(e,t){}},{key:"onComposeEdge",value:function(e,t){if(e instanceof ha){var n=e.getQuadratic()||{};t.quad={radians:n.radians||0,length:n.length||0}}}},{key:"onComposeGraphResult",value:function(e,t){var n,r=!1,a=pa(e.getEdges());try{for(a.s();!(n=a.n()).done;)if(n.value instanceof ha){r=!0;break}}catch(e){a.e(e)}finally{a.f()}t.hasQuad=r}}])&&va(t.prototype,n),r&&va(t,r),o}(Pr),Oa=(new Ea,Ea);function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ia(e,t,n){return(Ia="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ta(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Aa(e,t){return(Aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ta(e);if(t){var a=Ta(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return xa(this,n)}}function xa(e,t){return!t||"object"!==ja(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}(o,e);var t,n,r,a=Ca(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=a.call(this,e,t))._nodes=[],n}return t=o,(n=[{key:"setStartNode",value:function(e){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var t=this._nodes.indexOf(e);if(t>0){var n=this._nodes[0];this._nodes[0]=e,this._nodes[t]=n}else if(t<0)throw new Error("Cannot set start node for unknown node")}}},{key:"getStartNode",value:function(){return this._nodes.length>0?this._nodes[0]:null}},{key:"getNodeByIndex",value:function(e){return this._nodes[e]}},{key:"addNode",value:function(e){return this._nodes.push(e),Ia(Ta(o.prototype),"addNode",this).call(this,e)}},{key:"deleteNode",value:function(e){Ia(Ta(o.prototype),"deleteNode",this).call(this,e);var t=this._nodes.indexOf(e);t>=0&&this._nodes.splice(t,1)}},{key:"clearNodes",value:function(){Ia(Ta(o.prototype),"clearNodes",this).call(this),this._nodes.length=0}},{key:"getNodes",value:function(){return this._nodes}}])&&ka(t.prototype,n),r&&ka(t,r),o}(aa);function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Na(e,t,n){return(Na="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ua(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function La(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ua(e);if(t){var a=Ua(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Fa(this,n)}}function Fa(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ua(e){return(Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}(o,e);var t,n,r,a=La(o);function o(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=a.call(this,e,t,n))._accept=!1,r._custom=!1,r}return t=o,(n=[{key:"setNodeAccept",value:function(e){this._accept=e}},{key:"getNodeAccept",value:function(){return this._accept}},{key:"setNodeCustom",value:function(e){this._custom=e}},{key:"getNodeCustom",value:function(){return this._custom}},{key:"getHashString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Na(Ua(o.prototype),"getHashString",this).call(this,e)+":"+(this._accept?"1":"0")}}])&&Ra(t.prototype,n),r&&Ra(t,r),o}(zr);function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e,t,n){return(za="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ja(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function $a(e,t){return($a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ja(e);if(t){var a=Ja(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Va(this,n)}}function Va(e,t){return!t||"object"!==Ha(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ja(e){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$a(e,t)}(o,e);var t,n,r,a=Qa(o);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Ba(this,o),a.call(this,e,t,n)}return t=o,(n=[{key:"setEdgeLabel",value:function(e){"string"==typeof e?za(Ja(o.prototype),"setEdgeLabel",this).call(this,e):za(Ja(o.prototype),"setEdgeLabel",this).call(this,"ε")}}])&&Ga(t.prototype,n),r&&Ga(t,r),o}(ha);function Xa(e){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eo(e);if(t){var a=eo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Za(this,n)}}function Za(e,t){return!t||"object"!==Xa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var to=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(n,e);var t=Ya(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,qa,Ka)}return n}(Pa);function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t,n){return(ao="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=uo(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function oo(e,t){return(oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function io(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uo(e);if(t){var a=uo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return lo(this,n)}}function lo(e,t){return!t||"object"!==no(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uo(e){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Mr.a.parse("1.0.0");var co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oo(e,t)}(o,e);var t,n,r,a=io(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this)}return t=o,(n=[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ao(uo(o.prototype),"parse",this).call(this,e,t)}},{key:"compose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ao(uo(o.prototype),"compose",this).call(this,e,t)}},{key:"onParseGraphCreate",value:function(e,t){return t?t.clear():t=new to,t}},{key:"onParseGraphResult",value:function(e,t){var n=this._nodeIndices,r=e.initial||0,a=n.get(r);a&&t.setStartNode(a)}},{key:"onParseNode",value:function(e,t){t.setNodeAccept(e.accept||!1),t.setNodeCustom(e.custom||!1)}},{key:"onComposeNode",value:function(e,t){t.accept=e.getNodeAccept()||!1,t.custom=e.getNodeCustom()||!1}},{key:"onComposeGraphResult",value:function(e,t){var n=this._nodeIndices,r=e.getStartNode(),a=n.get(r)||0;t.initial=a}}])&&ro(t.prototype,n),r&&ro(t,r),o}(Oa),so=(new co,co);function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yo(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ho(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function po(e){if(e.getNodeCount()<=1)return[];var t=e.getEdges(),n=e.getNodes().slice(),r=n.shift(),a=[];for(a.push(r);a.length>0;){var o,i=a.pop(),l=yo(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(u.getEdgeFrom()===i){var c=n.indexOf(u.getEdgeTo());if(c>=0){var s=n.splice(c,1)[0];a.push(s)}}}}catch(e){l.e(e)}finally{l.f()}}return n}function mo(e){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||go(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=go(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function go(e,t){if(e){if("string"==typeof e)return So(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?So(e,t):void 0}}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _o(e,t){return(_o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jo(e);if(t){var a=jo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Oo(this,n)}}function Oo(e,t){return!t||"object"!==mo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_o(e,t)}(o,e);var t,n,r,a=Eo(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this))._machine=new ke,e._errors=[],e._warnings=[],e}return t=o,(n=[{key:"attemptBuildGraph",value:function(e,t){t.clear();var n,r,a,o,i,l=new Map,u=bo(e.getStates());try{for(u.s();!(r=u.n()).done;){var c=r.value;(n=t.createNode(0,0)).setNodeLabel(c.getStateLabel()),e.isFinalState(c)&&n.setNodeAccept(!0),l.set(c,n)}}catch(e){u.e(e)}finally{u.f()}var s,f=bo(e.getTransitions());try{for(f.s();!(s=f.n()).done;){var y=s.value;(a=l.get(y.getSourceState()))&&(i=y.getSymbols().join(" "),(o=l.get(y.getDestinationState()))&&t.createEdge(a,o).setEdgeLabel(i))}}catch(e){f.e(e)}finally{f.f()}var h=e.getStartState(),p=t.getNodesByLabel(h);return p&&p.length>0&&t.setStartNode(p[0]),t}},{key:"attemptBuildMachine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this._errors=n,this._warnings=r,n.length=0,r.length=0;var a=t.isDeterministic();t.clear();var o,i=new Map,l=new Map,u=new Set,c=[],s=[],f=e.getNodes(),y=e.getEdges(),h=e.getStartNode(),p=bo(f);try{for(p.s();!(o=p.n()).done;){var d=o.value,m=d.getNodeLabel(),v=new Oe(m,d);t.addState(v),d.getNodeAccept()&&t.setFinalState(v,!0),h===d&&t.setStartState(v),i.has(m)?i.get(m).push(v):i.set(m,[v]),l.set(v,new Map)}}catch(e){p.e(e)}finally{p.f()}var b,g=bo(y);try{for(g.s();!(b=g.n()).done;){var S=b.value,w=S.getEdgeFrom(),_=S.getEdgeTo();if(!S.isPlaceholder()&&w instanceof qa&&_ instanceof qa){var E=t.getStateByID(w.getGraphElementID()),O=t.getStateByID(_.getGraphElementID());if(!E||!O)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var j,k=S.getEdgeLabel().split(" "),I=bo(k);try{for(I.s();!(j=I.n()).done;){var A=j.value;if(A){"ε"===A?s.push(S):u.add(A);var C=void 0;switch(A){case"ε":C="&empty";break;default:C=A}var x=l.get(E),T=x.get(C);T||x.set(C,T=new Array),T.push(S),t.addTransition(E,O,C)}}}catch(e){I.e(e)}finally{I.f()}}else c.push(S)}}catch(e){g.e(e)}finally{g.f()}var P,M=bo(i.entries());try{for(M.s();!(P=M.n()).done;){var R=vo(P.value,2),N=R[0],D=R[1];D.length>1&&n.push({name:"duplicate_state",label:N,nodes:D.map((function(e){return e.getSource()}))})}}catch(e){M.e(e)}finally{M.f()}c.length>0&&n.push({name:"incomplete_transition",edges:c});var L=po(e);if(L&&L.length>0&&r.push({name:"unreachable_state",nodes:L}),a){s.length>0&&n.push({name:"empty_transition",edges:s});var F,U=[],q=bo(l.entries());try{for(q.s();!(F=q.n()).done;){var H,B=vo(F.value,2),G=B[0],z=B[1],$=bo(u);try{for($.s();!(H=$.n()).done;){var Q=H.value,V=z.get(Q);V?1!==V.length&&n.push({name:"duplicate_transition",edges:V,symbol:Q}):U.push(Q)}}catch(e){$.e(e)}finally{$.f()}U.length>0&&(n.push({name:"missing_transition",node:G.getSource(),symbols:U.slice()}),U.length=0)}}catch(e){q.e(e)}finally{q.f()}}return n.length<=0?t:null}},{key:"getMachine",value:function(){return this._machine}},{key:"getMachineHashCode",value:function(){return Object(de.f)(JSON.stringify(this._machine))}}])&&wo(t.prototype,n),r&&wo(t,r),o}(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"attemptBuildMachine",value:function(e,t){throw new Error("Should be overriden.")}},{key:"getMachine",value:function(){throw new Error("Should be overriden.")}},{key:"getMachineHashCode",value:function(){throw new Error("Should be overriden.")}}])&&fo(t.prototype,n),r&&fo(t,r),e}());function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Co(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e){var t=te(ft,"graph"),n=Ao(Object(u.useState)(null),2),r=n[0],a=n[1],o=Ao(Object(u.useState)(null),2),i=o[0],l=o[1],s=Ao(Object(u.useState)(""),2),y=s[0],h=s[1];return c.a.createElement(xn,{title:"Equivalence Tester"},c.a.createElement("div",null,c.a.createElement(f.a,{onUpload:function(e){var t,n=e.target.files;n.length>0?(t=n[0],new Promise((function(e,n){(new xr).uploadFile(t).then((function(t){var n=JSON.parse(t),r=new so,a=new to;r.parse(n.graphData,a);var o=new ko,i=new ke;o.attemptBuildMachine(a,i),e(i||null)}))}))).then((function(e){return a(e)})).catch((function(e){return a(e.message)})):a(null),e.target.value=null}})),c.a.createElement(wr,{id:"testEquivalenceTargetFile",onClick:function(){if("object"===Io(r)){var e=(a=t,pr((n=r).isDeterministic()?n:Kn(n),a.isDeterministic()?a:Kn(a)));e.value?(l(!0),h("")):e.witnessString?(l(!1),h("Witness: "+e.witnessString)):(l(!1),h("Sorry, unable to evaluate because the machines have different alphabets."))}else r&&(l(null),h(r));var n,a}},"Test Machine"),c.a.createElement("output",{htmlFor:"testEquivalenceTargetFile"},c.a.createElement("p",null,null===i?"-- ??? --":i?"-- Equivalent --":"-- Not Equivalent --"),c.a.createElement("p",null,y)))}function To(e){var t,n=e.value,r=e.result,a=e.onClick,o=e.onChange,i=e.onRemove;switch(r){case"pass":t="☑";break;case"fail":t="☒";break;case"none":t="☐";break;default:throw new Error("Unknown status '".concat(r,"'."))}return c.a.createElement("p",null,c.a.createElement(H.a,{title:"Run",style:{fill:"white"},iconClass:B.h,onClick:a}),c.a.createElement("input",{type:"text",value:n,placeholder:"ε",onChange:o}),c.a.createElement("label",{style:{fontSize:"1.5rem"}},t),c.a.createElement(H.a,{title:"Remove",iconClass:B.l,onClick:i}))}function Po(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mo(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}To.propTypes={value:$.a.string.isRequired,result:$.a.oneOf(["pass","fail","none"]),onClick:$.a.func,onChange:$.a.func,onRemove:$.a.func};function Ro(e){var t=e.onClick;return c.a.createElement("div",null,c.a.createElement(f.a,{iconClass:B.n,accept:".txt",onUpload:function(e){var n,r=[],a=Po(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;r.push(o)}}catch(e){a.e(e)}finally{a.f()}var i=[];r.reduce((function(e,t){return e.then((function(){return t.text()})).then((function(e){return e.split("\n")})).then((function(e){var t,n=Po(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;i.push(r)}}catch(e){n.e(e)}finally{n.f()}}))}),Promise.resolve()).then((function(){return t(i)}))},multiple:!0}))}Ro.propTypes={onClick:$.a.func};var No=n(411);function Do(e){var t=e.testStrings;return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){Object(No.d)("test.txt",t.join("\n"))}},"Export Test Strings"))}function Lo(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=qo(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function Fo(e){return function(e){if(Array.isArray(e))return Ho(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||qo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||qo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qo(e,t){if(e){if("string"==typeof e)return Ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ho(e,t):void 0}}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bo(e){var t=Uo(Object(u.useState)([]),2),n=t[0],r=t[1],a=te(e.machineBuilderType,e.machineName),o=Object(u.useCallback)((function(){var e=Go();r([].concat(Fo(n),[e]))}),[n,r]),i=Object(u.useCallback)((function(e){var t,n=[],a=Lo(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n.push(Go(o))}}catch(e){a.e(e)}finally{a.f()}r(n)}),[r]),l=n.length<=0;return c.a.createElement(xn,{title:"String Tester"},c.a.createElement(Ro,{onClick:i}),c.a.createElement(Do,{testStrings:n.map((function(e){return e.value}))}),c.a.createElement(In.a,{disabled:l,onClick:function(){var e,t=Fo(n),o=Lo(t);try{for(o.s();!(e=o.n()).done;){var i=e.value,l=nr(a,i.value);i.result=l?"pass":"fail"}}catch(e){o.e(e)}finally{o.f()}r(t)}},"Run All"),c.a.createElement(In.a,{disabled:l,onClick:function(){return r([])}},"Remove All Tests"),n.map((function(e,t){return c.a.createElement(To,{key:e.id,value:e.value,result:e.result,onClick:function(e){var o=Fo(n),i=o[t];i.result=nr(a,i.value)?"pass":"fail",r(o)},onChange:function(e){var a=Fo(n);a[t].value=e.target.value,r(a)},onRemove:function(e){var a=Fo(n);a.splice(t,1),r(a)}})})),c.a.createElement(wr,{id:"testStringButton",onClick:o},"Add Test String"))}function Go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return{id:Object(de.g)(),value:e,result:t}}function zo(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Testing")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(rn,{title:"Strings"},c.a.createElement(Bo,{machineBuilderType:ft,machineName:"graph"})),c.a.createElement(rn,{title:"Machines"},c.a.createElement(xo,null))))}Do.propTypes={testStrings:$.a.arrayOf($.a.string)},Bo.propTypes={machineBuilderType:$.a.elementType.isRequired,machineName:$.a.string},Bo.defaultProps={},zo.Tab=Object(Qt.a)(B.j);var $o=n(399);function Qo(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vo(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ko(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xo(e){var t=Object(u.useContext)($o.a).svgRef,n=Object(p.c)(),r=Object(p.b)(),a=Jo(Object(u.useState)("Untitled"),2),o=a[0],i=a[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Export")),c.a.createElement("section",null,c.a.createElement(Ln,{id:"fileName",value:o,onChange:function(e){return i(e.target.value)}},"Enter filename"),c.a.createElement("ul",{style:{padding:0,listStyle:"none"}},c.a.createElement("li",null,c.a.createElement(wr,{id:"exportGraph",onClick:function(){return Wo(o,"graph",{graphType:n,graphState:r})}},"Save to File")),c.a.createElement("li",null,c.a.createElement(wr,{id:"exportJFLAP",onClick:function(){return Wo(o,"jflap",{graphType:n,graphState:r})}},"Export to JFF")),c.a.createElement("li",null,c.a.createElement(wr,{id:"exportToImage",onClick:function(){return Wo(o,"image",{svgRef:t})}},"Export to Image")),c.a.createElement("li",null,c.a.createElement(wr,{id:"exportToSVG",onClick:function(){return Wo(o,"svg",{svgRef:t})}},"Export to SVG")))))}function Wo(e,t,n){switch(e||(e="Untitled"),t){case"image":No.c(e+".png",No.a,n.svgRef.current,640,480);break;case"svg":No.c(e+".svg",No.b,n.svgRef.current,640,480);break;case"graph":No.d(e+".fa.json",(r=n.graphType,a=n.graphState,JSON.stringify(r.serialize(a,{}))));break;case"jflap":No.d(e+".jff",function(e,t){if("function"!=typeof e)throw new Error("Missing graph type class.");var n=e.getElements(t,v.a),r=e.getElements(t,C.a),a=(new DOMParser).parseFromString('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\x3c!--Created from Flap.js Web App 0.5.0--\x3e<structure></structure>',"application/xml"),o=a.querySelector("structure"),i=a.createElement("type");i.innerHTML="fa",o.appendChild(i);var l=a.createElement("automaton");o.appendChild(l);var u,c=new Map,s=0,f=Qo(n);try{for(f.s();!(u=f.n()).done;){var y=u.value;c.set(y.id,s);var h=a.createElement("state");h.id=String(s++),h.setAttribute("name",y.label),l.appendChild(h);var p=a.createElement("x");p.innerHTML=String(Math.round(100*y.x)/100||0),h.appendChild(p);var d=a.createElement("y");if(d.innerHTML=String(Math.round(100*y.y)/100||0),h.appendChild(d),y.initial){var m=a.createElement("initial");h.appendChild(m)}if(y.accept){var b=a.createElement("final");h.appendChild(b)}}}catch(e){f.e(e)}finally{f.f()}var g,S=Qo(r);try{for(S.s();!(g=S.n()).done;){var w=g.value,_=c.get(w.fromId),E=c.get(w.toId);if("number"==typeof _&&"number"==typeof E){var O,j=Qo(w.label.split("\n"));try{for(j.s();!(O=j.n()).done;){var k=O.value,I=a.createElement("transition");l.appendChild(I);var A=a.createElement("from");A.innerHTML=String(_),I.appendChild(A);var x=a.createElement("to");x.innerHTML=String(E),I.appendChild(x);var T=a.createElement("read");T.innerHTML=String(k),I.appendChild(T)}}catch(e){j.e(e)}finally{j.f()}}}}catch(e){S.e(e)}finally{S.f()}return(new XMLSerializer).serializeToString(a)}(n.graphType,n.graphState))}var r,a}function Yo(e){return re(e.machineBuilderType),c.a.createElement(c.a.Fragment,null)}function Zo(e){return function(e){if(Array.isArray(e))return ti(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ei(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){if(e){if("string"==typeof e)return ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ti(e,t):void 0}}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ni(e){var t=e.machineBuilderType,n=ne(t),r=Object(u.useContext)(Qn.a),a=Object(u.useRef)([]);return Object(u.useEffect)((function(){var e=[].concat(Zo(n.errors),Zo(n.warnings)),o=t.name+".errors";if(function(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!0;return!1}(a.current,e)){r({type:"dismiss",tags:[o]}),a.current=Zo(e);var i,l=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=ei(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}(a.current);try{for(l.s();!(i=l.n()).done;){var u=i.value;u.type="send",Array.isArray(u.tags)||(u.tags=[]),u.tags.push(o),r(u)}}catch(e){l.e(e)}finally{l.f()}}})),c.a.createElement(c.a.Fragment,null)}Xo.Tab=Object(Qt.a)(B.d),Yo.propTypes={machineBuilderType:$.a.elementType.isRequired},ni.propTypes={machineBuilderType:$.a.elementType.isRequired};var ri=n(423),ai=n(458),oi=n.n(ai);function ii(e){var t=e.className,n=e.style,r=e.placeholder,a=e.disabled,o=e.value,i=e.onChange;return c.a.createElement("div",{className:"".concat(oi.a.element," ").concat(t)},c.a.createElement("span",null,"("),c.a.createElement("textarea",{style:n,value:o,placeholder:r,disabled:a,onChange:i}),c.a.createElement("span",null,")"))}function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ci(e){var t=e.element,n=e.closeEditor,r=Object(u.useContext)(s.a),a=li(Object(u.useState)(t.label),2),o=a[0],i=a[1],l=li(Object(u.useState)(t.final),2),f=l[0],y=l[1];return c.a.createElement("div",{onContextMenu:si},c.a.createElement(ii,{value:o,onChange:function(e){return i(e.target.value)}}),c.a.createElement(vn,{id:"acceptNodeSwitch",checked:f,onChange:function(e){t.final=e,t.markDirty(),y(t.final)}},"Accepted"),c.a.createElement(In.a,{onClick:function(){t.label=o,t.markDirty(),n()}},"Change Label"),c.a.createElement(In.a,{onClick:function(){r({type:"delete",elementType:v.a,elementId:t.id}),n()}},"Delete This"))}function si(e){return e.preventDefault(),e.stopPropagation(),!1}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hi(e){var t=e.element,n=e.closeEditor,r=Object(u.useContext)(s.a),a=fi(Object(u.useState)(t.label),2),o=a[0],i=a[1];return c.a.createElement("div",{onContextMenu:pi},c.a.createElement(ii,{value:o,onChange:function(e){return i(e.target.value)}}),c.a.createElement(In.a,{onClick:function(){t.label=o,t.markDirty(),n()}},"Submit"),c.a.createElement(In.a,{onClick:function(){r({type:"delete",elementType:C.a,elementId:t.id}),n()}},"Delete This"))}function pi(e){return e.preventDefault(),e.stopPropagation(),!1}function di(e){var t=Object(u.useContext)(Ft.a),n=t.elementType,r=t.elementId,a=t.closeEditor,o=Object(jt.a)(),i=Object(kt.a)(n,r,o);return c.a.createElement(ri.a,null,i&&(n===v.a?c.a.createElement(ci,{element:i,closeEditor:a}):c.a.createElement(hi,{element:i,closeEditor:a})))}function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return(gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_i(e);if(t){var a=_i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return wi(this,n)}}function wi(e,t){return!t||"object"!==mi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ii.propTypes={children:$.a.node,className:$.a.string,style:$.a.object,placeholder:$.a.string,disabled:$.a.bool,value:$.a.string,onChange:$.a.func},ii.defaultProps={value:""},ci.propTypes={element:$.a.object.isRequired,closeEditor:$.a.func.isRequired},hi.propTypes={element:$.a.object.isRequired,closeEditor:$.a.func.isRequired};var Ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gi(e,t)}(c,e);var t,n,r,u=Si(c);function c(){return vi(this,c),u.apply(this,arguments)}return t=c,r=[{key:"moduleId",get:function(){return"fa"}},{key:"moduleVersion",get:function(){return"4.0.0"}},{key:"providers",get:function(){return[]}},{key:"renders",get:function(){return{header:[zt,$t],appbar:[G],playarea:[[Yo,{machineBuilderType:ft}],[ni,{machineBuilderType:ft}]],viewarea:[],drawer:[$n,zo,_r,Xo]}}},{key:"services",get:function(){return[i.a,o.a.withInitialMessages(["Hello"]),a.a.withGraphType(I,Ht,di),l.a]}}],(n=null)&&bi(t.prototype,n),r&&bi(t,r),c}(r.a)}}]);