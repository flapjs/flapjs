(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{102:function(e,t,a){e.exports={element:"src-components-lib-__TextArea-module__element--2gbYq"}},108:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Tr}));var r=a(23),n=a(47),s=a(48),i=a(43),l=a(35),o=a(0),c=a.n(o),d=a(29),u=a(50),h=a(82),g=a(83),m=a(28),p=a(81),f=a(73),v=a(26);class b extends f.a{static get version(){return"1.0.0"}static reducer(e,t){switch(t.type){case"add":if(t.elementType===v.a){var[a,r]=Object(d.c)(this,e,{type:"add",elementType:v.a,opts:t.opts}),n=Object.keys(a[this.getElementTypeKeyForElementType(v.a)]).length;return r.label="q"+(n-1),1===n&&(r.initial=!0),[a,r]}}}}var E=a(27),y=a(6);function S(e,t,a,r,n,s,i){try{var l=e[s](i),o=l.value}catch(e){return void a(e)}l.done?t(o):Promise.resolve(o).then(r,n)}function _(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function i(e){S(s,r,n,i,l,"next",e)}function l(e){S(s,r,n,i,l,"throw",e)}i(void 0)}))}}var x,C=new y.a("FiniteAutomataImporter");function R(e){return w.apply(this,arguments)}function w(){return(w=_((function*(e){var t=e.name,a=yield Object(p.a)(e),r={};try{t.endsWith(".fa.json")?r=b.deserialize(JSON.parse(a),{}):t.endsWith(".fsa.json")?r=N(a):t.endsWith(".jff")?r=M(a):t.endsWith(".json")?r=I(a):window.alert("Cannot import file with extension '".concat(t,"'."))}catch(e){C.error("Failed to import file.",e)}return r}))).apply(this,arguments)}function N(e){var t=JSON.parse(e);if("_metadata"in t)throw new Error("Missing metadata.");if("fsa"!==t._metadata.moduleID)throw new Error("Invalid module id.");throw new Error("Not yet implemented.")}function I(e){throw new Error("Not yet implemented.")}function M(e){var t=b.getElementTypeKeyForElementType(v.a),a=b.getElementTypeKeyForElementType(E.a),r={[t]:{},[a]:{}},n=(new DOMParser).parseFromString(e,"text/xml"),s=n.getElementsByTagName("state")||[],i=n.getElementsByTagName("transition")||[],l=r[t];for(var o of s)if(o.hasAttribute("id")){var c=o.getAttribute("id"),d=o.getAttribute("name"),u={x:Number.parseFloat(T(o,"x","0")),y:Number.parseFloat(T(o,"y","0")),label:d,initial:o.getElementsByTagName("initial").length>0,accept:o.getElementsByTagName("final").length>0};l[c]=u}var h=new Map,g=r[a],m=0;for(var p of i){var f=T(p,"from",null),y=T(p,"to",null);if(f&&y){var S=T(p,"read",""),_=f+":"+y;if(h.has(_)){h.get(_).label+="\n"+S}else{var x={fromId:f,toId:y,label:S};g["".concat(++m)]=x,h.set(_,x)}}}return b.deserialize(r,{},{forceIgnoreVersion:!0})}function T(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e.getElementsByTagName(t);if(r.length>0)for(var n of r)if(n.hasChildNodes())try{return n.childNodes[0].nodeValue}catch(e){}return a}x=R,$RefreshReg$(R,"FiniteAutomataImporter"),$RefreshReg$(x,"FiniteAutomataImporter");var O=a(7),$=a(4),j=a(5),k=$RefreshSig$(),L=new y.a("FiniteAutomataToolbar");function A(e){k();var t=Object(o.useContext)(d.d),a=Object(m.b)(),r=Object(o.useContext)(d.a),n=Object(o.useContext)(O.b),s=Object(o.useCallback)(e=>{var a=JSON.parse(e),n=t.deserialize(a,{});r({type:"resetState",state:n})},[r,t]);return Object(g.a)(t,()=>JSON.stringify(t.serialize(a,{}))),Object(o.useEffect)(()=>{L.debug("Performing autosave...");var e=t.serialize(a,{});localStorage.setItem(t.name+".graphData",JSON.stringify(e))}),c.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},c.a.createElement($.a,{iconClass:j.f,onClick:()=>r("clearAll"),title:"New"}),c.a.createElement(h.b,{source:t,update:s}),c.a.createElement(h.a,{source:t,update:s}),c.a.createElement($.a,{iconClass:j.d,onClick:()=>n({type:"change-tab",value:3}),title:"Save"}),c.a.createElement(u.a,{iconClass:j.n,onUpload:e=>R(e).then(e=>r({type:"resetState",state:e}))}))}k(A,"GRTXqR2yqI/rY6dltT+vu7hqPCM=",!1,(function(){return[m.b,g.a]})),$RefreshReg$(A,"FiniteAutomataToolbar");var P=a(1),F=a.n(P),D=a(89),q=a(75),G=a(31),B=a(67),H=new Map;function Q(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];H.has(e)||H.set(e,new Map);var r=H.get(e);if(r.has(t)){var n=r.get(t);return n}if(!a)throw new Error("Cannot find non-existent machine builder for type '".concat(e.name,"' and name '").concat(t,"'."));var s=new e,i={builder:s,refCount:0,persistent:!1};return r.set(t,i),i}var V=$RefreshSig$(),z=$RefreshSig$(),U=$RefreshSig$();function J(e,t){V();var[a,r]=Object(o.useState)(null),n=Object(o.useContext)(G.a)+":"+t,s=Q(e,n,!0).builder;return Object(B.a)(()=>{var e=s.getCurrentBuildId();e!==a&&r(e)}),function(e,t){Q(e,t,!1).refCount+=1}(e,n),Object(o.useEffect)(()=>()=>{!function(e,t){Q(e,t,!1).refCount-=1}(e,n),function(e,t){var a=Q(e,t,!1);return a.persistent||a.refCount>0}(e,n)||function(e,t){if(H.has(e)){var a=H.get(e);a.has(t)&&a.delete(t)}}(e,n)}),s}function X(e,t){return z(),J(e,t).getMachine()}function K(e,t,a){U();var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(e,t)=>{},n=Object(o.useContext)(G.a),s=n+":"+t,i=Q(e,s,!0),l=i.builder,c=i.opts||{};i.opts={};var d=Object(o.useCallback)((e,t)=>{i.opts=t,r.call(void 0,e,t)},[r,i]);l.setSourceCallback(d),l.applySource(a,c)}V(J,"4rOoIavkmIkeYDQdOJE2H+hj5F8=",!1,(function(){return[B.a]})),z(X,"EDjX3jhQXI3egMuxDK7xJE7/Acs=",!1,(function(){return[J]})),U(K,"3/9nZNJSIZhjm51QWAIWVfnQzmg=");var Y=$RefreshSig$(),W=$RefreshSig$(),Z=$RefreshSig$();function ee(e){return Y(),J(e,"graph")}function te(e){return W(),X(e,"graph")}function ae(e){Z();var t=Object(m.c)(),a=Object(m.b)(),r=Object(m.a)();K(e,"graph",a,(n,s)=>e.updateGraphFromMachine(t,a,r,n,s))}function re(e,t,a,r,n,s,i){try{var l=e[s](i),o=l.value}catch(e){return void a(e)}l.done?t(o):Promise.resolve(o).then(r,n)}Y(ee,"BF50W6wJQIN3o5A+SAyHt9RF8Ok=",!1,(function(){return[J]})),W(te,"h05vnEfuaRqE9Ulnpd3diupzsto=",!1,(function(){return[X]})),Z(ae,"5D/m5OLAGxtcOrXCp+LEqF/rap4=",!1,(function(){return[m.c,m.b,m.a,K]}));var ne=a(32),se=a(25);function ie(e){return Object(se.f)(function(e){if(!e)return"";var t=b.getElementTypeKeyForElementType(v.a),a=b.getElementTypeKeyForElementType(E.a),r=e[t]?Object.keys(e[t]).sort():[],n=e[a]?Object.keys(e[a]).sort():[],s=[];for(var i of r){var l=e[t][i];s.push("".concat(l.id," ").concat(l.label," ").concat(l.final))}var o=[];for(var c of n){var d=e[a][c];o.push("".concat(d.fromId," ").concat(d.toId," ").concat(d.label))}return"n:"+s.join(",")+"|e:"+o.join(",")}(e))}var le=a(40);var oe=a(34);function ce(e,t,a){e({type:"delete",elementType:t,elementId:a})}function de(e,t){ce(e,E.a,t)}var ue,he,ge=$RefreshSig$();function me(e){ge();var{message:t,messageId:a}=e,{edgeIds:r}=t,n=Object(m.a)();return c.a.createElement(oe.a,{messageId:a,mode:"error",message:"Found ".concat(r.length," incomplete transition(s)."),renderControls:e=>c.a.createElement("div",null,c.a.createElement("button",{onClick:()=>{de(n,r),e()}},"Delete all incomplete edges."))})}function pe(e){var{message:t,messageId:a}=e,{nodeIds:r,label:n}=t;return c.a.createElement(oe.a,{messageId:a,mode:"error",message:"Found ".concat(r.length," duplicate states for ").concat(n,".")})}ge(me,"ZC+nXBmMlOkgWTATsr75RqVkYSg=",!1,(function(){return[m.a]})),ue=me,me.propTypes={messageId:F.a.string.isRequired,message:F.a.shape({edgeIds:F.a.arrayOf(F.a.string)})},$RefreshReg$(ue,"IncompleteTransitionErrorMessage"),he=pe,pe.propTypes={messageId:F.a.string.isRequired,message:F.a.shape({nodeIds:F.a.arrayOf(F.a.string),label:F.a.string})},$RefreshReg$(he,"DuplicateNodeErrorMessage");var fe,ve=$RefreshSig$();function be(e){ve();var{message:t,messageId:a}=e,{nodeIds:r,labels:n}=t,s=Object(m.a)();return c.a.createElement(oe.a,{messageId:a,mode:"warning",message:"Found ".concat(r.length," unreachable states labeled: \n ").concat(n.join(", ")),renderControls:e=>c.a.createElement("div",null,c.a.createElement("button",{onClick:()=>{!function(e,t){!function(e,t,a){e({type:"deleteAll",elementType:t,elementIds:a})}(e,v.a,t)}(s,r),e()}},"Delete all unreachable."))})}ve(be,"ZC+nXBmMlOkgWTATsr75RqVkYSg=",!1,(function(){return[m.a]})),fe=be,be.propTypes={messageId:F.a.string.isRequired,message:F.a.shape({nodeIds:F.a.arrayOf(F.a.string),labels:F.a.arrayOf(F.a.string)})},$RefreshReg$(fe,"UnreachableNodeErrorMessage");var Ee,ye,Se,_e=$RefreshSig$();function xe(e){_e();var{message:t,messageId:a}=e,{edgeIds:r}=t,n=Object(m.a)();return c.a.createElement(oe.a,{messageId:a,mode:"error",message:"Found ".concat(r.length," empty transition(s).\nReason: Deterministic."),renderControls:e=>c.a.createElement("div",null,c.a.createElement("button",{onClick:()=>{de(n,r),e()}},"Delete all empty transitions."))})}function Ce(e){var{message:t,messageId:a}=e,{edgeIds:r,fromNodeLabel:n,symbol:s}=t;return c.a.createElement(oe.a,{messageId:a,mode:"error",message:"Found ".concat(r.length," duplicate transitions from state ").concat(n," with symbol ").concat(s,".\nReason: Deterministic.")})}function Re(e){var{message:t,messageId:a}=e,{symbols:r,label:n}=t;return c.a.createElement(oe.a,{messageId:a,mode:"error",message:"Node ".concat(n," is missing transtion(s) for the following symbol(s) ").concat(r,".\nReason: Deterministic.")})}_e(xe,"ZC+nXBmMlOkgWTATsr75RqVkYSg=",!1,(function(){return[m.a]})),Ee=xe,xe.propTypes={messageId:F.a.string.isRequired,message:F.a.shape({edgeIds:F.a.arrayOf(F.a.string)})},$RefreshReg$(Ee,"EmptyTransitionErrorMessage"),ye=Ce,Ce.propTypes={messageId:F.a.string.isRequired,message:F.a.shape({edgeIds:F.a.arrayOf(F.a.string),fromNodeLabel:F.a.string,symbol:F.a.string})},$RefreshReg$(ye,"DuplicateTransitionErrorMessage"),Se=Re,Re.propTypes={messageId:F.a.string.isRequired,message:F.a.shape({symbols:F.a.arrayOf(F.a.string),label:F.a.string})},$RefreshReg$(Se,"MissingTransitionErrorMessage");class we{constructor(){this.deterministic=!1,this.startNodeId=null,this.startState=null,this.nodeLabels=new Map,this.nodeOutgoings=new Map,this.edgeSymbols=new Set,this.edgePlaceholders=[],this.edgeEmpties=[],this.stateToNodeIdMap=new Map,this.nodeIdToStateLabelMap=new Map}setDeterministic(e){return this.deterministic=e,this}setStartState(e,t){return this.startNodeId=e,this.startState=t,this}addState(e,t){var a=t.getStateLabel();return this.nodeIdToStateLabelMap.set(e,a),this.stateToNodeIdMap.set(t,e),this.nodeLabels.has(a)?this.nodeLabels.get(a).push(t):this.nodeLabels.set(a,[t]),this.nodeOutgoings.set(t,new Map),this}addTransition(e,t,a,r){var n=this.nodeOutgoings.get(t),s=n.get(r);return s||n.set(r,s=new Array),s.push(e),this}addPlaceholder(e){return this.edgePlaceholders.push(e),this}addSymbolForEdge(e,t){return t===le.b?this.edgeEmpties.push(e):this.edgeSymbols.add(t),this}validate(e,t){var a=[],r=[],{deterministic:n,nodeLabels:s,edgePlaceholders:i,edgeEmpties:l,nodeOutgoings:o,edgeSymbols:c,stateToNodeIdMap:d,nodeIdToStateLabelMap:u}=this;for(var[h,g]of(i.length>0&&a.push({component:me,message:{edgeIds:i}}),s.entries()))g.length>1&&a.push({component:pe,message:{label:h,nodeIds:g.map(e=>d.get(e))}});var m=function(e,t,a){var r=[...e.getElementIds(t,v.a)];if(!a)return[];if(r.length<=1)return[];r.splice(r.indexOf(a),1);var n=e.getElements(t,E.a),s=[];for(s.push(a);s.length>0;){var i=s.pop();for(var l of n)if(l.fromId===i){var o=r.indexOf(l.toId);if(o>=0){var c=r.splice(o,1)[0];s.push(c)}}}return r}(e,t,this.startNodeId);if(m&&m.length>0&&r.push({component:be,message:{labels:m.map(e=>u.get(e)),nodeIds:m}}),n){l.length>0&&a.push({component:xe,message:{edgeIds:l}});var p=[];for(var[f,b]of o.entries()){for(var y of c){var S=b.get(y);S?1!==S.length&&a.push({component:Ce,message:{edgeIds:S,fromNodeLabel:u.get(d.get(f)),symbol:y}}):p.push(y)}p.length>0&&(a.push({component:Re,message:{symbols:[...p],label:u.get(d.get(f))}}),p.length=0)}}return{errors:a,warnings:r}}}function Ne(e,t,a,r,n){var s=a.getElementTypeKeyForElementType(v.a),i=a.getElementTypeKeyForElementType(E.a);e.sourceMap.clear(),e.errors.length=0,e.warnings.length=0;var l=t.isDeterministic();t.clear();var o=(new we).setDeterministic(l),c=new Map;if(r[s])for(var d of Object.keys(r[s])){var u=r[s][d],{label:h,final:g,initial:m}=u,p=new ne.b(h,u);t.addState(p),c.set(d,p.getStateID()),e.sourceMap.set(p.getStateID(),d),g&&t.setFinalState(p,!0),m&&(t.setStartState(p),o.setStartState(d,p)),o.addState(d,p)}if(r[i])for(var f of Object.keys(r[i])){var b=r[i][f],{fromId:y,toId:S,label:_}=b;if(S){if(y&&S){var x=c.get(y),C=c.get(S),R=t.getStateByID(x),w=t.getStateByID(C);if(!R||!w)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var N=_.split("\n");for(var I of N)if(I){var M=void 0;switch(I){case le.b:M=ne.a;break;default:M=I}t.addTransition(R,w,M,b),o.addSymbolForEdge(f,I),o.addTransition(f,R,w,M)}}}else o.addPlaceholder(f)}return o.validate(a,r)}class Ie extends class extends class{static build(){throw new Error("No implementation found for ".concat(this.name,".build()."))}constructor(){this._machine=this.constructor.build(null),this._buildId=0,this._sourceCallback=null,this._resolveCallback=null,this._changeQueue=[]}updateMachineFromSource(e,t){throw new Error("No implementation found for this.updateMachineFromSource().")}setPersistent(e){return this._persistent=e,this}setSourceCallback(e){if(e)this._sourceCallback=e,this.propagateRemainingChanges();else{this._sourceCallback=null;var t=this._resolveCallback;t&&(this._resolveCallback=null,t(this._machine))}return this}applySource(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(t.builder=this),this.updateMachineFromSource(this._machine,e,t)&&(this._buildId=this.getNextBuildId());var a=this._resolveCallback;a&&(this._resolveCallback=null,a(this._machine),this.propagateRemainingChanges())}applyChanges(e){var t,a=arguments,r=this;return(t=function*(){var t=a.length>1&&void 0!==a[1]?a[1]:{};if(t&&(t.builder=r),r._sourceCallback&&!r._resolveCallback){r._resolveCallback=!0;var n=r._machine,s=r.constructor.build(n,t);return new Promise(a=>{r._resolveCallback=a,e(s),r._sourceCallback(s,t),r._machine=s})}var i={callback:e,opts:t,resolve:null};return r._changeQueue.push(i),new Promise(e=>i.resolve=e)},function(){var e=this,a=arguments;return new Promise((function(r,n){var s=t.apply(e,a);function i(e){re(s,r,n,i,l,"next",e)}function l(e){re(s,r,n,i,l,"throw",e)}i(void 0)}))})()}propagateRemainingChanges(){if(this._sourceCallback&&!this._resolveCallback&&this._changeQueue.length>0){var e=this._changeQueue.shift();this._resolveCallback=e.resolve;var t=this._machine,a=this.constructor.build(t,e.opts);e.callback(a),this._sourceCallback(a,e.opts),this._machine=a}}getMachine(){return this._machine}getNextBuildId(){return this._buildId+1}getCurrentBuildId(){return this._buildId}}{static updateGraphFromMachine(e,t,a,r){throw new Error("No implementation found for ".concat(this.name,".updateGraphFromMachine()."))}}{static build(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).machineOnly)return e;var t=new ne.c(!1);return e&&t.copy(e),t}static updateGraphFromMachine(e,t,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(n.machineOnly)a({type:"forceUpdate"});else{var s=function(e,t,a,r,n){var s,i,l,o,c,d,u,h=a.getElementTypeKeyForElementType(v.a),g=a.getElementTypeKeyForElementType(E.a),m={[h]:{},[g]:{}},p=0;for(var f of t.getStates()){var b={},y=f.getStateID();if(n.builder){y=n.builder.sourceMap.get(f.getStateID())||y;var S=a.getElement(r,v.a,y);S?v.a.serialize(S,b):(b.x=p,b.y=p,p+=10)}else b.x=p,b.y=p,p+=10;var _=f.getAssociatedGraphElement();_&&(b.x=_.x,b.y=_.y),b.label=f.getStateLabel(),t.isStartState(f)?b.initial=!0:b.initial=!1,t.isFinalState(f)?b.final=!0:b.final=!1,m[h][y]=b}for(var x of t.getTransitions())if((i=x.getSourceState())&&(c=i.getStateID())&&(n.builder&&(c=n.builder.sourceMap.get(c)||c),u=x.getSymbols().join("\n"),(l=x.getDestinationState())&&(d=l.getStateID()))){n.builder&&(d=n.builder.sourceMap.get(d)||d),o={fromId:c,toId:d,label:u};var C=x.getAssociatedGraphElement();C?(s=C.id,C.quad&&(o.quad=C.quad)):s=Object(se.g)(),m[g][s]=o}return m}(0,r,e,e,n);a({type:"resetState",state:e.deserialize(s,{},{forceIgnoreVersion:!0})})}}constructor(){super(),this.sourceMap=new Map,this.errors=[],this.warnings=[],this.prevSourceHash=0,this.prevDeterminism=null}shouldMachineUpdate(e,t){var a=ie(t),r=this.prevSourceHash;this.prevSourceHash=a;var n=e.isDeterministic(),s=this.prevDeterminism;return this.prevDeterminism=n,a!==r||n!==s}updateMachineFromSource(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a.machineOnly){var{errors:r,warnings:n}=Ne(this,e,b,t);return this.errors.length=0,this.warnings.length=0,r&&this.errors.push(...r),n&&this.warnings.push(...n),!0}if(!this.shouldMachineUpdate(e,t))return!1;var{errors:s,warnings:i}=Ne(this,e,b,t);return this.errors.length=0,this.warnings.length=0,s&&this.errors.push(...s),i&&this.warnings.push(...i),!0}}var Me=$RefreshSig$();function Te(e){Me();var t=te(Ie).getStateCount()>0;return c.a.createElement(q.a,{hidden:t})}Me(Te,"fL5RM/k7x3D0s2/3VYE3ZU2exdc=",!1,(function(){return[te]})),$RefreshReg$(Te,"FiniteAutomataTooltip");var Oe=a(57),$e=a(61),je=a(45),ke=a.n(je);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var Ae;function Pe(e){var{size:t,angle:a,offset:r,childProps:n,maskProps:s}=e,i=Math.cos(a),l=Math.sin(a),o=e.x+i*r,d=e.y+l*r,u=i*t,h=1.2*u;return c.a.createElement(c.a.Fragment,null,c.a.createElement("path",Le({className:ke.a.decorative,d:"M".concat(o," ").concat(d)+" L".concat(o+h," ").concat(d+Math.sin(a+Math.PI/2)*t*1.2)+" L".concat(o+h," ").concat(d-Math.sin(a+Math.PI/2)*t*1.2)+" Z",fill:"transparent"},n)),c.a.createElement("circle",Le({className:ke.a.mask,cx:o+u,cy:d,r:t+4},s)))}Ae=Pe,Pe.propTypes={style:F.a.object,x:F.a.number,y:F.a.number,size:F.a.number,angle:F.a.number,offset:F.a.number,childProps:F.a.object,maskProps:F.a.object},Pe.defaultProps={x:0,y:0,size:10,angle:Math.PI,offset:0,childProps:{},maskProps:{}},$RefreshReg$(Ae,"MarkerTriangleRenderer");var Fe,{ConnectorProvider:De,useConnectorFromBehavior:qe,useConnectorToBehavior:Ge}=Object($e.a)((e,t,a)=>{var r=t||a||null;return c.a.createElement(c.a.Fragment,null,r&&c.a.createElement(Pe,{x:r.x,y:r.y,offset:r.radius||0,childProps:{pointerEvents:"none"},maskProps:{pointerEvents:"none"}}))}),Be=a(88),He=a(80),Qe=a(38),Ve=a(37),ze=a(66),Ue=a(56),Je=a(55),Xe=a(46),Ke=a(79),Ye=$RefreshSig$();function We(e){Ye();var{element:t}=e,a=Object(o.useRef)(null),r=Object(o.useRef)(null),n=Object(o.useRef)(null),s=Object(Qe.a)(),i=Object(Ve.a)(v.a,t.fromId,s),l=Object(Ve.a)(v.a,t.toId,s),d=Xe.f(i,l,t),u=Xe.d(i,l,t),h=Xe.c(i,l,t),g=Xe.e(i,l,t),[,m]=Object(Ke.a)(a,r,n,t,i,l,d,h,u);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ze.a,{start:d,end:u,center:h,label:t.label,labelDirection:g,labelKeepUp:!0,maskProps:{ref:a},labelProps:{ref:r},hidden:m,renderEndpoint:(e,t,a)=>"forward"===a?c.a.createElement(Ue.a,{x:e.x,y:e.y,angle:t,maskProps:{ref:n}}):c.a.createElement(Je.a,{x:e.x,y:e.y,angle:t,maskProps:{style:{pointerEvents:"none"}}})}),e.children)}Ye(We,"fBS/0Js8dP0HKVm21KJxRs9T4Ss=",!1,(function(){return[Qe.a,Ve.a,Ve.a,Ke.a]})),Fe=We,We.propTypes={children:F.a.node,element:F.a.object.isRequired},$RefreshReg$(Fe,"FiniteAutomataEdgeElementComponent");var Ze,et=a(77),tt=a(76),at=$RefreshSig$();function rt(e){at();var{element:t}=e,a=Object(o.useRef)(null),r=Object(o.useRef)(null);Object(et.a)(a,t);var n=qe(r,t,{onDragBegin:()=>Boolean(t.initial)});Ge(a,t);var s=t.initial&&!n;return c.a.createElement(c.a.Fragment,null,c.a.createElement(tt.a,{x:t.x,y:t.y,label:t.label,inner:t.final?.8*t.radius:0,radius:t.radius,maskProps:{ref:a}}),c.a.createElement(Pe,{x:t.x,y:t.y,offset:t.radius,childProps:{style:{visibility:s?"unset":"hidden"}},maskProps:{ref:r,pointerEvents:s?"auto":"none"}}),e.children)}at(rt,"15ubdMyUTNSX599yTdQOy8TJr4U=",!1,(function(){return[et.a,qe,Ge]})),Ze=rt,rt.propTypes={children:F.a.node,element:F.a.object.isRequired},$RefreshReg$(Ze,"FiniteAutomataNodeElementComponent");var nt,st=a(42),it=$RefreshSig$();function lt(e){it();var{openEditor:t}=Object(o.useContext)(st.a),{createNode:a,createEdge:r,swapInitial:n}=Object(He.a)(),s=Object(m.b)();return Object(Be.b)(),Object(Be.a)((e,t)=>a({x:e,y:t})),c.a.createElement(c.a.Fragment,null,c.a.createElement(De,{onConnect:n},c.a.createElement(Oe.a,{onConnect:(e,a,n,i)=>{var l=function(e,t,a){var r=b.getElements(a,E.a);for(var n of r)if(n.fromId===e.id&&n.toId===t.id)return n;return}(e,a,s);if(l)t(l.type,l.id);else if(i.prevEdge){var o=i.prevEdge;o.fromId=e.id,o.toId=a.id,o.markDirty()}else r(e,a).then(e=>t(e.type,e.id))},onCancel:(e,t,a,r)=>{if(r.prevEdge){var n=r.prevEdge;n.toId=0,Xe.b(null,e,a,n),n.markDirty()}}},c.a.createElement(Te,null),c.a.createElement(D.a,{elementType:v.a},e=>c.a.createElement(rt,{element:e})),c.a.createElement(D.a,{elementType:E.a},e=>c.a.createElement(We,{element:e})),e.children)))}it(lt,"nVlvCtYTVAM4DUIcl0JvajBifkE=",!1,(function(){return[He.a,m.b,Be.b,Be.a]})),nt=lt,lt.propTypes={children:F.a.node},$RefreshReg$(nt,"FiniteAutomataGraphPlayground");var ot=$RefreshSig$();function ct(){ot();var e=Object(m.c)(),t=Object(m.a)(),[a,r]=Object(o.useState)(!1);return Object(o.useEffect)(()=>{if(!a){var n,s=JSON.parse(localStorage.getItem(e.name+".graphData"));try{n=e.deserialize(s,{})}catch(e){n={}}t({type:"resetState",state:n}),r(!0)}},[a,e,t]),c.a.createElement(c.a.Fragment,null)}ot(ct,"aymCdvceEPf9i/2cMjHeE3p0rhQ=",!1,(function(){return[m.c,m.a]})),$RefreshReg$(ct,"AutoInit");var dt=$RefreshSig$();function ut(){dt();var e=Object(o.useContext)(d.d),t=Object(m.b)();return Object(o.useEffect)(()=>{var a=!0,r=e.name+".graphData",n=setInterval(()=>{if(a){var n=e.serialize(t,{});localStorage.setItem(r,JSON.stringify(n))}},3e3);return()=>{a=!1,clearInterval(n)}}),c.a.createElement(c.a.Fragment,null)}dt(ut,"nIObdE0nZla12nvzS0l37B6pYww=",!1,(function(){return[m.b]})),$RefreshReg$(ut,"AutoSave");var ht,gt=a(13),mt=a(39),pt=a(84),ft=a.n(pt),vt=$RefreshSig$();function bt(e){vt();var t=J(Ie,e.machineName).getMachine(),a=Array.from(t.getStates());return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"States"),a.length<=0?c.a.createElement("ul",{className:ft.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:ft.a.emptyLabel},le.a))):c.a.createElement("ul",{className:ft.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:ft.a.itemLabel},"{")),a.map((e,r)=>c.a.createElement("li",{key:e.getStateID()},c.a.createElement("label",{className:ft.a.itemLabel+" "+(t.isFinalState(e)?ft.a.markedLabel:"")},r<a.length-1?e.getStateLabel()+",":e.getStateLabel()))),c.a.createElement("li",null,c.a.createElement("label",{className:ft.a.itemLabel},"}"))))}vt(bt,"EDjX3jhQXI3egMuxDK7xJE7/Acs=",!1,(function(){return[J]})),ht=bt,bt.propTypes={machineName:F.a.string.isRequired},$RefreshReg$(ht,"StateList");var Et,yt=$RefreshSig$();function St(e){yt();var t=X(Ie,e.machineName).getAlphabet();return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Alphabet"),t.length<=0?c.a.createElement("ul",{className:ft.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:ft.a.emptyLabel},le.a))):c.a.createElement("ul",{className:ft.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:ft.a.itemLabel},"{")),t.map((e,a)=>c.a.createElement("li",{key:e},c.a.createElement("label",{className:ft.a.itemLabel},a<t.length-1?e+",":e))),c.a.createElement("li",null,c.a.createElement("label",{className:ft.a.itemLabel},"}"))))}yt(St,"gCC1jX6+3WDPXxK6LHFjqlWjFLw=",!1,(function(){return[X]})),Et=St,St.propTypes={machineName:F.a.string.isRequired},$RefreshReg$(Et,"AlphabetList");var _t,xt,Ct,Rt=a(96),wt=a.n(Rt),Nt=$RefreshSig$();function It(e){Nt();var t=X(Ie,e.machineName),a=t.isDeterministic();return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Transitions"),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Q×Σ"),c.a.createElement("th",null,a?c.a.createElement("span",null,"Q"):c.a.createElement("span",null,c.a.createElement("span",{style:{fontFamily:"cursive"}},"P"),c.a.createElement("span",null,"(Q)"))))),c.a.createElement("tbody",null,Mt(t))))}function Mt(e){var t=[],a=e.isDeterministic();for(var r of e.getStates()){var n=null;for(var s of((n=Tt(e,r,le.b))&&t.push(n),e.getAlphabet()))(n=Tt(e,r,s))&&t.push(n)}return a||t.push(c.a.createElement("tr",{key:"forallotherinputs",className:wt.a.forAllOtherInputs},c.a.createElement("td",{className:wt.a.chartKey},"For all other input"),c.a.createElement("td",{className:wt.a.chartValue},le.a))),t}function Tt(e,t,a){var r=e.isDeterministic(),n=e.doTransition(t,a,!0),s="",i=!1;if(n.length<=0){if(!r)return null;if(i=!0,s="-",a===le.b)return null}else if(1===n.length)i=!1,s=n[0].getStateLabel(),r||(s="{"+s+"}");else{r&&(i=!0);var l="";for(var o of n)l.length>0&&(l+=","),l+=o.getStateLabel();s="{"+l+"}"}return a===ne.a&&(a=le.b,r&&(i=!0)),c.a.createElement("tr",{key:t.getStateID()+":"+a},c.a.createElement("td",{className:"".concat(wt.a.chartKey," ").concat(i?"error":"")},"δ("+t.getStateLabel()+","+a+")"),c.a.createElement("td",{className:"".concat(wt.a.chartValue," ").concat(i?"error":"")},s))}Nt(It,"gCC1jX6+3WDPXxK6LHFjqlWjFLw=",!1,(function(){return[X]})),_t=It,It.propTypes={machineName:F.a.string.isRequired},xt=Mt,Ct=Tt,$RefreshReg$(_t,"TransitionChart"),$RefreshReg$(xt,"UNSAFE_renderTransitionTable"),$RefreshReg$(Ct,"UNSAFE_renderTransitionEntry");var Ot,$t=a(97),jt=a.n($t);function kt(e){var{id:t,className:a,title:r,disabled:n,checked:s,on:i,off:l,inplace:o,onChange:d}=e;return c.a.createElement("div",{className:"".concat(jt.a.element," ").concat(o?jt.a.inplace:""," ").concat(n?jt.a.disabled:""," ").concat(a)},e.children&&c.a.createElement("label",{className:jt.a.label,htmlFor:t},e.children),c.a.createElement("button",{id:t,role:"switch","aria-checked":s,"aria-labelledby":t,title:r,disabled:n,onClick:e=>d&&d(!s)},c.a.createElement("span",{className:s?jt.a.checked:""},i),c.a.createElement("span",{className:s?"":jt.a.checked},l)))}Ot=kt,kt.propTypes={id:F.a.string.isRequired,children:F.a.node,className:F.a.string,onChange:F.a.func,checked:F.a.bool,title:F.a.string,disabled:F.a.bool,on:F.a.string,off:F.a.string,inplace:F.a.bool},kt.defaultProps={on:"On",off:"Off"},$RefreshReg$(Ot,"FieldSwitch");var Lt,At=$RefreshSig$();function Pt(e){At();var{machineName:t}=e,a=J(Ie,t),r=X(Ie,t),n="".concat(t,".deterministic");return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Determinism"),c.a.createElement(kt,{id:n,checked:r.isDeterministic(),on:"Deterministic",off:"Nondeterministic",onChange:e=>a.applyChanges(t=>t.setDeterministic(e),{machineOnly:!0})}))}At(Pt,"9ki6lskgUQ2oSJMO2b9CJKyo0DA=",!1,(function(){return[J,X]})),Lt=Pt,Pt.propTypes={machineName:F.a.string},$RefreshReg$(Lt,"DeterminismSwitch");var Ft,Dt,qt,Gt,Bt=a(98),Ht=a.n(Bt),Qt=$RefreshSig$();function Vt(e){Qt();var t=X(Ie,e.machineName),[a]=Object(o.useState)("symbols");return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Transitions Table"),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Q/Σ"),Jt(t,a)),Ut(t,a))))}function zt(e,t,a){var r=e.isDeterministic(),n=e.doTransition(t,a),s="",i=!1;if(n.length<=0)r&&a!==ne.a&&(i=!0),s="∅";else if(1===n.length)r&&a===ne.a&&(i=!0),s=n[0].getStateLabel();else{r&&(i=!0);var l="";for(var o of n)l.length>0&&(l+=","),l+=o.getStateLabel();s="{"+l+"}"}var d=r&&a===ne.a;return c.a.createElement("td",{key:t.getStateID()+":"+a,className:Ht.a.tableEntry+(i?" error ":"")+(d?" disabled ":"")},s)}function Ut(e,t){var a=[];for(var r of e.getStates()){var n=[];switch(t){case"symbols":for(var s of e.getAlphabet())n.push(zt(e,r,s));n.push(zt(e,r,ne.a));break;case"states":for(var i of e.getStates()){var l=e.getTransitionSymbols(r,i),o="";if(l)for(var d of l)o.length>0&&(o+="\n"),d===ne.a?o+=le.b:o+=d;else o="-";n.push(c.a.createElement("td",{key:r.getStateID()+":"+i.getStateID(),className:Ht.a.tableEntry},o))}break;default:throw new Error("Unknown row axis type '"+t+"'")}a.push(c.a.createElement("tr",{key:r.getStateID()},c.a.createElement("th",{scope:"row",className:Ht.a.tableAxisHeader+" row"},r.getStateLabel()),n))}return a}function Jt(e,t){var a=[],r=e.isDeterministic();switch(t){case"symbols":for(var n of e.getAlphabet())a.push(c.a.createElement("th",{key:n,scope:"col",className:Ht.a.tableAxisHeader+" col"},n));return a.push(c.a.createElement("th",{key:ne.a,scope:"col",className:Ht.a.tableAxisHeader+(r?" disabled ":"")+" col"},le.b)),a;case"states":for(var s of e.getStates())a.push(c.a.createElement("th",{key:s.getStateID(),scope:"col",className:Ht.a.tableAxisHeader+" col"},s.getStateLabel()));return a;default:throw new Error("Unknown row axis type '"+t+"'")}}Qt(Vt,"wrGbrOpJggyDQlVAwnmHLbkSZmo=",!1,(function(){return[X]})),Ft=Vt,Vt.propTypes={machineName:F.a.string.isRequired},Dt=zt,qt=Ut,Gt=Jt,$RefreshReg$(Ft,"TransitionTable"),$RefreshReg$(Dt,"UNSAFE_renderTableEntryForSymbolAxis"),$RefreshReg$(qt,"UNSAFE_renderTableEntries"),$RefreshReg$(Gt,"UNSAFE_renderTableAxis");var Xt=a(30),Kt=a(51);function Yt(e,t){var a=e.getElements(t,v.a),r=function(e,t,a){var r=e.getElements(t,E.a),n=[];n.push(a.id);for(var s=0;s<n.length;s++)for(var i of r)i.fromId===n[s]&&(n.includes(i.toId)||n.push(i.toId));return n.map(a=>e.getElement(t,v.a,a))}(e,t,function(e){for(var t of e)if(t.initial)return t;return null}(a)),n=a.filter(e=>!r.includes(e)),s=r.length,i=n.length,l=a.length,o=Math.max(s,i);if(!(l<=0)){var c;c=s<10&&i<10?o/4*50+30:o/5*40+30;var d=0;if(1===s){var u=2*Math.PI/l;for(var h of a)h.y=Math.sin(u*d+Math.PI)*c,h.x=Math.cos(u*d+Math.PI)*c,h.markDirty(),d+=1}else{var g=2*Math.PI/s;for(var m of(d=0,r))m.y=Math.sin(g*d+Math.PI)*c,m.x=Math.cos(g*d+Math.PI)*c,m.markDirty(),d+=1;var p=2*Math.PI/i;for(var f of(d=0,n))f.y=Math.sin(p*d+Math.PI)*(c+100),f.x=Math.cos(p*d+Math.PI)*(c+100),f.markDirty(),d+=1}}}$RefreshReg$(Yt,"CircleLayout");var Wt,Zt=$RefreshSig$();function ea(e){Zt();var t=Object(m.c)(),a=Object(m.b)(),r=Object(o.useRef)(null);return c.a.createElement(Kt.a,{title:"Layout"},c.a.createElement("div",null,c.a.createElement("select",{ref:r},c.a.createElement("option",{value:"circle"},"Circle"),c.a.createElement("option",{value:"grid",disabled:!0},"Grid")),c.a.createElement(Xt.a,{onClick:e=>function(e,t,a){switch(e){case"circle":Yt(t,a)}}(r.current.value,t,a)},"Apply")))}Zt(ea,"dQJ6q3p0hfDXyuQOiW0CZrVVPyw=",!1,(function(){return[m.c,m.b]})),Wt=ea,ea.propTypes={},ea.defaultProps={},$RefreshReg$(Wt,"GraphLayoutOptions");var ta,aa,ra=a(64),na=$RefreshSig$();function sa(e){na();var t=ee(Ie).getMachine(),a=Object(Qe.a)(),r=Object(Ve.c)(E.a,e=>a()),n=Object(o.useRef)(null),[s,i]=Object(o.useState)(""),l=t.getAlphabet().sort();return c.a.createElement("div",null,c.a.createElement("select",{ref:n,id:"AlphabetLabelRenameOption.rename"},l.map(e=>c.a.createElement("option",{key:e,value:e},e))),c.a.createElement(ra.a,{id:"alphabetRenameTo",style:{width:"3rem"},value:s,placeholder:"Symbol",onChange:e=>i(e.target.value)},"Rename Character"),c.a.createElement(Xt.a,{onClick:e=>{!function(e,t,a){for(var r of a){var n=r.label.split("\n"),s=n.indexOf(e);s>=0&&(n[s]=t,r.label=n.join("\n"),r.markDirty())}}(n.current.value,s,r),i("")},title:"Apply rename alphabet",disabled:!s},"Apply"))}function ia(e){return c.a.createElement(Kt.a,{title:"Alphabet Label Editor"},c.a.createElement(sa,null))}na(sa,"VKTaLOZgQbqIzVdDZ283PvZaLSU=",!1,(function(){return[ee,Qe.a,Ve.c]})),ta=sa,sa.propTypes={},sa.defaultProps={},$RefreshReg$(ta,"AlphabetLabelRenameOption"),aa=ia,ia.propTypes={},ia.defaultProps={},$RefreshReg$(aa,"AlphabetLabelOptions");var la,oa=$RefreshSig$();function ca(e){oa();var t="Piece-wise definition of δ",a="Table definition of δ",[r,n]=Object(o.useState)(a);return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Overview")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(mt.a,{title:"Definition"},c.a.createElement(Pt,{machineName:"graph"}),c.a.createElement(bt,{machineName:"graph"}),c.a.createElement(St,{machineName:"graph"}),c.a.createElement(Xt.a,{id:"toggle",onClick:()=>n(r===t?a:t)},r===t?a:t),r===t?c.a.createElement(Vt,{machineName:"graph"}):c.a.createElement(It,{machineName:"graph"})),c.a.createElement(mt.a,{title:"Format"},c.a.createElement(ea,null),c.a.createElement(ia,null))))}oa(ca,"XCIGUVZZ+H2XCkaH9ZhHmpASIj0="),la=ca,ca.Tab=Object(gt.a)(j.e),$RefreshReg$(la,"OverviewPanel");var da,ua=a(49),ha=a(52),ga=$RefreshSig$();function ma(e){ga();var{message:t,messageId:a}=e,r=ee(Ie);return c.a.createElement(oe.a,{messageId:a,mode:"warning",message:"Careful! This conversion will exponentially increase the number of states.\n"+t,renderControls:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:()=>{r.applyChanges(e=>Object(ha.a)(e,e)),e()}},"Convert"))})}ga(ma,"iX0gvyeu5rNSD6Ed/+Da521I8a0=",!1,(function(){return[ee]})),da=ma,ma.propTypes={messageId:F.a.string.isRequired,message:F.a.string},$RefreshReg$(da,"NFAToDFAConversionMessage");var pa,fa=$RefreshSig$();function va(e){fa();var{message:t,messageId:a}=e,r=ee(Ie);return c.a.createElement(oe.a,{messageId:a,mode:"warning",message:"Careful! Flipping the states in an NFA does not produce a logically equivalent inverse.\n"+t,renderControls:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:()=>{r.applyChanges(e=>Object(ha.b)(e,e)),e()}},"Apply"))})}fa(va,"iX0gvyeu5rNSD6Ed/+Da521I8a0=",!1,(function(){return[ee]})),pa=va,va.propTypes={messageId:F.a.string.isRequired,message:F.a.string},$RefreshReg$(pa,"FlipAcceptStateMessage");var ba,Ea=a(41),ya=$RefreshSig$();function Sa(e){ya();var t=ee(Ie),a=t.getMachine(),r=Object(o.useContext)(ua.a),n=a.isDeterministic(),s=a.getStateCount(),i=s<=0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Transformations")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(mt.a,{title:"Equivalent Conversions"},c.a.createElement("div",null,n?c.a.createElement(Ea.a,{id:"convertToNFA",onClick:()=>t.applyChanges(e=>e.setDeterministic(!1),{machineOnly:!0}),disabled:i},c.a.createElement("span",null,"Convert to "),c.a.createElement("span",null,"NFA")):c.a.createElement(Ea.a,{id:"convertToDFA",onClick:()=>r({type:"send",component:ma,message:"".concat(s," state(s) -> ").concat(Math.pow(2,s)," states")}),disabled:i},c.a.createElement("span",null,"Convert to "),c.a.createElement("span",null,"DFA"))),c.a.createElement("hr",null),c.a.createElement("div",null,c.a.createElement(Ea.a,{id:"removeUnreachableStates",onClick:()=>{},disabled:!0},"Remove unreachable states"))),c.a.createElement(mt.a,{title:"Related Conversions"},c.a.createElement(Ea.a,{id:"flipAllAcceptStates",onClick:()=>r({type:"send",component:va}),disabled:i},"Flip all accept states"))))}ya(Sa,"kuWXWnroupcdH1Rxwfe3Z1AEYAU=",!1,(function(){return[ee]})),ba=Sa,Sa.Tab=Object(gt.a)(j.g),$RefreshReg$(ba,"ComputePanel");var _a=class{constructor(){}uploadFile(e){return Promise.resolve(e)}};var xa=class extends _a{constructor(){super()}uploadFile(e){return new Promise((t,a)=>{var r=new FileReader;r.addEventListener("load",e=>{var a=e.target.result;t(a)}),r.addEventListener("error",e=>{a(new Error("Unable to import file: "+e.target.error.code))}),r.readAsText(e)})}};var Ca=class{constructor(){}parse(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}compose(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},Ra=a(17);var wa=class{constructor(e){this._id=e}setGraphElementID(e){return this._id=e,this}getCenterPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return e.x=e.y=0,e}getGraphElementID(){return this._id}getHashString(){return this._id}};var Na=class extends wa{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(e),this.x=t,this.y=a,this._label=""}getCenterPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return e.x=this.x,e.y=this.y,e}setNodeLabel(e){return this._label=e,this}getNodeLabel(){return this._label}getNodeSize(){return 16}getHashString(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?super.getHashString(e)+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:super.getHashString(e)+":"+this._label}};var Ia=class extends wa{constructor(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this._from=t,this._to=a,this._label=""}setEdgeFrom(e){if(!e)throw new Error("Source of edge cannot be null");return this._from=e,this}setEdgeTo(e){return this._to=e,this}setEdgeLabel(e){return this._label=e,this}getEdgeDirection(){var e=this._from,t=this._to,a=Math.PI/2,r=0;if(this.isPlaceholder())r=Math.PI/4;else{var n=t.y-e.y,s=t.x-e.x;r=Math.atan2(n,s)}return(r>a||r<-a)&&(r+=Math.PI),r}getStartPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from;return e.x=t.x,e.y=t.y,e}getCenterPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,a=this._to;if(this.isPlaceholder()){var r=this.getPlaceholderLength()/2;e.x=t.x+r,e.y=t.y+r}else e.x=t.x+(a.x-t.x)/2,e.y=t.y+(a.y-t.y)/2;return e}getEndPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var t=this._from,a=this.getPlaceholderLength();e.x=t.x+a,e.y=t.y+a}else{var r=this._to;e.x=r.x,e.y=r.y}return e}getPlaceholderLength(){return this._from.getNodeSize()}isPlaceholder(){return null===this._to}isSelfLoop(){return this._from===this._to}getEdgeLabel(){return this._label}getEdgeFrom(){return this._from}getEdgeTo(){return this._to}getHashString(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this._from?this._from.getHashString(e):"",a=this._to?this._to.getHashString?this._to.getHashString(e):"0":"";return super.getHashString(e)+":"+t+","+a+"."+this._label}};var Ma=class{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ia;this._nodeClass=e,this._edgeClass=t,this._nodeMapping=new Map,this._edgeMapping=new Map}clear(){this.clearEdges(),this.clearNodes()}isEmpty(){return this._nodeMapping.size<=0&&this._edgeMapping.size<=0}getBoundingRect(){if(this._nodeMapping.size<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var e=Number.MAX_VALUE,t=Number.MAX_VALUE,a=Number.MIN_VALUE,r=Number.MIN_VALUE,n=0;for(var s of this._nodeMapping.values()){var i=s.x,l=s.y,o=s.getNodeSize();o>n&&(n=o),e=Math.min(e,i),a=Math.max(a,i),t=Math.min(t,l),r=Math.max(r,l)}e-=n,t-=n,a+=n,r+=n;var c=Number.MAX_VALUE,d=Number.MAX_VALUE,u=Number.MIN_VALUE,h=Number.MIN_VALUE,g={x:0,y:0},m={x:0,y:0},p={x:0,y:0};for(var f of this._edgeMapping.values()){f.getStartPoint(g),f.getEndPoint(m),f.getCenterPoint(p);var v=g.x,b=g.y,E=m.x,y=m.y,S=p.x,_=p.y;c=Math.min(c,v,E,S),u=Math.max(u,v,E,S),d=Math.min(d,b,y,_),h=Math.max(h,b,y,_)}var x={minX:Math.min(e,c),minY:Math.min(t,d),maxX:Math.max(a,u),maxY:Math.max(r,h),width:0,height:0};return x.width=x.maxX-x.minX,x.height=x.maxY-x.minY,x}getHashCode(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t="";for(var a of this._nodeMapping.values())t+=a.getHashString(e)+",";for(var r of(t+="|",this._edgeMapping.values()))t+=r.getHashString(e)+",";return Object(se.f)(t)}createNode(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addNode(new this._nodeClass(a||Object(se.g)(),e,t))}addNode(e){return e.getGraphElementID()||e.setGraphElementID(Object(se.g)()),this._nodeMapping.set(e.getGraphElementID(),e),e}deleteNode(e){var t=e.getGraphElementID();if(this._nodeMapping.has(t)){this._nodeMapping.delete(t);var a=[];for(var r of this.getEdges())r.getEdgeFrom()===e?a.push(r):r.getEdgeTo()===e&&r.setEdgeTo(null);for(var n of a)this.deleteEdge(n)}}clearNodes(){this._nodeMapping.clear()}getNodeByElementID(e){return this._nodeMapping.has(e)?this._nodeMapping.get(e):null}getNodesByLabel(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(var a of this.getNodes())a.getNodeLabel()===e&&t.push(a);return t}getNodes(){return Array.from(this._nodeMapping.values())}getNodeCount(){return this._nodeMapping.size}getNodeClass(){return this._nodeClass}formatEdge(e){return e}createEdge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addEdge(new this._edgeClass(a||Object(se.g)(),e,t))}addEdge(e){return e.getGraphElementID()||e.setGraphElementID(Object(se.g)()),this._edgeMapping.set(e.getGraphElementID(),e),e}deleteEdge(e){var t=e.getGraphElementID();this._edgeMapping.has(t)&&this._edgeMapping.delete(t)}clearEdges(){this._edgeMapping.clear()}getEdgeByElementID(e){return this._edgeMapping.has(e)?this._edgeMapping.get(e):null}getEdgesByLabel(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(var a of this.getEdges())a.getEdgeLabel()===e&&t.push(a);return t}getEdges(){return Array.from(this._edgeMapping.values())}getEdgeCount(){return this._edgeMapping.size}getEdgeClass(){return this._edgeClass}};var Ta=class extends Ia{constructor(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e,t,a),this._quad={radians:0,length:a?0:this.getPlaceholderLength(),coords:{x:0,y:0}}}setEdgeTo(e){var t=this._to;if(e!==t){var a=super.setEdgeTo(e);return e?e===this._from&&(this._quad.length=this._from.getNodeSize()+this.getPlaceholderLength()):this.setQuadraticByCoords(t.x,t.y),a}return super.setEdgeTo(e)}setQuadraticRadians(e){return this._quad.radians=e,this}setQuadraticLength(e){return this._quad.length=e,this}setQuadraticByCoords(e,t){var a=this._from,r=this._to;if(!r){var n=this._from.x-e,s=this._from.y-t,i=-Math.atan2(n,s)-Math.PI/2;return this._quad.radians=i,this}var l=a.x,o=a.y,c=r.x-l,d=r.y-o,u=l+c/2,h=o+d/2,g=Math.atan2(-d,c);c=e-u,d=t-h;var m=Math.PI,p=m/2,f=Math.atan2(d,c)+g,v=Math.sqrt(c*c+d*d);v<0&&(v=0);var b=f- -p,E=f-p,y=m/20;return Math.abs(v)<8?(f=0,v=0):b<y&&b>-y?f=-p:-E<y&&-E>-y&&(f=p),this._quad.radians=f,this._quad.length=v,this}getQuadraticLength(){return this._quad.length}getQuadraticRadians(){return this._quad.radians}getQuadratic(){return this._quad}isQuadratic(){return!this.isPlaceholder()&&0!==this._quad.length}getQuadraticAsCoords(){var e=this._from,t=this._to,a=this._quad.coords;return null==e||null==t?(a.x=0,a.y=0):Object(se.c)(e.x,e.y,t.x,t.y,this._quad.length,this._quad.radians,a),a}getEdgeDirection(){var e=0;if(this.isQuadratic()){var t=this.getQuadraticAsCoords();e=Math.atan2(t.y,t.x)+Math.PI/2}else e=super.getEdgeDirection();return e}getStartPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,a=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!a){var r=this._quad.radians,n=Math.cos(r),s=Math.sin(r),i=t.getNodeSize();return e.x=t.x+n*i,e.y=t.y+s*i,e}if("function"==typeof a.getNodeSize&&this.isQuadratic()){Object(se.d)(t.x,t.y,a.x,a.y,e);var l=this.getQuadraticAsCoords(),o=e.x+l.x,c=e.y+l.y;return Object(se.c)(t.x,t.y,o,c,t.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,e),e.x+=t.x,e.y+=t.y,e}return Object(se.c)(t.x,t.y,a.x,a.y,t.getNodeSize(),0,e),e.x+=t.x,e.y+=t.y,e}getCenterPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,a=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!a){var r=Math.cos(this._quad.radians),n=Math.sin(this._quad.radians),s=t.getNodeSize()+this.getPlaceholderLength()/2;return e.x=t.x+r*s,e.y=t.y+n*s,e}if(Object(se.d)(t.x,t.y,a.x,a.y,e),this.isQuadratic()){var i=this.getQuadraticAsCoords();e.x+=i.x,e.y+=i.y}return e}getEndPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,a=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!a){var r=this._quad.radians,n=Math.cos(r),s=Math.sin(r),i=t.getNodeSize()+this.getPlaceholderLength();return e.x=t.x+n*i,e.y=t.y+s*i,e}if("function"!=typeof a.getNodeSize)return a;if(this.isQuadratic()){Object(se.d)(t.x,t.y,a.x,a.y,e);var l=this.getQuadraticAsCoords(),o=e.x+l.x,c=e.y+l.y;return Object(se.c)(a.x,a.y,o,c,a.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,e),e.x+=a.x,e.y+=a.y,e}return Object(se.c)(a.x,a.y,t.x,t.y,a.getNodeSize(),0,e),e.x+=a.x,e.y+=a.y,e}getHashString(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?super.getHashString(e)+":"+this._quad.radians+","+this._quad.length:super.getHashString(e)}},Oa=Ra.a.parse("1.0.0");ja=Oa;class $a extends Ca{constructor(){super(),this._nodeIndices=new Map}parse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("object"!=typeof e)throw new Error("Unable to parse data of non-object type");var a=Ra.a.parse(e._version||"0.0.0");if(!a.canSupportVersion(Oa))throw new Error("Unable to parse data for incompatible version '"+a+"'");var r=e.nodes||[],n=Math.min(r.length||0,e.nodeCount||0),s=e.edges||[],i=Math.min(s.length||0,e.edgeCount||0);t=this.onParseGraphCreate(e,t);for(var l=this._nodeIndices,o=0;o<n;++o){var c=r[o];if(c){var d=t.createNode(c.x||0,c.y||0,c.id);d.setNodeLabel(c.label||""),this.onParseNode(c,d),l.set(o,d)}}for(var u=0;u<i;++u){var h=s[u];if(h){var g=l.get(h.from)||null;if(g){var m=l.get(h.to)||null,p=t.createEdge(g,m,h.id);p.setEdgeLabel(h.label||""),this.onParseEdge(h,p)}}}return this.onParseGraphResult(e,t),l.clear(),t}compose(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(e instanceof Ma))throw new Error("Unable to compose target of non-graph type");t=this.onComposeGraphCreate(e,t);for(var a,r=e.getNodes()||[],n=r.length||0,s=e.getEdges()||[],i=s.length||0,l=new Array(n),o=this._nodeIndices,c=0;c<n;++c)if(a=r[c]){var d=a.getGraphElementID();o.set(a,c);var u={id:d,x:a.x||0,y:a.y||0,label:a.getNodeLabel()||""};this.onComposeNode(a,u),l[c]=u}for(var h,g=new Array(i),m=0;m<i;++m)if(h=s[m]){var p=h.getGraphElementID(),f=h.getEdgeFrom(),v=h.getEdgeTo(),b={id:p,from:o.has(f)?o.get(f):-1,to:o.has(v)?o.get(v):-1,label:h.getEdgeLabel()||""};this.onComposeEdge(h,b),g[m]=b}return t._version="1.0.0",t.nodeCount=n,t.nodes=l,t.edgeCount=i,t.edges=g,this.onComposeGraphResult(e,t),o.clear(),t}onParseGraphCreate(e,t){var a=e.quad||!1;return t?t.clear():t=new Ma(Na,a?Ta:Ia),t}onParseNode(e,t){}onParseEdge(e,t){if(t instanceof Ta){var a=e.quad||{};t.setQuadraticRadians(a.radians||0),t.setQuadraticLength(a.length||0)}}onParseGraphResult(e,t){}onComposeGraphCreate(e,t){return t||{}}onComposeNode(e,t){}onComposeEdge(e,t){if(e instanceof Ta){var a=e.getQuadratic()||{};t.quad={radians:a.radians||0,length:a.length||0}}}onComposeGraphResult(e,t){var a=!1,r=e.getEdges();for(var n of r)if(n instanceof Ta){a=!0;break}t.hasQuad=a}}new $a;var ja,ka=$a;$RefreshReg$(ja,"VERSION");var La=class extends Ma{constructor(e,t){super(e,t),this._nodes=[]}setStartNode(e){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var t=this._nodes.indexOf(e);if(t>0){var a=this._nodes[0];this._nodes[0]=e,this._nodes[t]=a}else if(t<0)throw new Error("Cannot set start node for unknown node")}}getStartNode(){return this._nodes.length>0?this._nodes[0]:null}getNodeByIndex(e){return this._nodes[e]}addNode(e){return this._nodes.push(e),super.addNode(e)}deleteNode(e){super.deleteNode(e);var t=this._nodes.indexOf(e);t>=0&&this._nodes.splice(t,1)}clearNodes(){super.clearNodes(),this._nodes.length=0}getNodes(){return this._nodes}};var Aa=class extends Na{constructor(e,t,a){super(e,t,a),this._accept=!1,this._custom=!1}setNodeAccept(e){this._accept=e}getNodeAccept(){return this._accept}setNodeCustom(e){this._custom=e}getNodeCustom(){return this._custom}getHashString(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return super.getHashString(e)+":"+(this._accept?"1":"0")}};var Pa=class extends Ta{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}setEdgeLabel(e){"string"==typeof e?super.setEdgeLabel(e):super.setEdgeLabel("ε")}};var Fa=class extends La{constructor(){super(Aa,Pa)}};qa=Ra.a.parse("1.0.0");class Da extends ka{constructor(){super()}parse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return super.parse(e,t)}compose(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return super.compose(e,t)}onParseGraphCreate(e,t){return t?t.clear():t=new Fa,t}onParseGraphResult(e,t){var a=this._nodeIndices,r=e.initial||0,n=a.get(r);n&&t.setStartNode(n)}onParseNode(e,t){t.setNodeAccept(e.accept||!1),t.setNodeCustom(e.custom||!1)}onComposeNode(e,t){t.accept=e.getNodeAccept()||!1,t.custom=e.getNodeCustom()||!1}onComposeGraphResult(e,t){var a=this._nodeIndices,r=e.getStartNode(),n=a.get(r)||0;t.initial=n}}new Da;var qa,Ga=Da;$RefreshReg$(qa,"VERSION");var Ba=class{constructor(){}attemptBuildMachine(e,t){throw new Error("Should be overriden.")}getMachine(){throw new Error("Should be overriden.")}getMachineHashCode(){throw new Error("Should be overriden.")}};var Ha=class extends Ba{constructor(){super(),this._machine=new ne.c,this._errors=[],this._warnings=[]}attemptBuildGraph(e,t){t.clear();var a,r,n,s,i=new Map;for(var l of e.getStates())(a=t.createNode(0,0)).setNodeLabel(l.getStateLabel()),e.isFinalState(l)&&a.setNodeAccept(!0),i.set(l,a);for(var o of e.getTransitions())(r=i.get(o.getSourceState()))&&(s=o.getSymbols().join(" "),(n=i.get(o.getDestinationState()))&&t.createEdge(r,n).setEdgeLabel(s));var c=e.getStartState(),d=t.getNodesByLabel(c);return d&&d.length>0&&t.setStartNode(d[0]),t}attemptBuildMachine(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this._errors=a,this._warnings=r,a.length=0,r.length=0;var n=t.isDeterministic();t.clear();var s=new Map,i=new Map,l=new Set,o=[],c=[],d=e.getNodes(),u=e.getEdges(),h=e.getStartNode();for(var g of d){var m=g.getNodeLabel(),p=new ne.b(m,g);t.addState(p),g.getNodeAccept()&&t.setFinalState(p,!0),h===g&&t.setStartState(p),s.has(m)?s.get(m).push(p):s.set(m,[p]),i.set(p,new Map)}for(var f of u){var v=f.getEdgeFrom(),b=f.getEdgeTo();if(!f.isPlaceholder()&&v instanceof Aa&&b instanceof Aa){var E=t.getStateByID(v.getGraphElementID()),y=t.getStateByID(b.getGraphElementID());if(!E||!y)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var S=f.getEdgeLabel().split(" ");for(var _ of S)if(_){"ε"===_?c.push(f):l.add(_);var x=void 0;switch(_){case"ε":x=ne.a;break;default:x=_}var C=i.get(E),R=C.get(x);R||C.set(x,R=new Array),R.push(f),t.addTransition(E,y,x)}}else o.push(f)}for(var[w,N]of s.entries())N.length>1&&a.push({name:"duplicate_state",label:w,nodes:N.map(e=>e.getSource())});o.length>0&&a.push({name:"incomplete_transition",edges:o});var I=function(e){if(e.getNodeCount()<=1)return[];var t=e.getEdges(),a=e.getNodes().slice(),r=a.shift(),n=[];for(n.push(r);n.length>0;){var s=n.pop();for(var i of t)if(i.getEdgeFrom()===s){var l=a.indexOf(i.getEdgeTo());if(l>=0){var o=a.splice(l,1)[0];n.push(o)}}}return a}(e);if(I&&I.length>0&&r.push({name:"unreachable_state",nodes:I}),n){c.length>0&&a.push({name:"empty_transition",edges:c});var M=[];for(var[T,O]of i.entries()){for(var $ of l){var j=O.get($);j?1!==j.length&&a.push({name:"duplicate_transition",edges:j,symbol:$}):M.push($)}M.length>0&&(a.push({name:"missing_transition",node:T.getSource(),symbols:M.slice()}),M.length=0)}}return a.length<=0?t:null}getMachine(){return this._machine}getMachineHashCode(){return Object(se.f)(JSON.stringify(this._machine))}};var Qa=$RefreshSig$();function Va(e){Qa();var t=X(Ie,"graph"),[a,r]=Object(o.useState)(null),[n,s]=Object(o.useState)(null),[i,l]=Object(o.useState)("");return c.a.createElement(Kt.a,{title:"Equivalence Tester"},c.a.createElement("div",null,c.a.createElement(u.a,{onUpload:e=>{var t,a=e.target.files;a.length>0?(t=a[0],new Promise((e,a)=>{(new xa).uploadFile(t).then(t=>{var a=JSON.parse(t),r=new Ga,n=new Fa;r.parse(a.graphData,n);var s=new Ha,i=new ne.c;s.attemptBuildMachine(n,i),e(i||null)})})).then(e=>r(e)).catch(e=>r(e.message)):r(null),e.target.value=null}})),c.a.createElement(Ea.a,{id:"testEquivalenceTargetFile",onClick:()=>{if("object"==typeof a){var e=Object(ha.c)(a,t);e.value?(s(!0),l("")):e.witnessString?(s(!1),l("Witness: "+e.witnessString)):(s(!1),l("Sorry, unable to evaluate because the machines have different alphabets."))}else a&&(s(null),l(a))}},"Test Machine"),c.a.createElement("output",{htmlFor:"testEquivalenceTargetFile"},c.a.createElement("p",null,null===n?"-- ??? --":n?"-- Equivalent --":"-- Not Equivalent --"),c.a.createElement("p",null,i)))}Qa(Va,"la6xJJ4PT2t/YMsbNcxAjBmCJ1I=",!1,(function(){return[X]})),$RefreshReg$(Va,"EquivalenceTester");var za,Ua,Ja=a(85),Xa=a(86),Ka=a(87),Ya=$RefreshSig$();function Wa(e){Ya();var[t,a]=Object(o.useState)([]),r=X(e.machineBuilderType,e.machineName),n=Object(o.useCallback)(()=>{var e=Za();a([...t,e])},[t,a]),s=Object(o.useCallback)(e=>{var t=[];for(var r of e)t.push(Za(r));a(t)},[a]),i=t.length<=0;return c.a.createElement(Kt.a,{title:"String Tester"},c.a.createElement(Xa.a,{onClick:s}),c.a.createElement(Ka.a,{testStrings:t.map(e=>e.value)}),c.a.createElement(Xt.a,{disabled:i,onClick:()=>{var e=[...t];for(var n of e){var s=Object(ha.d)(r,n.value);n.result=s?"pass":"fail"}a(e)}},"Run All"),c.a.createElement(Xt.a,{disabled:i,onClick:()=>a([])},"Remove All Tests"),t.map((e,n)=>c.a.createElement(Ja.a,{key:e.id,value:e.value,result:e.result,onClick:e=>{var s=[...t],i=s[n];i.result=Object(ha.d)(r,i.value)?"pass":"fail",a(s)},onChange:e=>{var r=[...t];r[n].value=e.target.value,a(r)},onRemove:e=>{var r=[...t];r.splice(n,1),a(r)}})),c.a.createElement(Ea.a,{id:"testStringButton",onClick:n},"Add Test String"))}function Za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return{id:Object(se.g)(),value:e,result:t}}function er(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Testing")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(mt.a,{title:"Strings"},c.a.createElement(Wa,{machineBuilderType:Ie,machineName:"graph"})),c.a.createElement(mt.a,{title:"Machines"},c.a.createElement(Va,null))))}Ya(Wa,"0cYsDXsr7iDsv7DftSlbjLNrMEw=",!1,(function(){return[X]})),za=Wa,Wa.propTypes={machineBuilderType:F.a.elementType.isRequired,machineName:F.a.string},Wa.defaultProps={},$RefreshReg$(za,"StringTester"),Ua=er,er.Tab=Object(gt.a)(j.j),$RefreshReg$(Ua,"TestingPanel");var tr=a(44),ar=a(36);function rr(e,t){return JSON.stringify(e.serialize(t,{}))}function nr(e,t){if("function"!=typeof e)throw new Error("Missing graph type class.");var a=e.getElements(t,v.a),r=e.getElements(t,E.a),n=(new DOMParser).parseFromString('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\x3c!--Created from Flap.js Web App 0.5.0--\x3e<structure></structure>',"application/xml"),s=n.querySelector("structure"),i=n.createElement("type");i.innerHTML="fa",s.appendChild(i);var l=n.createElement("automaton");s.appendChild(l);var o=new Map,c=0;for(var d of a){o.set(d.id,c);var u=n.createElement("state");u.id=String(c++),u.setAttribute("name",d.label),l.appendChild(u);var h=n.createElement("x");h.innerHTML=String(Math.round(100*d.x)/100||0),u.appendChild(h);var g=n.createElement("y");if(g.innerHTML=String(Math.round(100*d.y)/100||0),u.appendChild(g),d.initial){var m=n.createElement("initial");u.appendChild(m)}if(d.accept){var p=n.createElement("final");u.appendChild(p)}}for(var f of r){var b=o.get(f.fromId),y=o.get(f.toId);if("number"==typeof b&&"number"==typeof y){var S=f.label.split("\n");for(var _ of S){var x=n.createElement("transition");l.appendChild(x);var C=n.createElement("from");C.innerHTML=String(b),x.appendChild(C);var R=n.createElement("to");R.innerHTML=String(y),x.appendChild(R);var w=n.createElement("read");w.innerHTML=String(_),x.appendChild(w)}}}return(new XMLSerializer).serializeToString(n)}$RefreshReg$(rr,"FiniteAutomataGraphExporter"),$RefreshReg$(nr,"FiniteAutomataJFLAP7Exporter");var sr,ir=$RefreshSig$();function lr(e){ir();var{svgRef:t}=Object(o.useContext)(ar.a),a=Object(m.c)(),r=Object(m.b)(),[n,s]=Object(o.useState)("Untitled");return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Export")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(mt.a,{title:"Export"},c.a.createElement(ra.a,{id:"fileName",value:n,onChange:e=>s(e.target.value)},"Enter filename"),c.a.createElement("ul",{style:{padding:0,listStyle:"none"}},c.a.createElement("li",null,c.a.createElement(Ea.a,{id:"exportGraph",onClick:()=>or(n,"graph",{graphType:a,graphState:r})},"Save to File")),c.a.createElement("li",null,c.a.createElement(Ea.a,{id:"exportJFLAP",onClick:()=>or(n,"jflap",{graphType:a,graphState:r})},"Export to JFF")),c.a.createElement("li",null,c.a.createElement(Ea.a,{id:"exportToImage",onClick:()=>or(n,"image",{svgRef:t})},"Export to Image")),c.a.createElement("li",null,c.a.createElement(Ea.a,{id:"exportToSVG",onClick:()=>or(n,"svg",{svgRef:t})},"Export to SVG"))))))}function or(e,t,a){switch(e||(e="Untitled"),t){case"image":tr.c(e+".png",tr.a,a.svgRef.current,640,480);break;case"svg":tr.c(e+".svg",tr.b,a.svgRef.current,640,480);break;case"graph":tr.d(e+".fa.json",rr(a.graphType,a.graphState));break;case"jflap":tr.d(e+".jff",nr(a.graphType,a.graphState))}}ir(lr,"cl6NTfWm0xSJRG96Aj6E6wTgwGc=",!1,(function(){return[m.c,m.b]})),sr=lr,lr.Tab=Object(gt.a)(j.d),$RefreshReg$(sr,"ExportPanel");var cr,dr=$RefreshSig$();function ur(e){dr();var{machineBuilderType:t}=e;return ae(t),c.a.createElement(c.a.Fragment,null)}dr(ur,"NOsby6jJFZYBhD4eTNQ6tGx6DoQ=",!1,(function(){return[ae]})),cr=ur,ur.propTypes={machineBuilderType:F.a.elementType.isRequired},$RefreshReg$(cr,"GraphMachineSource");var hr,gr=$RefreshSig$();function mr(e){gr();var{machineBuilderType:t}=e,a=ee(t),r=Object(o.useContext)(ua.a),n=Object(o.useRef)([]);return Object(o.useEffect)(()=>{var e=[...a.errors,...a.warnings],s=t.name+".errors";if(function(e,t){if(e.length!==t.length)return!0;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!0;return!1}(n.current,e))for(var i of(r({type:"dismiss",tags:[s]}),n.current=[...e],n.current))i.type="send",Array.isArray(i.tags)||(i.tags=[]),i.tags.push(s),r(i)}),c.a.createElement(c.a.Fragment,null)}gr(mr,"lbNvy16a+VNdPHymhE0iwch8KBs=",!1,(function(){return[ee]})),hr=mr,mr.propTypes={machineBuilderType:F.a.elementType.isRequired},$RefreshReg$(hr,"GraphMachineNotifier");var pr,fr=a(65),vr=a(102),br=a.n(vr);function Er(e){var{className:t,style:a,placeholder:r,disabled:n,value:s,onChange:i}=e;return c.a.createElement("div",{className:"".concat(br.a.element," ").concat(t)},c.a.createElement("span",null,"("),c.a.createElement("textarea",{style:a,value:s,placeholder:r,disabled:n,onChange:i}),c.a.createElement("span",null,")"))}pr=Er,Er.propTypes={children:F.a.node,className:F.a.string,style:F.a.object,placeholder:F.a.string,disabled:F.a.bool,value:F.a.string,onChange:F.a.func},Er.defaultProps={value:""},$RefreshReg$(pr,"TextArea");var yr,Sr=$RefreshSig$();function _r(e){Sr();var{element:t,closeEditor:a}=e,r=Object(o.useContext)(d.a),[n,s]=Object(o.useState)(t.label),[i,l]=Object(o.useState)(t.final);return c.a.createElement("div",{onContextMenu:xr},c.a.createElement(Er,{value:n,onChange:e=>s(e.target.value)}),c.a.createElement(kt,{id:"acceptNodeSwitch",checked:i,onChange:e=>{t.final=e,t.markDirty(),l(t.final)}},"Accepted"),c.a.createElement(Xt.a,{onClick:()=>{t.label=n,t.markDirty(),a()}},"Change Label"),c.a.createElement(Xt.a,{onClick:()=>{r({type:"delete",elementType:v.a,elementId:t.id}),a()}},"Delete This"))}function xr(e){return e.preventDefault(),e.stopPropagation(),!1}Sr(_r,"qjXM0TxCvNlfKKQPSsWgNZjHFxA="),yr=_r,_r.propTypes={element:F.a.object.isRequired,closeEditor:F.a.func.isRequired},$RefreshReg$(yr,"FiniteAutomataNodeEditor");var Cr,Rr=$RefreshSig$();function wr(e){Rr();var{element:t,closeEditor:a}=e,r=Object(o.useContext)(d.a),[n,s]=Object(o.useState)(t.label);return c.a.createElement("div",{onContextMenu:Nr},c.a.createElement(Er,{value:n,onChange:e=>s(e.target.value)}),c.a.createElement(Xt.a,{onClick:()=>{t.label=n,t.markDirty(),a()}},"Submit"),c.a.createElement(Xt.a,{onClick:()=>{r({type:"delete",elementType:E.a,elementId:t.id}),a()}},"Delete This"))}function Nr(e){return e.preventDefault(),e.stopPropagation(),!1}Rr(wr,"1OK2nrrLNXoVzC9oz0QeNcJ0Y+I="),Cr=wr,wr.propTypes={element:F.a.object.isRequired,closeEditor:F.a.func.isRequired},$RefreshReg$(Cr,"FiniteAutomataEdgeEditor");var Ir=$RefreshSig$();function Mr(e){Ir();var{elementType:t,elementId:a,closeEditor:r}=Object(o.useContext)(st.a),n=Object(Qe.a)(),s=Object(Ve.a)(t,a,n);return c.a.createElement(fr.a,null,s&&(t===v.a?c.a.createElement(_r,{element:s,closeEditor:r}):c.a.createElement(wr,{element:s,closeEditor:r})))}Ir(Mr,"nrfcqwGL0t8f2x1LbLioBFSJdv0=",!1,(function(){return[Qe.a,Ve.a]})),$RefreshReg$(Mr,"FiniteAutomataGraphEditor");class Tr extends r.a{static get moduleId(){return"fa"}static get moduleVersion(){return"4.0.0"}static get providers(){return[]}static get renders(){return{header:[ct,ut],appbar:[A],playarea:[[ur,{machineBuilderType:Ie}],[mr,{machineBuilderType:Ie}]],viewarea:[],drawer:[ca,er,Sa,lr]}}static get services(){return[i.a,s.a.withInitialMessages(["Hello"]),n.a.withGraphType(b,lt,Mr),l.a]}}},31:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return u}));var r,n=a(0),s=a.n(n),i=a(1),l=a.n(i),o=a(25),c=$RefreshSig$(),d=s.a.createContext(null);function u(e){c();var t=Object(n.useRef)(Object(o.g)());return s.a.createElement(d.Provider,{value:t.current},e.children)}c(u,"EpR9q2LbQuVxTw9OJp+mkYIERu4="),r=u,u.propTypes={children:l.a.node},$RefreshReg$(r,"MachineProvider")},35:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(33),n=a(31);class s extends r.a{static get serviceVersion(){return"1.0.0"}static get providers(){return[n.b]}}},84:function(e,t,a){e.exports={itemList:"src-modules-fa-drawer-overview-definition-__ItemList-module__itemList--3lap4",itemLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__itemLabel--3bnPP",emptyLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__emptyLabel--2J6sm",markedLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__markedLabel--2TePt"}},96:function(e,t,a){e.exports={chartKey:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__chartKey--1VaGi",chartValue:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__chartValue--1yXrM",forAllOtherInputs:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__forAllOtherInputs--1L0TS"}},97:function(e,t,a){e.exports={element:"src-components-lib-__FieldSwitch-module__element--1hDLG",disabled:"src-components-lib-__FieldSwitch-module__disabled---YHiG",checked:"src-components-lib-__FieldSwitch-module__checked--O7c33",label:"src-components-lib-__FieldSwitch-module__label--4Sp7a",inplace:"src-components-lib-__FieldSwitch-module__inplace--Vej_k"}},98:function(e,t,a){e.exports={tableEntry:"src-modules-fa-drawer-overview-analysis-__TransitionTable-module__tableEntry--1vo17",tableAxisHeader:"src-modules-fa-drawer-overview-analysis-__TransitionTable-module__tableAxisHeader--tjJ0G"}}}]);