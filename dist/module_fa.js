(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{30:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return u}));var r,n=a(0),s=a.n(n),i=a(1),o=a.n(i),l=a(25),c=$RefreshSig$(),h=s.a.createContext(null);function u(e){c();var t=Object(n.useRef)(Object(l.g)());return s.a.createElement(h.Provider,{value:t.current},e.children)}c(u,"EpR9q2LbQuVxTw9OJp+mkYIERu4="),r=u,u.propTypes={children:o.a.node},$RefreshReg$(r,"MachineProvider")},33:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(31),n=a(30);class s extends r.a{static get serviceVersion(){return"1.0.0"}static get providers(){return[n.b]}}},76:function(e,t,a){e.exports={itemList:"src-modules-fa-drawer-overview-definition-__ItemList-module__itemList--3lap4",itemLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__itemLabel--3bnPP",emptyLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__emptyLabel--2J6sm",markedLabel:"src-modules-fa-drawer-overview-definition-__ItemList-module__markedLabel--2TePt"}},85:function(e,t,a){e.exports={container:"src-components-pane-__Pane-module__container--3LUuP",innerContainer:"src-components-pane-__Pane-module__innerContainer--2SrWx",dropdown:"src-components-pane-__Pane-module__dropdown--1SA9L",title:"src-components-pane-__Pane-module__title--_MqlS"}},86:function(e,t,a){e.exports={chartKey:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__chartKey--1VaGi",chartValue:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__chartValue--1yXrM",forAllOtherInputs:"src-modules-fa-drawer-overview-definition-__TransitionChart-module__forAllOtherInputs--1L0TS"}},87:function(e,t,a){e.exports={element:"src-components-lib-__FieldSwitch-module__element--1hDLG",disabled:"src-components-lib-__FieldSwitch-module__disabled---YHiG",checked:"src-components-lib-__FieldSwitch-module__checked--O7c33",label:"src-components-lib-__FieldSwitch-module__label--4Sp7a",inplace:"src-components-lib-__FieldSwitch-module__inplace--Vej_k"}},88:function(e,t,a){e.exports={tableEntry:"src-modules-fa-drawer-overview-analysis-__TransitionTable-module__tableEntry--1vo17",tableAxisHeader:"src-modules-fa-drawer-overview-analysis-__TransitionTable-module__tableAxisHeader--tjJ0G"}},89:function(e,t,a){e.exports={container:"src-components-options-__Options-module__container--1O4mR"}},90:function(e,t,a){e.exports={element:"src-components-lib-__FieldInput-module__element--rh70p"}},91:function(e,t,a){e.exports={element:"src-components-lib-__FieldButton-module__element--3mt5M"}},92:function(e,t,a){e.exports={element:"src-components-lib-__TextArea-module__element--2gbYq"}},97:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return rn}));var r=a(23),n=a(42),s=a(43),i=a(39),o=a(33),l=a(0),c=a.n(l),h=a(29),u=a(50),d=a(74),g=a(75),m=a(28),f=a(73),p=a(65),v=a(26);class b extends p.a{static get version(){return"1.0.0"}static reducer(e,t){switch(t.type){case"add":if(t.elementType===v.a){var[a,r]=Object(h.c)(this,e,{type:"add",elementType:v.a,opts:t.opts}),n=Object.keys(a[this.getElementTypeKeyForElementType(v.a)]).length;return r.label="q"+(n-1),1===n&&(r.initial=!0),[a,r]}}}}var y=a(27),S=a(6);function E(e,t,a,r,n,s,i){try{var o=e[s](i),l=o.value}catch(e){return void a(e)}o.done?t(l):Promise.resolve(l).then(r,n)}function _(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function i(e){E(s,r,n,i,o,"next",e)}function o(e){E(s,r,n,i,o,"throw",e)}i(void 0)}))}}var w,C=new S.a("FiniteAutomataImporter");function x(e){return T.apply(this,arguments)}function T(){return(T=_((function*(e){var t=e.name,a=yield Object(f.a)(e),r={};try{t.endsWith(".fa.json")?r=b.deserialize(JSON.parse(a),{}):t.endsWith(".fsa.json")?r=R(a):t.endsWith(".jff")?r=N(a):t.endsWith(".json")?r=I(a):window.alert("Cannot import file with extension '".concat(t,"'."))}catch(e){C.error("Failed to import file.",e)}return r}))).apply(this,arguments)}function R(e){var t=JSON.parse(e);if("_metadata"in t)throw new Error("Missing metadata.");if("fsa"!==t._metadata.moduleID)throw new Error("Invalid module id.");throw new Error("Not yet implemented.")}function I(e){throw new Error("Not yet implemented.")}function N(e){var t=b.getElementTypeKeyForElementType(v.a),a=b.getElementTypeKeyForElementType(y.a),r={[t]:{},[a]:{}},n=(new DOMParser).parseFromString(e,"text/xml"),s=n.getElementsByTagName("state")||[],i=n.getElementsByTagName("transition")||[],o=r[t];for(var l of s)if(l.hasAttribute("id")){var c=l.getAttribute("id"),h=l.getAttribute("name"),u={x:Number.parseFloat(M(l,"x","0")),y:Number.parseFloat(M(l,"y","0")),label:h,initial:l.getElementsByTagName("initial").length>0,accept:l.getElementsByTagName("final").length>0};o[c]=u}var d=new Map,g=r[a],m=0;for(var f of i){var p=M(f,"from",null),S=M(f,"to",null);if(p&&S){var E=M(f,"read",""),_=p+":"+S;if(d.has(_)){d.get(_).label+="\n"+E}else{var w={fromId:p,toId:S,label:E};g["".concat(++m)]=w,d.set(_,w)}}}return b.deserialize(r,{},{forceIgnoreVersion:!0})}function M(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e.getElementsByTagName(t);if(r.length>0)for(var n of r)if(n.hasChildNodes())try{return n.childNodes[0].nodeValue}catch(e){}return a}w=x,$RefreshReg$(x,"FiniteAutomataImporter"),$RefreshReg$(w,"FiniteAutomataImporter");var O=a(7),$=a(4),j=a(5),k=$RefreshSig$(),D=new S.a("FiniteAutomataToolbar");function F(e){k();var t=Object(l.useContext)(h.d),a=Object(m.b)(),r=Object(l.useContext)(h.a),n=Object(l.useContext)(O.b),s=Object(l.useCallback)(e=>{var a=JSON.parse(e),n=t.deserialize(a,{});r({type:"resetState",state:n})},[r,t]);return Object(g.a)(t,()=>JSON.stringify(t.serialize(a,{}))),Object(l.useEffect)(()=>{D.debug("Performing autosave...");var e=t.serialize(a,{});localStorage.setItem(t.name+".graphData",JSON.stringify(e))}),c.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},c.a.createElement($.a,{iconClass:j.f,onClick:()=>r("clearAll"),title:"New"}),c.a.createElement(d.b,{source:t,update:s}),c.a.createElement(d.a,{source:t,update:s}),c.a.createElement($.a,{iconClass:j.d,onClick:()=>n({type:"change-tab",value:3}),title:"Save"}),c.a.createElement(u.a,{iconClass:j.n,onUpload:e=>x(e).then(e=>r({type:"resetState",state:e}))}))}k(F,"GRTXqR2yqI/rY6dltT+vu7hqPCM=",!1,(function(){return[m.b,g.a]})),$RefreshReg$(F,"FiniteAutomataToolbar");var L=a(1),A=a.n(L),P=a(78),q=a(67),H=a(30),B=a(59),G=new Map;function U(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];G.has(e)||G.set(e,new Map);var r=G.get(e);if(r.has(t)){var n=r.get(t);return n}if(!a)throw new Error("Cannot find non-existent machine builder for type '".concat(e.name,"' and name '").concat(t,"'."));var s=new e,i={builder:s,refCount:0,persistent:!1};return r.set(t,i),i}var Q=$RefreshSig$(),z=$RefreshSig$(),V=$RefreshSig$();function J(e,t){Q();var[a,r]=Object(l.useState)(null),n=Object(l.useContext)(H.a)+":"+t,s=U(e,n,!0).builder;return Object(B.a)(()=>{var e=s.getCurrentBuildId();e!==a&&r(e)}),function(e,t){U(e,t,!1).refCount+=1}(e,n),Object(l.useEffect)(()=>()=>{!function(e,t){U(e,t,!1).refCount-=1}(e,n),function(e,t){var a=U(e,t,!1);return a.persistent||a.refCount>0}(e,n)||function(e,t){if(G.has(e)){var a=G.get(e);a.has(t)&&a.delete(t)}}(e,n)}),s}function X(e,t){return z(),J(e,t).getMachine()}function K(e,t,a){V();var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(e,t)=>{},n=Object(l.useContext)(H.a),s=n+":"+t,i=U(e,s,!0),o=i.builder,c=i.opts||{};i.opts={};var h=Object(l.useCallback)((e,t)=>{i.opts=t,r.call(void 0,e,t)},[r,i]);o.setSourceCallback(h),o.applySource(a,c)}Q(J,"4rOoIavkmIkeYDQdOJE2H+hj5F8=",!1,(function(){return[B.a]})),z(X,"EDjX3jhQXI3egMuxDK7xJE7/Acs=",!1,(function(){return[J]})),V(K,"3/9nZNJSIZhjm51QWAIWVfnQzmg=");var W=$RefreshSig$(),Y=$RefreshSig$(),Z=$RefreshSig$();function ee(e){return W(),J(e,"graph")}function te(e){return Y(),X(e,"graph")}function ae(e){Z();var t=Object(m.c)(),a=Object(m.b)(),r=Object(m.a)();K(e,"graph",a,(n,s)=>e.updateGraphFromMachine(t,a,r,n,s))}function re(e,t,a,r,n,s,i){try{var o=e[s](i),l=o.value}catch(e){return void a(e)}o.done?t(l):Promise.resolve(l).then(r,n)}W(ee,"BF50W6wJQIN3o5A+SAyHt9RF8Ok=",!1,(function(){return[J]})),Y(te,"h05vnEfuaRqE9Ulnpd3diupzsto=",!1,(function(){return[X]})),Z(ae,"5D/m5OLAGxtcOrXCp+LEqF/rap4=",!1,(function(){return[m.c,m.b,m.a,K]}));var ne=a(25);class se{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._label=e,this._src=t,this._id=Object(ne.e)()}copy(){var e=new se;return e._label=this._label,e._src=this._src,e._id=this._id,e}getStateLabel(){return this._label}getStateID(){return this._id}getSource(){return this._src}getAssociatedGraphElement(){return this._src}getHashString(){return this._id}}class ie{constructor(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._from=e,this._to=t,this._symbols=a,this._src=r}copy(){var e=new ie;return e._from=this._from,e._to=this._to,e._symbols=this._symbols.slice(),e._src=this._src,e}getSourceState(){return this._from}getDestinationState(){return this._to}addSymbol(e){this._symbols.push(e)}hasSymbol(e){return this._symbols.includes(e)}getSymbols(){return this._symbols}getAssociatedGraphElement(){return this._src}getHashString(){return this._from.getHashString()+":"+this._symbols.join(",")+":"+this._to.getHashString()}}var oe=class{constructor(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._states=new Map,this._alphabet=new Map,this._transitions=new Map,this._finalStates=new Set,this._customSymbols=new Set,this._startState=null,this._deterministic=e,this._errors=[]}copy(e){if(e!==this){for(var[t,a]of(this.clear(),e._states.entries())){var r=a.copy();this._states.set(t,r),e.isStartState(a)&&(this._startState=r),e.isFinalState(a)&&this._finalStates.add(r)}for(var[n,s]of e._alphabet.entries())this._alphabet.set(n,s);for(var[i,o]of e._transitions.entries()){var l=o.copy();l._from=this._states.get(o.getSourceState().getStateID()),l._to=this._states.get(o.getDestinationState().getStateID()),this._transitions.set(i,l)}for(var c of e._customSymbols)this._customSymbols.add(c);for(var h of(this._deterministic=e._deterministic,e._errors))this._errors.push(h)}}clear(){this._states.clear(),this._alphabet.clear(),this._transitions.clear(),this._finalStates.clear(),this._customSymbols.clear(),this._startState=null,this._errors.length=0}setDeterministic(e){this._deterministic=e}isDeterministic(){return this._deterministic}validate(){if(this._errors.length=0,this._deterministic){var e=new Map;for(var t of this._alphabet.keys())e.set(t,!1);for(var a of this._states.values()){var r=this.getOutgoingTransitions(a);for(var n of r){var s=n[1];if(e.get(s))return this._errors.push("duplicate symbol: "+s),!1;e.set(s,!0)}for(var i of e.keys()){if(!e.get(i))return this._errors.push("missing symbol: "+i),!1;e.set(i,!1)}}return this._errors.length=0,!0}return this._errors.length=0,!0}isValid(){return 0==this._errors.length}getErrors(){return this._errors}createState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.addState(new se(e))}addState(e){var t=e.getStateID();if(this._states.has(t))throw new Error("Already added state with id '"+t+"'");return this._states.size<=0&&(this._startState=e),this._states.set(t,e),e}removeState(e){var t=e.getStateID();return!!this._states.has(t)&&(this._states.delete(t),this._startState===e&&(this._states.size<=0?this._startState=null:this._startState=this._states.values().next().value),!0)}hasStateWithLabel(e){for(var t of this._states.values())if(t.getStateLabel()==e)return!0;return!1}getStatesByLabel(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(var a of this._states.values())a.getStateLabel()==e&&t.push(a);return t}getStateByID(e){return this._states.get(e)}hasState(e){return this._states.has(e.getStateID())}getStates(){return this._states.values()}getStateCount(){return this._states.size}addTransition(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(!this.hasState(e))throw new Error("Trying to add a transition to unknown state with label '"+e.getStateLabel()+"'");if(!this.hasState(t))throw new Error("Trying to add a transition to unknown state with label '"+t.getStateLabel()+"'");if(!a)throw new Error("Cannot add transition for null symbol - use the empty symbol instead");var n=e.getStateID()+"->"+t.getStateID();if(this._transitions.has(n)){var s=this._transitions.get(n);if(s.hasSymbol(a))return!1;s.addSymbol(a)}else this._transitions.set(n,new ie(e,t,[a],r));return this._incrSymbolCount(a),!0}removeTransition(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.getStateID()+"->"+t.getStateID();if(!this._transitions.has(r))return!1;var n=this._transitions.get(r).getSymbols();if(a){var s=n.indexOf(a);return s>=0&&(this._decrSymbolCount(a),n.splice(s,1),n.length<=0&&this._transitions.delete(r),!0)}for(var i of n)this._decrSymbolCount(i);return this._transitions.delete(r),!0}hasTransition(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.getStateID()+"->"+t.getStateID();return!!this._transitions.has(r)&&(!a||this._transitions.get(r).hasSymbol(a))}getTransitionSymbols(e,t){var a=e.getStateID()+"->"+t.getStateID();return this._transitions.has(a)?this._transitions.get(a).getSymbols():null}getTransitions(){return this._transitions.values()}_incrSymbolCount(e){if("&empty"!==e){var t=this._alphabet.get(e)||0;this._alphabet.set(e,t+1)}}_decrSymbolCount(e){if(!this._alphabet.has(e))throw new Error("Unable to find valid transition symbol in alphabet");if("&empty"!==e){var t=this._alphabet.get(e);t<=1?this.isCustomSymbol(e)?this._alphabet.set(e,0):this._alphabet.delete(e):this._alphabet.set(e,t-1)}}changeSymbol(e,t){if("&empty"===e)throw new Error("Cannot change the empty symbol");if("&empty"===t)throw new Error("Cannot change to the empty symbol");if(this._alphabet.has(t))throw new Error("Cannot change symbol to another existing symbol");for(var a of this._transitions.values()){var r=a.getSymbols(),n=r.indexOf(e);n>=0&&(r[n]=t)}var s=this._alphabet.get(e);this._alphabet.set(t,s),this._alphabet.delete(e),this._customSymbols.has(e)&&(this._customSymbols.delete(e),this._customSymbols.add(t))}removeSymbol(e){var t=[];for(var[a,r]of this._transitions.entries()){var n=r.getSymbols(),s=n.indexOf(e);s>=0&&(n.splice(s,1),n.length<=0&&t.push(a))}for(var i of t)this._transitions.delete(i);"&empty"!==e&&(this._customSymbols.has(e)?this._alphabet.set(e,0):this._alphabet.delete(e))}setCustomSymbol(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("&empty"===e)throw new Error("Cannot change the empty symbol as a custom symbol");t?this._customSymbols.has(e)||(this._customSymbols.add(e),this._alphabet.has(e)||this._alphabet.set(e,0)):this._customSymbols.has(e)&&(this._customSymbols.delete(e),this._alphabet.has(e)&&this._alphabet.get(e)<=0&&this._alphabet.delete(e))}isCustomSymbol(e){return this._customSymbols.has(e)}getCustomSymbols(){return this._customSymbols}clearCustomSymbols(){this._customSymbols.clear()}isUsedSymbol(e){return this._alphabet.has(e)&&this._alphabet.get(e)>0}isSymbol(e){return this._alphabet.has(e)}getAlphabet(){return Array.from(this._alphabet.keys())}UNSAFE_getAlphabet(){return this._alphabet.keys()}setStartState(e){var t=e.getStateID();this._states.has(t)||this._states.set(t,e),this._startState=e}isStartState(e){return this._startState===e}getStartState(){return this._startState}setFinalState(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])this._states.has(e.getStateID())||this.addState(e),this._finalStates.add(e);else{if(!this._states.has(e.getStateID()))throw new Error("Trying to change final for missing state '"+e.getStateLabel()+"'");this._finalStates.delete(e)}}isFinalState(e){return this._finalStates.has(e)}getFinalStates(){return this._finalStates}doTransition(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!e)return r;if(!(e instanceof se))throw new Error("Invalid state instance type '"+typeof e+"'");if(!this._states.has(e.getStateID()))throw new Error("Unable to find source state with id '"+e.getStateID()+"'");t||(t="&empty");var n=e.getStateID()+"->";for(var s of this._transitions.keys())if(s.startsWith(n)){var i=this._transitions.get(s);if(i.hasSymbol(t)&&(r.push(i.getDestinationState()),!a&&this._deterministic))return r}return r}doTerminalTransition(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return a;if(!this._states.has(e.getStateID()))throw new Error("Unable to find source state with id '"+e.getStateID()+"'");t||(t="&empty");var r=e.getStateID()+"->";for(var n of this._transitions.keys())if(n.startsWith(r)){var s=this._transitions.get(n);if(s.hasSymbol(t)){var i=s.getDestinationState(),o=this.doClosureTransition(i);for(var l of o)a.includes(l)||a.push(l)}}return a}doClosureTransition(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;t.push(e);for(var a=0;a<t.length;++a){var r=this.getOutgoingTransitions(t[a]);for(var n of r)if("&empty"===n[1]){var s=n[2];t.includes(s)||t.push(s)}}return t}getOutgoingTransitions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;if(!this._states.has(e.getStateID()))throw new Error("Unable to find source state with id '"+e.getStateID()+"'");var a=e.getStateID()+"->";for(var r of this._transitions.keys())if(r.startsWith(a)){var n=this._transitions.get(r),s=n.getSymbols();for(var i of s)t.push([e,i,n.getDestinationState()])}return t}getHashCode(){var e="";for(var t of this._states.values())e+=t.getHashString()+",";for(var a of(e+="|",this._transitions.values()))e+=a.getHashString()+",";for(var r of(e+="|",this._finalStates))e+=r.getHashString();return e+="|",e+=this._startState?this._startState.getHashString():"",e+="|",e+=this._deterministic?"d":"n",Object(ne.f)(e)}};function le(e){return Object(ne.f)(function(e){if(!e)return"";var t=b.getElementTypeKeyForElementType(v.a),a=b.getElementTypeKeyForElementType(y.a),r=e[t]?Object.keys(e[t]).sort():[],n=e[a]?Object.keys(e[a]).sort():[],s=[];for(var i of r){var o=e[t][i];s.push("".concat(o.id," ").concat(o.label," ").concat(o.final))}var l=[];for(var c of n){var h=e[a][c];l.push("".concat(h.fromId," ").concat(h.toId," ").concat(h.label))}return"n:"+s.join(",")+"|e:"+l.join(",")}(e))}var ce=a(32);function he(e,t,a){e({type:"delete",elementType:t,elementId:a})}function ue(e,t){he(e,y.a,t)}var de,ge,me=$RefreshSig$();function fe(e){me();var{message:t,messageId:a}=e,{edgeIds:r}=t,n=Object(m.a)();return c.a.createElement(ce.a,{messageId:a,mode:"error",message:"Found ".concat(r.length," incomplete transition(s)."),renderControls:e=>c.a.createElement("div",null,c.a.createElement("button",{onClick:()=>{ue(n,r),e()}},"Delete all incomplete edges."))})}function pe(e){var{message:t,messageId:a}=e,{nodeIds:r,label:n}=t;return c.a.createElement(ce.a,{messageId:a,mode:"error",message:"Found ".concat(r.length," duplicate states for ").concat(n,".")})}me(fe,"ZC+nXBmMlOkgWTATsr75RqVkYSg=",!1,(function(){return[m.a]})),de=fe,fe.propTypes={messageId:A.a.string.isRequired,message:A.a.shape({edgeIds:A.a.arrayOf(A.a.string)})},$RefreshReg$(de,"IncompleteTransitionErrorMessage"),ge=pe,pe.propTypes={messageId:A.a.string.isRequired,message:A.a.shape({nodeIds:A.a.arrayOf(A.a.string),label:A.a.string})},$RefreshReg$(ge,"DuplicateNodeErrorMessage");var ve,be=$RefreshSig$();function ye(e){be();var{message:t,messageId:a}=e,{nodeIds:r,labels:n}=t,s=Object(m.a)();return c.a.createElement(ce.a,{messageId:a,mode:"warning",message:"Found ".concat(r.length," unreachable states labeled: \n ").concat(n.join(", ")),renderControls:e=>c.a.createElement("div",null,c.a.createElement("button",{onClick:()=>{!function(e,t){!function(e,t,a){e({type:"deleteAll",elementType:t,elementIds:a})}(e,v.a,t)}(s,r),e()}},"Delete all unreachable."))})}be(ye,"ZC+nXBmMlOkgWTATsr75RqVkYSg=",!1,(function(){return[m.a]})),ve=ye,ye.propTypes={messageId:A.a.string.isRequired,message:A.a.shape({nodeIds:A.a.arrayOf(A.a.string),labels:A.a.arrayOf(A.a.string)})},$RefreshReg$(ve,"UnreachableNodeErrorMessage");var Se,Ee,_e,we=$RefreshSig$();function Ce(e){we();var{message:t,messageId:a}=e,{edgeIds:r}=t,n=Object(m.a)();return c.a.createElement(ce.a,{messageId:a,mode:"error",message:"Found ".concat(r.length," empty transition(s).\nReason: Deterministic."),renderControls:e=>c.a.createElement("div",null,c.a.createElement("button",{onClick:()=>{ue(n,r),e()}},"Delete all empty transitions."))})}function xe(e){var{message:t,messageId:a}=e,{edgeIds:r,fromNodeLabel:n,symbol:s}=t;return c.a.createElement(ce.a,{messageId:a,mode:"error",message:"Found ".concat(r.length," duplicate transitions from state ").concat(n," with symbol ").concat(s,".\nReason: Deterministic.")})}function Te(e){var{message:t,messageId:a}=e,{symbols:r,label:n}=t;return c.a.createElement(ce.a,{messageId:a,mode:"error",message:"Node ".concat(n," is missing transtion(s) for the following symbol(s) ").concat(r,".\nReason: Deterministic.")})}we(Ce,"ZC+nXBmMlOkgWTATsr75RqVkYSg=",!1,(function(){return[m.a]})),Se=Ce,Ce.propTypes={messageId:A.a.string.isRequired,message:A.a.shape({edgeIds:A.a.arrayOf(A.a.string)})},$RefreshReg$(Se,"EmptyTransitionErrorMessage"),Ee=xe,xe.propTypes={messageId:A.a.string.isRequired,message:A.a.shape({edgeIds:A.a.arrayOf(A.a.string),fromNodeLabel:A.a.string,symbol:A.a.string})},$RefreshReg$(Ee,"DuplicateTransitionErrorMessage"),_e=Te,Te.propTypes={messageId:A.a.string.isRequired,message:A.a.shape({symbols:A.a.arrayOf(A.a.string),label:A.a.string})},$RefreshReg$(_e,"MissingTransitionErrorMessage");class Re{constructor(){this.deterministic=!1,this.startNodeId=null,this.startState=null,this.nodeLabels=new Map,this.nodeOutgoings=new Map,this.edgeSymbols=new Set,this.edgePlaceholders=[],this.edgeEmpties=[],this.stateToNodeIdMap=new Map,this.nodeIdToStateLabelMap=new Map}setDeterministic(e){return this.deterministic=e,this}setStartState(e,t){return this.startNodeId=e,this.startState=t,this}addState(e,t){var a=t.getStateLabel();return this.nodeIdToStateLabelMap.set(e,a),this.stateToNodeIdMap.set(t,e),this.nodeLabels.has(a)?this.nodeLabels.get(a).push(t):this.nodeLabels.set(a,[t]),this.nodeOutgoings.set(t,new Map),this}addTransition(e,t,a,r){var n=this.nodeOutgoings.get(t),s=n.get(r);return s||n.set(r,s=new Array),s.push(e),this}addPlaceholder(e){return this.edgePlaceholders.push(e),this}addSymbolForEdge(e,t){return"ε"===t?this.edgeEmpties.push(e):this.edgeSymbols.add(t),this}validate(e,t){var a=[],r=[],{deterministic:n,nodeLabels:s,edgePlaceholders:i,edgeEmpties:o,nodeOutgoings:l,edgeSymbols:c,stateToNodeIdMap:h,nodeIdToStateLabelMap:u}=this;for(var[d,g]of(i.length>0&&a.push({component:fe,message:{edgeIds:i}}),s.entries()))g.length>1&&a.push({component:pe,message:{label:d,nodeIds:g.map(e=>h.get(e))}});var m=function(e,t,a){var r=[...e.getElementIds(t,v.a)];if(!a)return[];if(r.length<=1)return[];r.splice(r.indexOf(a),1);var n=e.getElements(t,y.a),s=[];for(s.push(a);s.length>0;){var i=s.pop();for(var o of n)if(o.fromId===i){var l=r.indexOf(o.toId);if(l>=0){var c=r.splice(l,1)[0];s.push(c)}}}return r}(e,t,this.startNodeId);if(m&&m.length>0&&r.push({component:ye,message:{labels:m.map(e=>u.get(e)),nodeIds:m}}),n){o.length>0&&a.push({component:Ce,message:{edgeIds:o}});var f=[];for(var[p,b]of l.entries()){for(var S of c){var E=b.get(S);E?1!==E.length&&a.push({component:xe,message:{edgeIds:E,fromNodeLabel:u.get(h.get(p)),symbol:S}}):f.push(S)}f.length>0&&(a.push({component:Te,message:{symbols:[...f],label:u.get(h.get(p))}}),f.length=0)}}return{errors:a,warnings:r}}}function Ie(e,t,a,r,n){var s=a.getElementTypeKeyForElementType(v.a),i=a.getElementTypeKeyForElementType(y.a);e.sourceMap.clear(),e.errors.length=0,e.warnings.length=0;var o=t.isDeterministic();t.clear();var l=(new Re).setDeterministic(o),c=new Map;if(r[s])for(var h of Object.keys(r[s])){var u=r[s][h],{label:d,final:g,initial:m}=u,f=new se(d,u);t.addState(f),c.set(h,f.getStateID()),e.sourceMap.set(f.getStateID(),h),g&&t.setFinalState(f,!0),m&&(t.setStartState(f),l.setStartState(h,f)),l.addState(h,f)}if(r[i])for(var p of Object.keys(r[i])){var b=r[i][p],{fromId:S,toId:E,label:_}=b;if(E){if(S&&E){var w=c.get(S),C=c.get(E),x=t.getStateByID(w),T=t.getStateByID(C);if(!x||!T)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var R=_.split("\n");for(var I of R)if(I){var N=void 0;switch(I){case"ε":N="&empty";break;default:N=I}t.addTransition(x,T,N,b),l.addSymbolForEdge(p,I),l.addTransition(p,x,T,N)}}}else l.addPlaceholder(p)}return l.validate(a,r)}class Ne extends class extends class{static build(){throw new Error("No implementation found for ".concat(this.name,".build()."))}constructor(){this._machine=this.constructor.build(null),this._buildId=0,this._sourceCallback=null,this._resolveCallback=null,this._changeQueue=[]}updateMachineFromSource(e,t){throw new Error("No implementation found for this.updateMachineFromSource().")}setPersistent(e){return this._persistent=e,this}setSourceCallback(e){if(e)this._sourceCallback=e,this.propagateRemainingChanges();else{this._sourceCallback=null;var t=this._resolveCallback;t&&(this._resolveCallback=null,t(this._machine))}return this}applySource(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(t.builder=this),this.updateMachineFromSource(this._machine,e,t)&&(this._buildId=this.getNextBuildId());var a=this._resolveCallback;a&&(this._resolveCallback=null,a(this._machine),this.propagateRemainingChanges())}applyChanges(e){var t,a=arguments,r=this;return(t=function*(){var t=a.length>1&&void 0!==a[1]?a[1]:{};if(t&&(t.builder=r),r._sourceCallback&&!r._resolveCallback){r._resolveCallback=!0;var n=r._machine,s=r.constructor.build(n,t);return new Promise(a=>{r._resolveCallback=a,e(s),r._sourceCallback(s,t),r._machine=s})}var i={callback:e,opts:t,resolve:null};return r._changeQueue.push(i),new Promise(e=>i.resolve=e)},function(){var e=this,a=arguments;return new Promise((function(r,n){var s=t.apply(e,a);function i(e){re(s,r,n,i,o,"next",e)}function o(e){re(s,r,n,i,o,"throw",e)}i(void 0)}))})()}propagateRemainingChanges(){if(this._sourceCallback&&!this._resolveCallback&&this._changeQueue.length>0){var e=this._changeQueue.shift();this._resolveCallback=e.resolve;var t=this._machine,a=this.constructor.build(t,e.opts);e.callback(a),this._sourceCallback(a,e.opts),this._machine=a}}getMachine(){return this._machine}getNextBuildId(){return this._buildId+1}getCurrentBuildId(){return this._buildId}}{static updateGraphFromMachine(e,t,a,r){throw new Error("No implementation found for ".concat(this.name,".updateGraphFromMachine()."))}}{static build(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).machineOnly)return e;var t=new oe(!1);return e&&t.copy(e),t}static updateGraphFromMachine(e,t,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(n.machineOnly)a({type:"forceUpdate"});else{var s=function(e,t,a,r,n){var s,i,o,l,c,h,u,d=a.getElementTypeKeyForElementType(v.a),g=a.getElementTypeKeyForElementType(y.a),m={[d]:{},[g]:{}},f=0;for(var p of t.getStates()){var b={},S=p.getStateID();if(n.builder){S=n.builder.sourceMap.get(p.getStateID())||S;var E=a.getElement(r,v.a,S);E?v.a.serialize(E,b):(b.x=f,b.y=f,f+=10)}else b.x=f,b.y=f,f+=10;var _=p.getAssociatedGraphElement();_&&(b.x=_.x,b.y=_.y),b.label=p.getStateLabel(),t.isStartState(p)?b.initial=!0:b.initial=!1,t.isFinalState(p)?b.final=!0:b.final=!1,m[d][S]=b}for(var w of t.getTransitions())if((i=w.getSourceState())&&(c=i.getStateID())&&(n.builder&&(c=n.builder.sourceMap.get(c)||c),u=w.getSymbols().join("\n"),(o=w.getDestinationState())&&(h=o.getStateID()))){n.builder&&(h=n.builder.sourceMap.get(h)||h),l={fromId:c,toId:h,label:u};var C=w.getAssociatedGraphElement();C?(s=C.id,C.quad&&(l.quad=C.quad)):s=Object(ne.g)(),m[g][s]=l}return m}(0,r,e,e,n);a({type:"resetState",state:e.deserialize(s,{},{forceIgnoreVersion:!0})})}}constructor(){super(),this.sourceMap=new Map,this.errors=[],this.warnings=[],this.prevSourceHash=0,this.prevDeterminism=null}shouldMachineUpdate(e,t){var a=le(t),r=this.prevSourceHash;this.prevSourceHash=a;var n=e.isDeterministic(),s=this.prevDeterminism;return this.prevDeterminism=n,a!==r||n!==s}updateMachineFromSource(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a.machineOnly){var{errors:r,warnings:n}=Ie(this,e,b,t);return this.errors.length=0,this.warnings.length=0,r&&this.errors.push(...r),n&&this.warnings.push(...n),!0}if(!this.shouldMachineUpdate(e,t))return!1;var{errors:s,warnings:i}=Ie(this,e,b,t);return this.errors.length=0,this.warnings.length=0,s&&this.errors.push(...s),i&&this.warnings.push(...i),!0}}var Me=$RefreshSig$();function Oe(e){Me();var t=te(Ne).getStateCount()>0;return c.a.createElement(q.a,{hidden:t})}Me(Oe,"fL5RM/k7x3D0s2/3VYE3ZU2exdc=",!1,(function(){return[te]})),$RefreshReg$(Oe,"FiniteAutomataTooltip");var $e=a(51),je=a(55),ke=a(40),De=a.n(ke);function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var Le;function Ae(e){var{size:t,angle:a,offset:r,childProps:n,maskProps:s}=e,i=Math.cos(a),o=Math.sin(a),l=e.x+i*r,h=e.y+o*r,u=i*t,d=1.2*u;return c.a.createElement(c.a.Fragment,null,c.a.createElement("path",Fe({className:De.a.decorative,d:"M".concat(l," ").concat(h)+" L".concat(l+d," ").concat(h+Math.sin(a+Math.PI/2)*t*1.2)+" L".concat(l+d," ").concat(h-Math.sin(a+Math.PI/2)*t*1.2)+" Z",fill:"transparent"},n)),c.a.createElement("circle",Fe({className:De.a.mask,cx:l+u,cy:h,r:t+4},s)))}Le=Ae,Ae.propTypes={style:A.a.object,x:A.a.number,y:A.a.number,size:A.a.number,angle:A.a.number,offset:A.a.number,childProps:A.a.object,maskProps:A.a.object},Ae.defaultProps={x:0,y:0,size:10,angle:Math.PI,offset:0,childProps:{},maskProps:{}},$RefreshReg$(Le,"MarkerTriangleRenderer");var Pe,{ConnectorProvider:qe,useConnectorFromBehavior:He,useConnectorToBehavior:Be}=Object(je.a)((e,t,a)=>{var r=t||a||null;return c.a.createElement(c.a.Fragment,null,r&&c.a.createElement(Ae,{x:r.x,y:r.y,offset:r.radius||0,childProps:{pointerEvents:"none"},maskProps:{pointerEvents:"none"}}))}),Ge=a(77),Ue=a(72),Qe=a(36),ze=a(35),Ve=a(58),Je=a(49),Xe=a(48),Ke=a(41),We=a(71),Ye=$RefreshSig$();function Ze(e){Ye();var{element:t}=e,a=Object(l.useRef)(null),r=Object(l.useRef)(null),n=Object(l.useRef)(null),s=Object(Qe.a)(),i=Object(ze.a)(v.a,t.fromId,s),o=Object(ze.a)(v.a,t.toId,s),h=Ke.f(i,o,t),u=Ke.d(i,o,t),d=Ke.c(i,o,t),g=Ke.e(i,o,t),[,m]=Object(We.a)(a,r,n,t,i,o,h,d,u);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ve.a,{start:h,end:u,center:d,label:t.label,labelDirection:g,labelKeepUp:!0,maskProps:{ref:a},labelProps:{ref:r},hidden:m,renderEndpoint:(e,t,a)=>"forward"===a?c.a.createElement(Je.a,{x:e.x,y:e.y,angle:t,maskProps:{ref:n}}):c.a.createElement(Xe.a,{x:e.x,y:e.y,angle:t,maskProps:{style:{pointerEvents:"none"}}})}),e.children)}Ye(Ze,"fBS/0Js8dP0HKVm21KJxRs9T4Ss=",!1,(function(){return[Qe.a,ze.a,ze.a,We.a]})),Pe=Ze,Ze.propTypes={children:A.a.node,element:A.a.object.isRequired},$RefreshReg$(Pe,"FiniteAutomataEdgeElementComponent");var et,tt=a(69),at=a(68),rt=$RefreshSig$();function nt(e){rt();var{element:t}=e,a=Object(l.useRef)(null),r=Object(l.useRef)(null);Object(tt.a)(a,t);var n=He(r,t,{onDragBegin:()=>Boolean(t.initial)});Be(a,t);var s=t.initial&&!n;return c.a.createElement(c.a.Fragment,null,c.a.createElement(at.a,{x:t.x,y:t.y,label:t.label,inner:t.final?.8*t.radius:0,radius:t.radius,maskProps:{ref:a}}),c.a.createElement(Ae,{x:t.x,y:t.y,offset:t.radius,childProps:{style:{visibility:s?"unset":"hidden"}},maskProps:{ref:r,pointerEvents:s?"auto":"none"}}),e.children)}rt(nt,"15ubdMyUTNSX599yTdQOy8TJr4U=",!1,(function(){return[tt.a,He,Be]})),et=nt,nt.propTypes={children:A.a.node,element:A.a.object.isRequired},$RefreshReg$(et,"FiniteAutomataNodeElementComponent");var st,it=a(38),ot=$RefreshSig$();function lt(e){ot();var{openEditor:t}=Object(l.useContext)(it.a),{createNode:a,createEdge:r,swapInitial:n}=Object(Ue.a)(),s=Object(m.b)();return Object(Ge.b)(),Object(Ge.a)((e,t)=>a({x:e,y:t})),c.a.createElement(c.a.Fragment,null,c.a.createElement(qe,{onConnect:n},c.a.createElement($e.a,{onConnect:(e,a,n,i)=>{var o=function(e,t,a){var r=b.getElements(a,y.a);for(var n of r)if(n.fromId===e.id&&n.toId===t.id)return n;return}(e,a,s);if(o)t(o.type,o.id);else if(i.prevEdge){var l=i.prevEdge;l.fromId=e.id,l.toId=a.id,l.markDirty()}else r(e,a).then(e=>t(e.type,e.id))},onCancel:(e,t,a,r)=>{if(r.prevEdge){var n=r.prevEdge;n.toId=0,Ke.b(null,e,a,n),n.markDirty()}}},c.a.createElement(Oe,null),c.a.createElement(P.a,{elementType:v.a},e=>c.a.createElement(nt,{element:e})),c.a.createElement(P.a,{elementType:y.a},e=>c.a.createElement(Ze,{element:e})),e.children)))}ot(lt,"nVlvCtYTVAM4DUIcl0JvajBifkE=",!1,(function(){return[Ue.a,m.b,Ge.b,Ge.a]})),st=lt,lt.propTypes={children:A.a.node},$RefreshReg$(st,"FiniteAutomataGraphPlayground");var ct=$RefreshSig$();function ht(){ct();var e=Object(m.c)(),t=Object(m.a)(),[a,r]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{if(!a){var n,s=JSON.parse(localStorage.getItem(e.name+".graphData"));try{n=e.deserialize(s,{})}catch(e){n={}}t({type:"resetState",state:n}),r(!0)}},[a,e,t]),c.a.createElement(c.a.Fragment,null)}ct(ht,"aymCdvceEPf9i/2cMjHeE3p0rhQ=",!1,(function(){return[m.c,m.a]})),$RefreshReg$(ht,"AutoInit");var ut=$RefreshSig$();function dt(){ut();var e=Object(l.useContext)(h.d),t=Object(m.b)();return Object(l.useEffect)(()=>{var a=!0,r=e.name+".graphData",n=setInterval(()=>{if(a){var n=e.serialize(t,{});localStorage.setItem(r,JSON.stringify(n))}},3e3);return()=>{a=!1,clearInterval(n)}}),c.a.createElement(c.a.Fragment,null)}ut(dt,"nIObdE0nZla12nvzS0l37B6pYww=",!1,(function(){return[m.b]})),$RefreshReg$(dt,"AutoSave");var gt=a(13),mt=a(85),ft=a.n(mt);class pt extends c.a.Component{constructor(e){super(e),this.state={open:!0},this.onHeaderClick=this.onHeaderClick.bind(this)}onHeaderClick(e){this.setState(e=>({open:!e.open}))}render(){var e=this.props,t=this.state.open;return c.a.createElement("section",{className:ft.a.container+" "+(e.className||"")+(t?" open":"")},c.a.createElement("div",{className:ft.a.innerContainer},c.a.createElement("header",null,c.a.createElement("button",{className:ft.a.dropdown,onClick:this.onHeaderClick},c.a.createElement("span",{className:ft.a.title},e.title),c.a.createElement(j.k,{className:"icon"}))),c.a.createElement("main",null,e.children)))}}pt.propTypes={className:A.a.string,children:A.a.node,title:A.a.oneOfType([A.a.string,A.a.node])},pt.defaultProps={};var vt,bt=pt,yt=a(76),St=a.n(yt),Et=$RefreshSig$();function _t(e){Et();var t=J(Ne,e.machineName).getMachine(),a=Array.from(t.getStates());return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"States"),a.length<=0?c.a.createElement("ul",{className:St.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:St.a.emptyLabel},"∅"))):c.a.createElement("ul",{className:St.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:St.a.itemLabel},"{")),a.map((e,r)=>c.a.createElement("li",{key:e.getStateID()},c.a.createElement("label",{className:St.a.itemLabel+" "+(t.isFinalState(e)?St.a.markedLabel:"")},r<a.length-1?e.getStateLabel()+",":e.getStateLabel()))),c.a.createElement("li",null,c.a.createElement("label",{className:St.a.itemLabel},"}"))))}Et(_t,"EDjX3jhQXI3egMuxDK7xJE7/Acs=",!1,(function(){return[J]})),vt=_t,_t.propTypes={machineName:A.a.string.isRequired},$RefreshReg$(vt,"StateList");var wt,Ct=$RefreshSig$();function xt(e){Ct();var t=X(Ne,e.machineName).getAlphabet();return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Alphabet"),t.length<=0?c.a.createElement("ul",{className:St.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:St.a.emptyLabel},"∅"))):c.a.createElement("ul",{className:St.a.itemList},c.a.createElement("li",null,c.a.createElement("label",{className:St.a.itemLabel},"{")),t.map((e,a)=>c.a.createElement("li",{key:e},c.a.createElement("label",{className:St.a.itemLabel},a<t.length-1?e+",":e))),c.a.createElement("li",null,c.a.createElement("label",{className:St.a.itemLabel},"}"))))}Ct(xt,"gCC1jX6+3WDPXxK6LHFjqlWjFLw=",!1,(function(){return[X]})),wt=xt,xt.propTypes={machineName:A.a.string.isRequired},$RefreshReg$(wt,"AlphabetList");var Tt,Rt,It,Nt=a(86),Mt=a.n(Nt),Ot=$RefreshSig$();function $t(e){Ot();var t=X(Ne,e.machineName),a=t.isDeterministic();return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Transitions"),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Q×Σ"),c.a.createElement("th",null,a?c.a.createElement("span",null,"Q"):c.a.createElement("span",null,c.a.createElement("span",{style:{fontFamily:"cursive"}},"P"),c.a.createElement("span",null,"(Q)"))))),c.a.createElement("tbody",null,jt(t))))}function jt(e){var t=[],a=e.isDeterministic();for(var r of e.getStates()){var n=null;for(var s of((n=kt(e,r,"ε"))&&t.push(n),e.getAlphabet()))(n=kt(e,r,s))&&t.push(n)}return a||t.push(c.a.createElement("tr",{key:"forallotherinputs",className:Mt.a.forAllOtherInputs},c.a.createElement("td",{className:Mt.a.chartKey},"For all other input"),c.a.createElement("td",{className:Mt.a.chartValue},"∅"))),t}function kt(e,t,a){var r=e.isDeterministic(),n=e.doTransition(t,a,!0),s="",i=!1;if(n.length<=0){if(!r)return null;if(i=!0,s="-","ε"===a)return null}else if(1===n.length)i=!1,s=n[0].getStateLabel(),r||(s="{"+s+"}");else{r&&(i=!0);var o="";for(var l of n)o.length>0&&(o+=","),o+=l.getStateLabel();s="{"+o+"}"}return"&empty"===a&&(a="ε",r&&(i=!0)),c.a.createElement("tr",{key:t.getStateID()+":"+a},c.a.createElement("td",{className:"".concat(Mt.a.chartKey," ").concat(i?"error":"")},"δ("+t.getStateLabel()+","+a+")"),c.a.createElement("td",{className:"".concat(Mt.a.chartValue," ").concat(i?"error":"")},s))}Ot($t,"gCC1jX6+3WDPXxK6LHFjqlWjFLw=",!1,(function(){return[X]})),Tt=$t,$t.propTypes={machineName:A.a.string.isRequired},Rt=jt,It=kt,$RefreshReg$(Tt,"TransitionChart"),$RefreshReg$(Rt,"UNSAFE_renderTransitionTable"),$RefreshReg$(It,"UNSAFE_renderTransitionEntry");var Dt,Ft=a(87),Lt=a.n(Ft);function At(e){var{id:t,className:a,title:r,disabled:n,checked:s,on:i,off:o,inplace:l,onChange:h}=e;return c.a.createElement("div",{className:"".concat(Lt.a.element," ").concat(l?Lt.a.inplace:""," ").concat(n?Lt.a.disabled:""," ").concat(a)},e.children&&c.a.createElement("label",{className:Lt.a.label,htmlFor:t},e.children),c.a.createElement("button",{id:t,role:"switch","aria-checked":s,"aria-labelledby":t,title:r,disabled:n,onClick:e=>h&&h(!s)},c.a.createElement("span",{className:s?Lt.a.checked:""},i),c.a.createElement("span",{className:s?"":Lt.a.checked},o)))}Dt=At,At.propTypes={id:A.a.string.isRequired,children:A.a.node,className:A.a.string,onChange:A.a.func,checked:A.a.bool,title:A.a.string,disabled:A.a.bool,on:A.a.string,off:A.a.string,inplace:A.a.bool},At.defaultProps={on:"On",off:"Off"},$RefreshReg$(Dt,"FieldSwitch");var Pt,qt=$RefreshSig$();function Ht(e){qt();var{machineName:t}=e,a=J(Ne,t),r=X(Ne,t),n="".concat(t,".deterministic");return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Determinism"),c.a.createElement(At,{id:n,checked:r.isDeterministic(),on:"Deterministic",off:"Nondeterministic",onChange:e=>a.applyChanges(t=>t.setDeterministic(e),{machineOnly:!0})}))}qt(Ht,"9ki6lskgUQ2oSJMO2b9CJKyo0DA=",!1,(function(){return[J,X]})),Pt=Ht,Ht.propTypes={machineName:A.a.string},$RefreshReg$(Pt,"DeterminismSwitch");var Bt,Gt,Ut,Qt,zt=a(88),Vt=a.n(zt),Jt=$RefreshSig$();function Xt(e){Jt();var t=X(Ne,e.machineName),[a]=Object(l.useState)("symbols");return c.a.createElement("fieldset",null,c.a.createElement("legend",null,"Transitions Table"),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Q/Σ"),Yt(t,a)),Wt(t,a))))}function Kt(e,t,a){var r=e.isDeterministic(),n=e.doTransition(t,a),s="",i=!1;if(n.length<=0)r&&"&empty"!==a&&(i=!0),s="∅";else if(1===n.length)r&&"&empty"===a&&(i=!0),s=n[0].getStateLabel();else{r&&(i=!0);var o="";for(var l of n)o.length>0&&(o+=","),o+=l.getStateLabel();s="{"+o+"}"}var h=r&&"&empty"===a;return c.a.createElement("td",{key:t.getStateID()+":"+a,className:Vt.a.tableEntry+(i?" error ":"")+(h?" disabled ":"")},s)}function Wt(e,t){var a=[];for(var r of e.getStates()){var n=[];switch(t){case"symbols":for(var s of e.getAlphabet())n.push(Kt(e,r,s));n.push(Kt(e,r,"&empty"));break;case"states":for(var i of e.getStates()){var o=e.getTransitionSymbols(r,i),l="";if(o)for(var h of o)l.length>0&&(l+="\n"),l+="&empty"===h?"ε":h;else l="-";n.push(c.a.createElement("td",{key:r.getStateID()+":"+i.getStateID(),className:Vt.a.tableEntry},l))}break;default:throw new Error("Unknown row axis type '"+t+"'")}a.push(c.a.createElement("tr",{key:r.getStateID()},c.a.createElement("th",{scope:"row",className:Vt.a.tableAxisHeader+" row"},r.getStateLabel()),n))}return a}function Yt(e,t){var a=[],r=e.isDeterministic();switch(t){case"symbols":for(var n of e.getAlphabet())a.push(c.a.createElement("th",{key:n,scope:"col",className:Vt.a.tableAxisHeader+" col"},n));return a.push(c.a.createElement("th",{key:"&empty",scope:"col",className:Vt.a.tableAxisHeader+(r?" disabled ":"")+" col"},"ε")),a;case"states":for(var s of e.getStates())a.push(c.a.createElement("th",{key:s.getStateID(),scope:"col",className:Vt.a.tableAxisHeader+" col"},s.getStateLabel()));return a;default:throw new Error("Unknown row axis type '"+t+"'")}}Jt(Xt,"wrGbrOpJggyDQlVAwnmHLbkSZmo=",!1,(function(){return[X]})),Bt=Xt,Xt.propTypes={machineName:A.a.string.isRequired},Gt=Kt,Ut=Wt,Qt=Yt,$RefreshReg$(Bt,"TransitionTable"),$RefreshReg$(Gt,"UNSAFE_renderTableEntryForSymbolAxis"),$RefreshReg$(Ut,"UNSAFE_renderTableEntries"),$RefreshReg$(Qt,"UNSAFE_renderTableAxis");var Zt,ea=a(37),ta=a(89),aa=a.n(ta);function ra(e){var{title:t,disabled:a}=e;return c.a.createElement("fieldset",{className:aa.a.container,disabled:a},c.a.createElement("legend",null,t),e.children)}function na(e,t){var a=e.getElements(t,v.a),r=function(e,t,a){var r=e.getElements(t,y.a),n=[];n.push(a.id);for(var s=0;s<n.length;s++)for(var i of r)i.fromId===n[s]&&(n.includes(i.toId)||n.push(i.toId));return n.map(a=>e.getElement(t,v.a,a))}(e,t,function(e){for(var t of e)if(t.initial)return t;return null}(a)),n=a.filter(e=>!r.includes(e)),s=r.length,i=n.length,o=a.length,l=Math.max(s,i);if(!(o<=0)){var c;c=s<10&&i<10?l/4*50+30:l/5*40+30;var h=0;if(1===s){var u=2*Math.PI/o;for(var d of a)d.y=Math.sin(u*h+Math.PI)*c,d.x=Math.cos(u*h+Math.PI)*c,d.markDirty(),h+=1}else{var g=2*Math.PI/s;for(var m of(h=0,r))m.y=Math.sin(g*h+Math.PI)*c,m.x=Math.cos(g*h+Math.PI)*c,m.markDirty(),h+=1;var f=2*Math.PI/i;for(var p of(h=0,n))p.y=Math.sin(f*h+Math.PI)*(c+100),p.x=Math.cos(f*h+Math.PI)*(c+100),p.markDirty(),h+=1}}}Zt=ra,ra.propTypes={children:A.a.node,title:A.a.string,disabled:A.a.bool},ra.defaultProps={title:"",disabled:!1},$RefreshReg$(Zt,"Options"),$RefreshReg$(na,"CircleLayout");var sa,ia=$RefreshSig$();function oa(e){ia();var t=Object(m.c)(),a=Object(m.b)(),r=Object(l.useRef)(null);return c.a.createElement(ra,{title:"Layout"},c.a.createElement("div",null,c.a.createElement("select",{ref:r},c.a.createElement("option",{value:"circle"},"Circle"),c.a.createElement("option",{value:"grid",disabled:!0},"Grid")),c.a.createElement(ea.a,{onClick:e=>function(e,t,a){switch(e){case"circle":na(t,a)}}(r.current.value,t,a)},"Apply")))}ia(oa,"dQJ6q3p0hfDXyuQOiW0CZrVVPyw=",!1,(function(){return[m.c,m.b]})),sa=oa,oa.propTypes={},oa.defaultProps={},$RefreshReg$(sa,"GraphLayoutOptions");var la,ca=a(90),ha=a.n(ca);function ua(e){var{id:t,className:a,style:r,placeholder:n,disabled:s,value:i,onChange:o}=e;return c.a.createElement("div",{className:"".concat(ha.a.element," ").concat(a)},c.a.createElement("label",{htmlFor:t},e.children),c.a.createElement("span",null,"("),c.a.createElement("input",{type:"text",id:t,style:r,value:i,placeholder:n,disabled:s,onChange:o}),c.a.createElement("span",null,")"))}la=ua,ua.propTypes={id:A.a.string.isRequired,children:A.a.node,className:A.a.string,style:A.a.object,onClick:A.a.func,placeholder:A.a.string,disabled:A.a.bool,value:A.a.string,onChange:A.a.func},ua.defaultProps={value:""},$RefreshReg$(la,"FieldInput");var da,ga,ma=$RefreshSig$();function fa(e){ma();var t=ee(Ne).getMachine(),a=Object(Qe.a)(),r=Object(ze.c)(y.a,e=>a()),n=Object(l.useRef)(null),[s,i]=Object(l.useState)(""),o=t.getAlphabet().sort();return c.a.createElement("div",null,c.a.createElement("select",{ref:n,id:"AlphabetLabelRenameOption.rename"},o.map(e=>c.a.createElement("option",{key:e,value:e},e))),c.a.createElement(ua,{id:"alphabetRenameTo",style:{width:"3rem"},value:s,placeholder:"Symbol",onChange:e=>i(e.target.value)},"Rename Character"),c.a.createElement(ea.a,{onClick:e=>{!function(e,t,a){for(var r of a){var n=r.label.split("\n"),s=n.indexOf(e);s>=0&&(n[s]=t,r.label=n.join("\n"),r.markDirty())}}(n.current.value,s,r),i("")},title:"Apply rename alphabet",disabled:!s},"Apply"))}function pa(e){return c.a.createElement(ra,{title:"Alphabet Label Editor"},c.a.createElement(fa,null))}ma(fa,"VKTaLOZgQbqIzVdDZ283PvZaLSU=",!1,(function(){return[ee,Qe.a,ze.c]})),da=fa,fa.propTypes={},fa.defaultProps={},$RefreshReg$(da,"AlphabetLabelRenameOption"),ga=pa,pa.propTypes={},pa.defaultProps={},$RefreshReg$(ga,"AlphabetLabelOptions");var va,ba=$RefreshSig$();function ya(e){ba();var t="Piece-wise definition of δ",a="Table definition of δ",[r,n]=Object(l.useState)(a);return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Overview")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(bt,{title:"Definition"},c.a.createElement(Ht,{machineName:"graph"}),c.a.createElement(_t,{machineName:"graph"}),c.a.createElement(xt,{machineName:"graph"}),c.a.createElement(ea.a,{id:"toggle",onClick:()=>n(r===t?a:t)},r===t?a:t),r===t?c.a.createElement(Xt,{machineName:"graph"}):c.a.createElement($t,{machineName:"graph"})),c.a.createElement(bt,{title:"Format"},c.a.createElement(oa,null),c.a.createElement(pa,null))))}ba(ya,"XCIGUVZZ+H2XCkaH9ZhHmpASIj0="),va=ya,ya.Tab=Object(gt.a)(j.e),$RefreshReg$(va,"OverviewPanel");var Sa=a(44);function Ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oe(!0);if(e.isDeterministic())return t.copy(e),t;t.setDeterministic(!0);var a=e.getStartState(),r={nfaSource:e,dfaStateMap:new Map,dfaFinalStates:[],dfaTransitionMap:new Map,dfaStartState:null,dfaTrapState:null},n=e.doClosureTransition(a);r.dfaStartState=Ca(n,r),r.dfaTrapState=Ca([],r);var s=xa(e.getStates());for(var i of s)i.length>0&&_a(i,r);for(var o of r.dfaStateMap.values())for(var l of e.getAlphabet()){var c=wa(o,l,r);r.dfaTransitionMap.has(c)||r.dfaTransitionMap.set(c,[o,l,r.dfaTrapState])}for(var h of(t.clear(),r.dfaStateMap.values()))t.addState(h);for(var u of(t.setStartState(r.dfaStartState),r.dfaFinalStates))t.setFinalState(u);for(var d of r.dfaTransitionMap.values())t.addTransition(d[0],d[2],d[1]);return t}function _a(e,t){var a=Ca(e,t),r=null,n=[];for(var s of t.nfaSource.getAlphabet()){for(var i of e)t.nfaSource.doTerminalTransition(i,s,n);if(n.length>0){r=Ca(n,t);var o=wa(a,s,t);t.dfaTransitionMap.set(o,[a,s,r])}n.length=0}}function wa(e,t,a){return e.getStateID()+";"+t}function Ca(e,t){var a=function(e,t){var a="";for(var r of t.nfaSource.getStates())e.includes(r)?a+="x":a+="-";return a}(e,t),r=t.dfaStateMap.get(a);if(!r){var n=!1,s="{";for(var i of e)s.length>1&&(s+=","),s+=i.getStateLabel(),n||(n=t.nfaSource.isFinalState(i));r=new se(s+="}"),t.dfaStateMap.set(a,r),n&&t.dfaFinalStates.push(r)}return r}function xa(e){var t=[[]];for(var a of e)for(var r=0,n=t.length;r<n;++r)t.push(t[r].concat(a));return t}function Ta(e,t){var a;if(a="string"==typeof t?t[Symbol.iterator]():t,e.isDeterministic()){for(var r=e.getStartState(),n=null;n=a.next().value;){var s=e.doTransition(r,n);if(s.length<1)return!1;r=s[0]}return e.isFinalState(r)}var i=[],o=[],l=e.getStartState();for(var c of(i.push({state:l,index:0}),e.doClosureTransition(l)))i.push({state:c,index:0});for(var h=0;i.length>0;){if(Ra(e,a.next().value,i,o))return!0;if(++h>1e3)return!1}return!1}function Ra(e,t,a,r){var n=null,s=[],i=0;for(var o of(t&&r.push(t),a)){if(n=o.state,t=o.index<r.length?r[o.index]:null)for(var l of(i=o.index+1,e.doTerminalTransition(n,t)))s.push({state:l,index:i});else if(e.isFinalState(n))return!0;i=o.index}return a.length=0,a.push(...s),!1}function Ia(e,t){var a=new Set;for(var r of e.getAlphabet())a.add(r);for(var n of t.getAlphabet()){if(!a.has(n))return!1;a.delete(n)}return a.size<=0}function Na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oe(!0);t.copy(e);var a=new Set(t.getFinalStates());for(var r of t.getStates())a.has(r)?t.setFinalState(r,!1):t.setFinalState(r,!0);return t}function Ma(e,t){var a=Oa(e,t);if(!a)return{value:!1,witnessString:null};var r=$a(a);if(r)return{value:!1,witnessString:r};var n=Oa(t,e);if(!n)return{value:!1,witnessString:null};var s=$a(n);return s?{value:!1,witnessString:s}:{value:!0,witnessString:null}}function Oa(e,t){return function(e,t){var a=new Set,r=new Set;for(var n of e.getAlphabet())e.isUsedSymbol(n)&&a.add(n);for(var s of t.getAlphabet())t.isUsedSymbol(s)&&r.add(s);if(a.size!=r.size)return!1;for(var i of a)if(!r.has(i))return!1;return a}(e,t)?function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new oe(!0);if(!Ia(e,t))throw new Error("Mismatched machine alphabet");var r=e.UNSAFE_getAlphabet(),n=e.getStartState(),s=t.getStartState();if(!n&&!s)return a.clear(),a;if(!n)return a.copy(t);if(!s)return a.copy(e);var i=new Map,o=new Set,l=[],c=[n,s],h=n.getStateID()+":"+s.getStateID();e.isFinalState(n)&&t.isFinalState(s)&&o.add(h),i.set(h,c);var u=[];for(u.push(h);u.length>0;){var d=u.pop(),g=i.get(d),m=g[0],f=g[1],p=[];for(var v of r){var b=void 0,y=void 0;if(e.doTransition(m,v,!1,p),1!==p.length)throw new Error("Found non-deterministic transition from '"+m.getStateLabel()+"' for '"+v+"' - transitions to '"+p.join(",")+"'");if(b=p[0],p.length=0,t.doTransition(f,v,!1,p),1!==p.length)throw new Error("Found non-deterministic transition from '"+f.getStateLabel()+"' for '"+v+"' - transitions to '"+p.join(",")+"'");y=p[0],p.length=0;var S=b.getStateID()+":"+y.getStateID();i.has(S)||(i.set(S,[b,y]),u.push(S),e.isFinalState(b)&&t.isFinalState(y)&&o.add(S)),l.push([d,v,S])}}a.clear();var E=new Map;for(var[_,w]of i.entries()){var C=a.createState("("+w[0].getStateLabel()+","+w[1].getStateLabel()+")");o.has(_)&&a.setFinalState(C,!0),E.set(_,C)}var x=E.get(h);if(!x)throw new Error("Unable to find start state for pair");for(var T of(a.setStartState(x),l)){var R=T[0],I=T[1],N=T[2],M=E.get(R),O=E.get(N);if(!M||!O)throw new Error("Cannot find state for pair");a.addTransition(M,O,I)}return a}(e,Na(t)):null}function $a(e){var t=[],a=[e.getStartState()],r=new Map;for(r.set(e.getStartState(),"");a.length;){var n=a.shift();t.push(n);var s=r.get(n);if(e.isFinalState(n))return s;for(var i of e.getOutgoingTransitions(n)){var o=i[2];if(!t.includes(o)&&!a.includes(o)){a.push(o);var l=i[1];r.set(o,s+l)}}}return!1}var ja,ka=$RefreshSig$();function Da(e){ka();var{message:t,messageId:a}=e,r=ee(Ne);return c.a.createElement(ce.a,{messageId:a,mode:"warning",message:"Careful! This conversion will exponentially increase the number of states.\n"+t,renderControls:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:()=>{r.applyChanges(e=>Ea(e,e)),e()}},"Convert"))})}ka(Da,"iX0gvyeu5rNSD6Ed/+Da521I8a0=",!1,(function(){return[ee]})),ja=Da,Da.propTypes={messageId:A.a.string.isRequired,message:A.a.string},$RefreshReg$(ja,"NFAToDFAConversionMessage");var Fa,La=$RefreshSig$();function Aa(e){La();var{message:t,messageId:a}=e,r=ee(Ne);return c.a.createElement(ce.a,{messageId:a,mode:"warning",message:"Careful! Flipping the states in an NFA does not produce a logically equivalent inverse.\n"+t,renderControls:e=>c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:()=>{r.applyChanges(e=>Na(e,e)),e()}},"Apply"))})}La(Aa,"iX0gvyeu5rNSD6Ed/+Da521I8a0=",!1,(function(){return[ee]})),Fa=Aa,Aa.propTypes={messageId:A.a.string.isRequired,message:A.a.string},$RefreshReg$(Fa,"FlipAcceptStateMessage");var Pa,qa=a(91),Ha=a.n(qa);function Ba(e){var{id:t,className:a,style:r,disabled:n,onClick:s}=e;return c.a.createElement("div",{className:"".concat(Ha.a.element," ").concat(a)},c.a.createElement(ea.a,{id:t,style:r,disabled:n,onClick:s},e.children))}Pa=Ba,Ba.propTypes={id:A.a.string.isRequired,children:A.a.node,className:A.a.string,style:A.a.object,disabled:A.a.bool,onClick:A.a.func},$RefreshReg$(Pa,"FieldButton");var Ga,Ua=$RefreshSig$();function Qa(e){Ua();var t=ee(Ne),a=t.getMachine(),r=Object(l.useContext)(Sa.a),n=a.isDeterministic(),s=a.getStateCount(),i=s<=0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Transformations")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(bt,{title:"Equivalent Conversions"},c.a.createElement("div",null,n?c.a.createElement(Ba,{id:"convertToNFA",onClick:()=>t.applyChanges(e=>e.setDeterministic(!1),{machineOnly:!0}),disabled:i},c.a.createElement("span",null,"Convert to "),c.a.createElement("span",null,"NFA")):c.a.createElement(Ba,{id:"convertToDFA",onClick:()=>r({type:"send",component:Da,message:"".concat(s," state(s) -> ").concat(Math.pow(2,s)," states")}),disabled:i},c.a.createElement("span",null,"Convert to "),c.a.createElement("span",null,"DFA"))),c.a.createElement("hr",null),c.a.createElement("div",null,c.a.createElement(Ba,{id:"removeUnreachableStates",onClick:()=>{},disabled:!0},"Remove unreachable states"))),c.a.createElement(bt,{title:"Related Conversions"},c.a.createElement(Ba,{id:"flipAllAcceptStates",onClick:()=>r({type:"send",component:Aa}),disabled:i},"Flip all accept states"))))}Ua(Qa,"kuWXWnroupcdH1Rxwfe3Z1AEYAU=",!1,(function(){return[ee]})),Ga=Qa,Qa.Tab=Object(gt.a)(j.g),$RefreshReg$(Ga,"ComputePanel");var za=class{constructor(){}uploadFile(e){return Promise.resolve(e)}};var Va=class extends za{constructor(){super()}uploadFile(e){return new Promise((t,a)=>{var r=new FileReader;r.addEventListener("load",e=>{var a=e.target.result;t(a)}),r.addEventListener("error",e=>{a(new Error("Unable to import file: "+e.target.error.code))}),r.readAsText(e)})}};var Ja=class{constructor(){}parse(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}compose(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},Xa=a(17);var Ka=class{constructor(e){this._id=e}setGraphElementID(e){return this._id=e,this}getCenterPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return e.x=e.y=0,e}getGraphElementID(){return this._id}getHashString(){return this._id}};var Wa=class extends Ka{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(e),this.x=t,this.y=a,this._label=""}getCenterPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return e.x=this.x,e.y=this.y,e}setNodeLabel(e){return this._label=e,this}getNodeLabel(){return this._label}getNodeSize(){return 16}getHashString(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?super.getHashString(e)+":"+Math.floor(this.x)+","+Math.floor(this.y)+"."+this._label:super.getHashString(e)+":"+this._label}};var Ya=class extends Ka{constructor(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this._from=t,this._to=a,this._label=""}setEdgeFrom(e){if(!e)throw new Error("Source of edge cannot be null");return this._from=e,this}setEdgeTo(e){return this._to=e,this}setEdgeLabel(e){return this._label=e,this}getEdgeDirection(){var e=this._from,t=this._to,a=Math.PI/2,r=0;if(this.isPlaceholder())r=Math.PI/4;else{var n=t.y-e.y,s=t.x-e.x;r=Math.atan2(n,s)}return(r>a||r<-a)&&(r+=Math.PI),r}getStartPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from;return e.x=t.x,e.y=t.y,e}getCenterPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,a=this._to;if(this.isPlaceholder()){var r=this.getPlaceholderLength()/2;e.x=t.x+r,e.y=t.y+r}else e.x=t.x+(a.x-t.x)/2,e.y=t.y+(a.y-t.y)/2;return e}getEndPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};if(this.isPlaceholder()){var t=this._from,a=this.getPlaceholderLength();e.x=t.x+a,e.y=t.y+a}else{var r=this._to;e.x=r.x,e.y=r.y}return e}getPlaceholderLength(){return this._from.getNodeSize()}isPlaceholder(){return null===this._to}isSelfLoop(){return this._from===this._to}getEdgeLabel(){return this._label}getEdgeFrom(){return this._from}getEdgeTo(){return this._to}getHashString(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this._from?this._from.getHashString(e):"",a=this._to?this._to.getHashString?this._to.getHashString(e):"0":"";return super.getHashString(e)+":"+t+","+a+"."+this._label}};var Za=class{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ya;this._nodeClass=e,this._edgeClass=t,this._nodeMapping=new Map,this._edgeMapping=new Map}clear(){this.clearEdges(),this.clearNodes()}isEmpty(){return this._nodeMapping.size<=0&&this._edgeMapping.size<=0}getBoundingRect(){if(this._nodeMapping.size<=0)return{minX:0,minY:0,maxX:1,maxY:1,width:1,height:1};var e=Number.MAX_VALUE,t=Number.MAX_VALUE,a=Number.MIN_VALUE,r=Number.MIN_VALUE,n=0;for(var s of this._nodeMapping.values()){var i=s.x,o=s.y,l=s.getNodeSize();l>n&&(n=l),e=Math.min(e,i),a=Math.max(a,i),t=Math.min(t,o),r=Math.max(r,o)}e-=n,t-=n,a+=n,r+=n;var c=Number.MAX_VALUE,h=Number.MAX_VALUE,u=Number.MIN_VALUE,d=Number.MIN_VALUE,g={x:0,y:0},m={x:0,y:0},f={x:0,y:0};for(var p of this._edgeMapping.values()){p.getStartPoint(g),p.getEndPoint(m),p.getCenterPoint(f);var v=g.x,b=g.y,y=m.x,S=m.y,E=f.x,_=f.y;c=Math.min(c,v,y,E),u=Math.max(u,v,y,E),h=Math.min(h,b,S,_),d=Math.max(d,b,S,_)}var w={minX:Math.min(e,c),minY:Math.min(t,h),maxX:Math.max(a,u),maxY:Math.max(r,d),width:0,height:0};return w.width=w.maxX-w.minX,w.height=w.maxY-w.minY,w}getHashCode(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t="";for(var a of this._nodeMapping.values())t+=a.getHashString(e)+",";for(var r of(t+="|",this._edgeMapping.values()))t+=r.getHashString(e)+",";return Object(ne.f)(t)}createNode(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addNode(new this._nodeClass(a||Object(ne.g)(),e,t))}addNode(e){return e.getGraphElementID()||e.setGraphElementID(Object(ne.g)()),this._nodeMapping.set(e.getGraphElementID(),e),e}deleteNode(e){var t=e.getGraphElementID();if(this._nodeMapping.has(t)){this._nodeMapping.delete(t);var a=[];for(var r of this.getEdges())r.getEdgeFrom()===e?a.push(r):r.getEdgeTo()===e&&r.setEdgeTo(null);for(var n of a)this.deleteEdge(n)}}clearNodes(){this._nodeMapping.clear()}getNodeByElementID(e){return this._nodeMapping.has(e)?this._nodeMapping.get(e):null}getNodesByLabel(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(var a of this.getNodes())a.getNodeLabel()===e&&t.push(a);return t}getNodes(){return Array.from(this._nodeMapping.values())}getNodeCount(){return this._nodeMapping.size}getNodeClass(){return this._nodeClass}formatEdge(e){return e}createEdge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addEdge(new this._edgeClass(a||Object(ne.g)(),e,t))}addEdge(e){return e.getGraphElementID()||e.setGraphElementID(Object(ne.g)()),this._edgeMapping.set(e.getGraphElementID(),e),e}deleteEdge(e){var t=e.getGraphElementID();this._edgeMapping.has(t)&&this._edgeMapping.delete(t)}clearEdges(){this._edgeMapping.clear()}getEdgeByElementID(e){return this._edgeMapping.has(e)?this._edgeMapping.get(e):null}getEdgesByLabel(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(var a of this.getEdges())a.getEdgeLabel()===e&&t.push(a);return t}getEdges(){return Array.from(this._edgeMapping.values())}getEdgeCount(){return this._edgeMapping.size}getEdgeClass(){return this._edgeClass}};var er=class extends Ya{constructor(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e,t,a),this._quad={radians:0,length:a?0:this.getPlaceholderLength(),coords:{x:0,y:0}}}setEdgeTo(e){var t=this._to;if(e!==t){var a=super.setEdgeTo(e);return e?e===this._from&&(this._quad.length=this._from.getNodeSize()+this.getPlaceholderLength()):this.setQuadraticByCoords(t.x,t.y),a}return super.setEdgeTo(e)}setQuadraticRadians(e){return this._quad.radians=e,this}setQuadraticLength(e){return this._quad.length=e,this}setQuadraticByCoords(e,t){var a=this._from,r=this._to;if(!r){var n=this._from.x-e,s=this._from.y-t,i=-Math.atan2(n,s)-Math.PI/2;return this._quad.radians=i,this}var o=a.x,l=a.y,c=r.x-o,h=r.y-l,u=o+c/2,d=l+h/2,g=Math.atan2(-h,c);c=e-u,h=t-d;var m=Math.PI,f=m/2,p=Math.atan2(h,c)+g,v=Math.sqrt(c*c+h*h);v<0&&(v=0);var b=p- -f,y=p-f,S=m/20;return Math.abs(v)<8?(p=0,v=0):b<S&&b>-S?p=-f:-y<S&&-y>-S&&(p=f),this._quad.radians=p,this._quad.length=v,this}getQuadraticLength(){return this._quad.length}getQuadraticRadians(){return this._quad.radians}getQuadratic(){return this._quad}isQuadratic(){return!this.isPlaceholder()&&0!==this._quad.length}getQuadraticAsCoords(){var e=this._from,t=this._to,a=this._quad.coords;return null==e||null==t?(a.x=0,a.y=0):Object(ne.c)(e.x,e.y,t.x,t.y,this._quad.length,this._quad.radians,a),a}getEdgeDirection(){var e=0;if(this.isQuadratic()){var t=this.getQuadraticAsCoords();e=Math.atan2(t.y,t.x)+Math.PI/2}else e=super.getEdgeDirection();return e}getStartPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,a=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!a){var r=this._quad.radians,n=Math.cos(r),s=Math.sin(r),i=t.getNodeSize();return e.x=t.x+n*i,e.y=t.y+s*i,e}if("function"==typeof a.getNodeSize&&this.isQuadratic()){Object(ne.d)(t.x,t.y,a.x,a.y,e);var o=this.getQuadraticAsCoords(),l=e.x+o.x,c=e.y+o.y;return Object(ne.c)(t.x,t.y,l,c,t.getNodeSize(),this.isSelfLoop()?Math.PI/4:0,e),e.x+=t.x,e.y+=t.y,e}return Object(ne.c)(t.x,t.y,a.x,a.y,t.getNodeSize(),0,e),e.x+=t.x,e.y+=t.y,e}getCenterPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,a=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!a){var r=Math.cos(this._quad.radians),n=Math.sin(this._quad.radians),s=t.getNodeSize()+this.getPlaceholderLength()/2;return e.x=t.x+r*s,e.y=t.y+n*s,e}if(Object(ne.d)(t.x,t.y,a.x,a.y,e),this.isQuadratic()){var i=this.getQuadraticAsCoords();e.x+=i.x,e.y+=i.y}return e}getEndPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=this._from,a=this._to;if(!t)throw new Error("Source of edge cannot be null.");if(!a){var r=this._quad.radians,n=Math.cos(r),s=Math.sin(r),i=t.getNodeSize()+this.getPlaceholderLength();return e.x=t.x+n*i,e.y=t.y+s*i,e}if("function"!=typeof a.getNodeSize)return a;if(this.isQuadratic()){Object(ne.d)(t.x,t.y,a.x,a.y,e);var o=this.getQuadraticAsCoords(),l=e.x+o.x,c=e.y+o.y;return Object(ne.c)(a.x,a.y,l,c,a.getNodeSize(),this.isSelfLoop()?-Math.PI/4:0,e),e.x+=a.x,e.y+=a.y,e}return Object(ne.c)(a.x,a.y,t.x,t.y,a.getNodeSize(),0,e),e.x+=a.x,e.y+=a.y,e}getHashString(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?super.getHashString(e)+":"+this._quad.radians+","+this._quad.length:super.getHashString(e)}},tr=Xa.a.parse("1.0.0");rr=tr;class ar extends Ja{constructor(){super(),this._nodeIndices=new Map}parse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("object"!=typeof e)throw new Error("Unable to parse data of non-object type");var a=Xa.a.parse(e._version||"0.0.0");if(!a.canSupportVersion(tr))throw new Error("Unable to parse data for incompatible version '"+a+"'");var r=e.nodes||[],n=Math.min(r.length||0,e.nodeCount||0),s=e.edges||[],i=Math.min(s.length||0,e.edgeCount||0);t=this.onParseGraphCreate(e,t);for(var o=this._nodeIndices,l=0;l<n;++l){var c=r[l];if(c){var h=t.createNode(c.x||0,c.y||0,c.id);h.setNodeLabel(c.label||""),this.onParseNode(c,h),o.set(l,h)}}for(var u=0;u<i;++u){var d=s[u];if(d){var g=o.get(d.from)||null;if(g){var m=o.get(d.to)||null,f=t.createEdge(g,m,d.id);f.setEdgeLabel(d.label||""),this.onParseEdge(d,f)}}}return this.onParseGraphResult(e,t),o.clear(),t}compose(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(e instanceof Za))throw new Error("Unable to compose target of non-graph type");t=this.onComposeGraphCreate(e,t);for(var a,r=e.getNodes()||[],n=r.length||0,s=e.getEdges()||[],i=s.length||0,o=new Array(n),l=this._nodeIndices,c=0;c<n;++c)if(a=r[c]){var h=a.getGraphElementID();l.set(a,c);var u={id:h,x:a.x||0,y:a.y||0,label:a.getNodeLabel()||""};this.onComposeNode(a,u),o[c]=u}for(var d,g=new Array(i),m=0;m<i;++m)if(d=s[m]){var f=d.getGraphElementID(),p=d.getEdgeFrom(),v=d.getEdgeTo(),b={id:f,from:l.has(p)?l.get(p):-1,to:l.has(v)?l.get(v):-1,label:d.getEdgeLabel()||""};this.onComposeEdge(d,b),g[m]=b}return t._version="1.0.0",t.nodeCount=n,t.nodes=o,t.edgeCount=i,t.edges=g,this.onComposeGraphResult(e,t),l.clear(),t}onParseGraphCreate(e,t){var a=e.quad||!1;return t?t.clear():t=new Za(Wa,a?er:Ya),t}onParseNode(e,t){}onParseEdge(e,t){if(t instanceof er){var a=e.quad||{};t.setQuadraticRadians(a.radians||0),t.setQuadraticLength(a.length||0)}}onParseGraphResult(e,t){}onComposeGraphCreate(e,t){return t||{}}onComposeNode(e,t){}onComposeEdge(e,t){if(e instanceof er){var a=e.getQuadratic()||{};t.quad={radians:a.radians||0,length:a.length||0}}}onComposeGraphResult(e,t){var a=!1,r=e.getEdges();for(var n of r)if(n instanceof er){a=!0;break}t.hasQuad=a}}new ar;var rr,nr=ar;$RefreshReg$(rr,"VERSION");var sr=class extends Za{constructor(e,t){super(e,t),this._nodes=[]}setStartNode(e){if(this._nodes.length<=0)throw new Error("Cannot set start node to empty graph");if(1!==this._nodes.length){var t=this._nodes.indexOf(e);if(t>0){var a=this._nodes[0];this._nodes[0]=e,this._nodes[t]=a}else if(t<0)throw new Error("Cannot set start node for unknown node")}}getStartNode(){return this._nodes.length>0?this._nodes[0]:null}getNodeByIndex(e){return this._nodes[e]}addNode(e){return this._nodes.push(e),super.addNode(e)}deleteNode(e){super.deleteNode(e);var t=this._nodes.indexOf(e);t>=0&&this._nodes.splice(t,1)}clearNodes(){super.clearNodes(),this._nodes.length=0}getNodes(){return this._nodes}};var ir=class extends Wa{constructor(e,t,a){super(e,t,a),this._accept=!1,this._custom=!1}setNodeAccept(e){this._accept=e}getNodeAccept(){return this._accept}setNodeCustom(e){this._custom=e}getNodeCustom(){return this._custom}getHashString(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return super.getHashString(e)+":"+(this._accept?"1":"0")}};var or=class extends er{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}setEdgeLabel(e){"string"==typeof e?super.setEdgeLabel(e):super.setEdgeLabel("ε")}};var lr=class extends sr{constructor(){super(ir,or)}};hr=Xa.a.parse("1.0.0");class cr extends nr{constructor(){super()}parse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return super.parse(e,t)}compose(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return super.compose(e,t)}onParseGraphCreate(e,t){return t?t.clear():t=new lr,t}onParseGraphResult(e,t){var a=this._nodeIndices,r=e.initial||0,n=a.get(r);n&&t.setStartNode(n)}onParseNode(e,t){t.setNodeAccept(e.accept||!1),t.setNodeCustom(e.custom||!1)}onComposeNode(e,t){t.accept=e.getNodeAccept()||!1,t.custom=e.getNodeCustom()||!1}onComposeGraphResult(e,t){var a=this._nodeIndices,r=e.getStartNode(),n=a.get(r)||0;t.initial=n}}new cr;var hr,ur=cr;$RefreshReg$(hr,"VERSION");var dr=class{constructor(){}attemptBuildMachine(e,t){throw new Error("Should be overriden.")}getMachine(){throw new Error("Should be overriden.")}getMachineHashCode(){throw new Error("Should be overriden.")}};var gr=class extends dr{constructor(){super(),this._machine=new oe,this._errors=[],this._warnings=[]}attemptBuildGraph(e,t){t.clear();var a,r,n,s,i=new Map;for(var o of e.getStates())(a=t.createNode(0,0)).setNodeLabel(o.getStateLabel()),e.isFinalState(o)&&a.setNodeAccept(!0),i.set(o,a);for(var l of e.getTransitions())(r=i.get(l.getSourceState()))&&(s=l.getSymbols().join(" "),(n=i.get(l.getDestinationState()))&&t.createEdge(r,n).setEdgeLabel(s));var c=e.getStartState(),h=t.getNodesByLabel(c);return h&&h.length>0&&t.setStartNode(h[0]),t}attemptBuildMachine(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this._errors=a,this._warnings=r,a.length=0,r.length=0;var n=t.isDeterministic();t.clear();var s=new Map,i=new Map,o=new Set,l=[],c=[],h=e.getNodes(),u=e.getEdges(),d=e.getStartNode();for(var g of h){var m=g.getNodeLabel(),f=new se(m,g);t.addState(f),g.getNodeAccept()&&t.setFinalState(f,!0),d===g&&t.setStartState(f),s.has(m)?s.get(m).push(f):s.set(m,[f]),i.set(f,new Map)}for(var p of u){var v=p.getEdgeFrom(),b=p.getEdgeTo();if(!p.isPlaceholder()&&v instanceof ir&&b instanceof ir){var y=t.getStateByID(v.getGraphElementID()),S=t.getStateByID(b.getGraphElementID());if(!y||!S)throw new Error("Cannot find state for edge source/destination nodes - mismatch id");var E=p.getEdgeLabel().split(" ");for(var _ of E)if(_){"ε"===_?c.push(p):o.add(_);var w=void 0;switch(_){case"ε":w="&empty";break;default:w=_}var C=i.get(y),x=C.get(w);x||C.set(w,x=new Array),x.push(p),t.addTransition(y,S,w)}}else l.push(p)}for(var[T,R]of s.entries())R.length>1&&a.push({name:"duplicate_state",label:T,nodes:R.map(e=>e.getSource())});l.length>0&&a.push({name:"incomplete_transition",edges:l});var I=function(e){if(e.getNodeCount()<=1)return[];var t=e.getEdges(),a=e.getNodes().slice(),r=a.shift(),n=[];for(n.push(r);n.length>0;){var s=n.pop();for(var i of t)if(i.getEdgeFrom()===s){var o=a.indexOf(i.getEdgeTo());if(o>=0){var l=a.splice(o,1)[0];n.push(l)}}}return a}(e);if(I&&I.length>0&&r.push({name:"unreachable_state",nodes:I}),n){c.length>0&&a.push({name:"empty_transition",edges:c});var N=[];for(var[M,O]of i.entries()){for(var $ of o){var j=O.get($);j?1!==j.length&&a.push({name:"duplicate_transition",edges:j,symbol:$}):N.push($)}N.length>0&&(a.push({name:"missing_transition",node:M.getSource(),symbols:N.slice()}),N.length=0)}}return a.length<=0?t:null}getMachine(){return this._machine}getMachineHashCode(){return Object(ne.f)(JSON.stringify(this._machine))}};var mr,fr=$RefreshSig$();function pr(e){fr();var t=X(Ne,"graph"),[a,r]=Object(l.useState)(null),[n,s]=Object(l.useState)(null),[i,o]=Object(l.useState)("");return c.a.createElement(ra,{title:"Equivalence Tester"},c.a.createElement("div",null,c.a.createElement(u.a,{onUpload:e=>{var t,a=e.target.files;a.length>0?(t=a[0],new Promise((e,a)=>{(new Va).uploadFile(t).then(t=>{var a=JSON.parse(t),r=new ur,n=new lr;r.parse(a.graphData,n);var s=new gr,i=new oe;s.attemptBuildMachine(n,i),e(i||null)})})).then(e=>r(e)).catch(e=>r(e.message)):r(null),e.target.value=null}})),c.a.createElement(Ba,{id:"testEquivalenceTargetFile",onClick:()=>{if("object"==typeof a){var e=(n=t,Ma((r=a).isDeterministic()?r:Ea(r),n.isDeterministic()?n:Ea(n)));e.value?(s(!0),o("")):e.witnessString?(s(!1),o("Witness: "+e.witnessString)):(s(!1),o("Sorry, unable to evaluate because the machines have different alphabets."))}else a&&(s(null),o(a));var r,n}},"Test Machine"),c.a.createElement("output",{htmlFor:"testEquivalenceTargetFile"},c.a.createElement("p",null,null===n?"-- ??? --":n?"-- Equivalent --":"-- Not Equivalent --"),c.a.createElement("p",null,i)))}function vr(e){var t,{value:a,result:r,onClick:n,onChange:s,onRemove:i}=e;switch(r){case"pass":t="☑";break;case"fail":t="☒";break;case"none":t="☐";break;default:throw new Error("Unknown status '".concat(r,"'."))}return c.a.createElement("p",null,c.a.createElement($.a,{title:"Run",style:{fill:"white"},iconClass:j.h,onClick:n}),c.a.createElement("input",{type:"text",value:a,placeholder:"ε",onChange:s}),c.a.createElement("label",{style:{fontSize:"1.5rem"}},t),c.a.createElement($.a,{title:"Remove",iconClass:j.l,onClick:i}))}fr(pr,"la6xJJ4PT2t/YMsbNcxAjBmCJ1I=",!1,(function(){return[X]})),$RefreshReg$(pr,"EquivalenceTester"),mr=vr,vr.propTypes={value:A.a.string.isRequired,result:A.a.oneOf(["pass","fail","none"]),onClick:A.a.func,onChange:A.a.func,onRemove:A.a.func},$RefreshReg$(mr,"TestString");var br;function yr(e){var{onClick:t}=e;return c.a.createElement("div",null,c.a.createElement(u.a,{iconClass:j.n,accept:".txt",onUpload:function(e){var a=[];for(var r of e)a.push(r);var n=[];a.reduce((e,t)=>e.then(()=>t.text()).then(e=>e.split("\n")).then(e=>{for(var t of e)n.push(t)}),Promise.resolve()).then(()=>t(n))},multiple:!0}))}br=yr,yr.propTypes={onClick:A.a.func},$RefreshReg$(br,"ImportButton");var Sr,Er=a(45);function _r(e){var{testStrings:t}=e;return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){Object(Er.d)("test.txt",t.join("\n"))}},"Export Test Strings"))}Sr=_r,_r.propTypes={testStrings:A.a.arrayOf(A.a.string)},$RefreshReg$(Sr,"ExportButton");var wr,Cr,xr=$RefreshSig$();function Tr(e){xr();var[t,a]=Object(l.useState)([]),r=X(e.machineBuilderType,e.machineName),n=Object(l.useCallback)(()=>{var e=Rr();a([...t,e])},[t,a]),s=Object(l.useCallback)(e=>{var t=[];for(var r of e)t.push(Rr(r));a(t)},[a]),i=t.length<=0;return c.a.createElement(ra,{title:"String Tester"},c.a.createElement(yr,{onClick:s}),c.a.createElement(_r,{testStrings:t.map(e=>e.value)}),c.a.createElement(ea.a,{disabled:i,onClick:()=>{var e=[...t];for(var n of e){var s=Ta(r,n.value);n.result=s?"pass":"fail"}a(e)}},"Run All"),c.a.createElement(ea.a,{disabled:i,onClick:()=>a([])},"Remove All Tests"),t.map((e,n)=>c.a.createElement(vr,{key:e.id,value:e.value,result:e.result,onClick:e=>{var s=[...t],i=s[n];i.result=Ta(r,i.value)?"pass":"fail",a(s)},onChange:e=>{var r=[...t];r[n].value=e.target.value,a(r)},onRemove:e=>{var r=[...t];r.splice(n,1),a(r)}})),c.a.createElement(Ba,{id:"testStringButton",onClick:n},"Add Test String"))}function Rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return{id:Object(ne.g)(),value:e,result:t}}function Ir(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Testing")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(bt,{title:"Strings"},c.a.createElement(Tr,{machineBuilderType:Ne,machineName:"graph"})),c.a.createElement(bt,{title:"Machines"},c.a.createElement(pr,null))))}xr(Tr,"0cYsDXsr7iDsv7DftSlbjLNrMEw=",!1,(function(){return[X]})),wr=Tr,Tr.propTypes={machineBuilderType:A.a.elementType.isRequired,machineName:A.a.string},Tr.defaultProps={},$RefreshReg$(wr,"StringTester"),Cr=Ir,Ir.Tab=Object(gt.a)(j.j),$RefreshReg$(Cr,"TestingPanel");var Nr=a(34);function Mr(e,t){return JSON.stringify(e.serialize(t,{}))}function Or(e,t){if("function"!=typeof e)throw new Error("Missing graph type class.");var a=e.getElements(t,v.a),r=e.getElements(t,y.a),n=(new DOMParser).parseFromString('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\x3c!--Created from Flap.js Web App 0.5.0--\x3e<structure></structure>',"application/xml"),s=n.querySelector("structure"),i=n.createElement("type");i.innerHTML="fa",s.appendChild(i);var o=n.createElement("automaton");s.appendChild(o);var l=new Map,c=0;for(var h of a){l.set(h.id,c);var u=n.createElement("state");u.id=String(c++),u.setAttribute("name",h.label),o.appendChild(u);var d=n.createElement("x");d.innerHTML=String(Math.round(100*h.x)/100||0),u.appendChild(d);var g=n.createElement("y");if(g.innerHTML=String(Math.round(100*h.y)/100||0),u.appendChild(g),h.initial){var m=n.createElement("initial");u.appendChild(m)}if(h.accept){var f=n.createElement("final");u.appendChild(f)}}for(var p of r){var b=l.get(p.fromId),S=l.get(p.toId);if("number"==typeof b&&"number"==typeof S){var E=p.label.split("\n");for(var _ of E){var w=n.createElement("transition");o.appendChild(w);var C=n.createElement("from");C.innerHTML=String(b),w.appendChild(C);var x=n.createElement("to");x.innerHTML=String(S),w.appendChild(x);var T=n.createElement("read");T.innerHTML=String(_),w.appendChild(T)}}}return(new XMLSerializer).serializeToString(n)}$RefreshReg$(Mr,"FiniteAutomataGraphExporter"),$RefreshReg$(Or,"FiniteAutomataJFLAP7Exporter");var $r,jr=$RefreshSig$();function kr(e){jr();var{svgRef:t}=Object(l.useContext)(Nr.a),a=Object(m.c)(),r=Object(m.b)(),[n,s]=Object(l.useState)("Untitled");return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{style:{margin:"1rem"}},"Export")),c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(20rem, 1fr))"}},c.a.createElement(bt,{title:"Export"},c.a.createElement(ua,{id:"fileName",value:n,onChange:e=>s(e.target.value)},"Enter filename"),c.a.createElement("ul",{style:{padding:0,listStyle:"none"}},c.a.createElement("li",null,c.a.createElement(Ba,{id:"exportGraph",onClick:()=>Dr(n,"graph",{graphType:a,graphState:r})},"Save to File")),c.a.createElement("li",null,c.a.createElement(Ba,{id:"exportJFLAP",onClick:()=>Dr(n,"jflap",{graphType:a,graphState:r})},"Export to JFF")),c.a.createElement("li",null,c.a.createElement(Ba,{id:"exportToImage",onClick:()=>Dr(n,"image",{svgRef:t})},"Export to Image")),c.a.createElement("li",null,c.a.createElement(Ba,{id:"exportToSVG",onClick:()=>Dr(n,"svg",{svgRef:t})},"Export to SVG"))))))}function Dr(e,t,a){switch(e||(e="Untitled"),t){case"image":Er.c(e+".png",Er.a,a.svgRef.current,640,480);break;case"svg":Er.c(e+".svg",Er.b,a.svgRef.current,640,480);break;case"graph":Er.d(e+".fa.json",Mr(a.graphType,a.graphState));break;case"jflap":Er.d(e+".jff",Or(a.graphType,a.graphState))}}jr(kr,"cl6NTfWm0xSJRG96Aj6E6wTgwGc=",!1,(function(){return[m.c,m.b]})),$r=kr,kr.Tab=Object(gt.a)(j.d),$RefreshReg$($r,"ExportPanel");var Fr,Lr=$RefreshSig$();function Ar(e){Lr();var{machineBuilderType:t}=e;return ae(t),c.a.createElement(c.a.Fragment,null)}Lr(Ar,"NOsby6jJFZYBhD4eTNQ6tGx6DoQ=",!1,(function(){return[ae]})),Fr=Ar,Ar.propTypes={machineBuilderType:A.a.elementType.isRequired},$RefreshReg$(Fr,"GraphMachineSource");var Pr,qr=$RefreshSig$();function Hr(e){qr();var{machineBuilderType:t}=e,a=ee(t),r=Object(l.useContext)(Sa.a),n=Object(l.useRef)([]);return Object(l.useEffect)(()=>{var e=[...a.errors,...a.warnings],s=t.name+".errors";if(function(e,t){if(e.length!==t.length)return!0;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!0;return!1}(n.current,e))for(var i of(r({type:"dismiss",tags:[s]}),n.current=[...e],n.current))i.type="send",Array.isArray(i.tags)||(i.tags=[]),i.tags.push(s),r(i)}),c.a.createElement(c.a.Fragment,null)}qr(Hr,"lbNvy16a+VNdPHymhE0iwch8KBs=",!1,(function(){return[ee]})),Pr=Hr,Hr.propTypes={machineBuilderType:A.a.elementType.isRequired},$RefreshReg$(Pr,"GraphMachineNotifier");var Br,Gr=a(57),Ur=a(92),Qr=a.n(Ur);function zr(e){var{className:t,style:a,placeholder:r,disabled:n,value:s,onChange:i}=e;return c.a.createElement("div",{className:"".concat(Qr.a.element," ").concat(t)},c.a.createElement("span",null,"("),c.a.createElement("textarea",{style:a,value:s,placeholder:r,disabled:n,onChange:i}),c.a.createElement("span",null,")"))}Br=zr,zr.propTypes={children:A.a.node,className:A.a.string,style:A.a.object,placeholder:A.a.string,disabled:A.a.bool,value:A.a.string,onChange:A.a.func},zr.defaultProps={value:""},$RefreshReg$(Br,"TextArea");var Vr,Jr=$RefreshSig$();function Xr(e){Jr();var{element:t,closeEditor:a}=e,r=Object(l.useContext)(h.a),[n,s]=Object(l.useState)(t.label),[i,o]=Object(l.useState)(t.final);return c.a.createElement("div",{onContextMenu:Kr},c.a.createElement(zr,{value:n,onChange:e=>s(e.target.value)}),c.a.createElement(At,{id:"acceptNodeSwitch",checked:i,onChange:e=>{t.final=e,t.markDirty(),o(t.final)}},"Accepted"),c.a.createElement(ea.a,{onClick:()=>{t.label=n,t.markDirty(),a()}},"Change Label"),c.a.createElement(ea.a,{onClick:()=>{r({type:"delete",elementType:v.a,elementId:t.id}),a()}},"Delete This"))}function Kr(e){return e.preventDefault(),e.stopPropagation(),!1}Jr(Xr,"qjXM0TxCvNlfKKQPSsWgNZjHFxA="),Vr=Xr,Xr.propTypes={element:A.a.object.isRequired,closeEditor:A.a.func.isRequired},$RefreshReg$(Vr,"FiniteAutomataNodeEditor");var Wr,Yr=$RefreshSig$();function Zr(e){Yr();var{element:t,closeEditor:a}=e,r=Object(l.useContext)(h.a),[n,s]=Object(l.useState)(t.label);return c.a.createElement("div",{onContextMenu:en},c.a.createElement(zr,{value:n,onChange:e=>s(e.target.value)}),c.a.createElement(ea.a,{onClick:()=>{t.label=n,t.markDirty(),a()}},"Submit"),c.a.createElement(ea.a,{onClick:()=>{r({type:"delete",elementType:y.a,elementId:t.id}),a()}},"Delete This"))}function en(e){return e.preventDefault(),e.stopPropagation(),!1}Yr(Zr,"1OK2nrrLNXoVzC9oz0QeNcJ0Y+I="),Wr=Zr,Zr.propTypes={element:A.a.object.isRequired,closeEditor:A.a.func.isRequired},$RefreshReg$(Wr,"FiniteAutomataEdgeEditor");var tn=$RefreshSig$();function an(e){tn();var{elementType:t,elementId:a,closeEditor:r}=Object(l.useContext)(it.a),n=Object(Qe.a)(),s=Object(ze.a)(t,a,n);return c.a.createElement(Gr.a,null,s&&(t===v.a?c.a.createElement(Xr,{element:s,closeEditor:r}):c.a.createElement(Zr,{element:s,closeEditor:r})))}tn(an,"nrfcqwGL0t8f2x1LbLioBFSJdv0=",!1,(function(){return[Qe.a,ze.a]})),$RefreshReg$(an,"FiniteAutomataGraphEditor");class rn extends r.a{static get moduleId(){return"fa"}static get moduleVersion(){return"4.0.0"}static get providers(){return[]}static get renders(){return{header:[ht,dt],appbar:[F],playarea:[[Ar,{machineBuilderType:Ne}],[Hr,{machineBuilderType:Ne}]],viewarea:[],drawer:[ya,Ir,Qa,kr]}}static get services(){return[i.a,s.a.withInitialMessages(["Hello"]),n.a.withGraphType(b,lt,an),o.a]}}}}]);